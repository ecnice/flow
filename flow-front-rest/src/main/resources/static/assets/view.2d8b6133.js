var k=Object.defineProperty;var x=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var l=(s,o,e)=>o in s?k(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e,B=(s,o)=>{for(var e in o||(o={}))h.call(o,e)&&l(s,e,o[e]);if(x)for(var e of x(o))F.call(o,e)&&l(s,e,o[e]);return s};var _=(s,o,e)=>new Promise((i,a)=>{var p=t=>{try{r(e.next(t))}catch(c){a(c)}},n=t=>{try{r(e.throw(t))}catch(c){a(c)}},r=t=>t.done?i(t.value):Promise.resolve(t.value).then(p,n);r((e=e.apply(s,o)).next())});import{P as g}from"./index.a7d13475.js";import{A as H,aS as V,bA as C,a_ as b,bb as A,ar as D,bv as m,r as v,a as R,u as j,_ as $,$ as E,a0 as d,B as y,a1 as w,a5 as u,w as f,H as P,ak as M,ad as W}from"./vendor.5eb38889.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                */import{P as N}from"./index.c0623dc2.js";import S from"./ActionButtons.315d807b.js";import I from"./BaseActionButtons.95df3750.js";import K from"./ProcessBackButton.1020d51a.js";import L from"./ApproveActionButtons.be2c7781.js";import T from"./ApprovalHistory.90869bef.js";import q from"./ProcessHeader.a8ef199e.js";import{_ as z,r as G,h as O}from"./index.eb81839e.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.e269959a.js";import"./useContentViewHeight.2add70b5.js";import"./index.f5e2e0c3.js";import"./useForm.ae28d85e.js";/* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css                */import"./index.a8dc01b1.js";import"./index.df597b92.js";import"./download.29d0d464.js";import"./index.3a95e68c.js";/* empty css                */import"./process.b4fbb99a.js";import"./index.65f3edd6.js";import"./index.d9514b5c.js";/* empty css                *//* empty css                */import"./index.7772efb2.js";import"./Viewer.3f58b0b7.js";/* empty css                */import"./FlowDiagramModal.184da465.js";const J=H({components:B({Button:V,LeftOutlined:C,ProcessHeader:q,PageWrapper:g,[b.name]:b,[A.name]:A,AEmpty:D,[m.name]:m,[m.Item.name]:m.Item,ActionButtons:S,BaseActionButtons:I,ApproveActionButtons:L,ApprovalHistory:T,ProcessBackButton:K},N),setup(){const s=v(""),o=v(null),{createMessage:e}=O(),i=G(),{currentRoute:a}=R(),{params:{modelKey:p},query:{businessKey:n}}=j(a);s.value=p;function r(){history.state.back?history.back():i("/process/todo")}$(()=>{E(()=>{n&&j(o).initProcessForm(n)})});function t(){return _(this,null,function*(){yield j(o).doSubmit(),e.success("\u63D0\u4EA4\u6210\u529F\uFF01"),i("/process/launched")})}return{currentView:s,processFormRef:o,doBack:r,doLaunch:t}}}),Q=W(" \u6D41\u7A0B\u67E5\u770B "),U={class:"m-1 desc-wrap"},X={class:"m-4 desc-wrap"};function Y(s,o,e,i,a,p){const n=d("ProcessBackButton"),r=d("BaseActionButtons"),t=d("ApprovalHistory"),c=d("PageWrapper");return y(),w(c,{contentBackground:"",class:"!mt-4"},{title:u(()=>[f(n),Q,f(r)]),extra:u(()=>[]),footer:u(()=>[]),default:u(()=>[P("div",U,[(y(),w(M(s.currentView),{ref:"processFormRef"},null,512))]),P("div",X,[f(t,{ref:"approvalHistoryRef"},null,512)])]),_:1})}var Ie=z(J,[["render",Y]]);export{Ie as default};
