var f=(n,c,t)=>new Promise((r,s)=>{var l=e=>{try{a(t.next(e))}catch(i){s(i)}},o=e=>{try{a(t.throw(e))}catch(i){s(i)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,o);a((t=t.apply(n,c)).next())});import{A as _,aP as m,r as d,_ as v,a0 as h,bo as g,F as T,B as b,D as B,w as D,$ as j,u as p}from"./vendor.5879c5ca.js";import{_ as x}from"./Tree.vue_vue_type_style_index_0_lang.128b82eb.js";import{a as y}from"./dept.2ea41d4f.js";import{_ as $,bd as k}from"./index.e84e956c.js";import"./useContextMenu.44cd9a61.js";/* empty css               */const w=_({name:"OrgTree",components:{BasicTree:x,Spin:m},emits:["select"],setup(n,{emit:c}){const t=d([]),r=d(!1),s=d(null);function l(){return f(this,null,function*(){r.value=!0,y().then(a=>{t.value=a,j(()=>{var e;p(t).length<10&&((e=p(s))==null||e.filterByLevel(1))})}).finally(()=>{r.value=!1})})}function o(a,e){const i=k(t.value,u=>u.id===a[0],{id:"id",pid:"pid",children:"children"});c("select",i)}return v(()=>{l()}),{treeData:t,treeLoading:r,basicTreeRef:s,handleSelect:o}}}),C={class:"org-tree bg-white m-4 mr-0 overflow-hidden"};function S(n,c,t,r,s,l){const o=h("BasicTree"),a=g("loading");return T((b(),B("div",C,[D(o,{title:"\u7EC4\u7EC7",toolbar:"",search:"",clickRowToExpand:!1,treeData:n.treeData,replaceFields:{key:"id",title:"shortName"},onSelect:n.handleSelect,ref:"basicTreeRef"},null,8,["treeData","onSelect"])],512)),[[a,n.treeLoading]])}var A=$(w,[["render",S]]);export{A as default};
