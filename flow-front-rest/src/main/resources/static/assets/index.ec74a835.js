import{P as e}from"./index.55f1fb99.js";import{y as a,aX as o,b6 as s,am as t,bn as r,r as n,a as i,u as d,Z as l,av as p,G as c,B as m,F as u,a1 as f,v}from"./vendor.3dc066e5.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{g as j,h as b}from"./useForm.6952a806.js";import{ak as x,ag as h,h as y,f as P}from"./index.f77a0916.js";import g from"./ProcessHeader.5bab29be.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.c01d8630.js";import"./useWindowSizeFn.308e6090.js";import"./useContentViewHeight.0ff5ff24.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index.d12a2c0f.js";import"./index.f892cb46.js";import"./download.36d5ff94.js";import"./index.932a5062.js";/* empty css              */import"./process.99e51905.js";const F=[{field:"applyerCode",component:"Input",label:"申请人",colProps:{span:8},show:!1},{field:"type",component:"Select",label:"类型",required:!0,colProps:{style:"width: 300px",span:20},componentProps:{options:[{label:"调休",value:"1",key:"1"},{label:"事假",value:"2",key:"2"},{label:"年假",value:"3",key:"3"}]}},{field:"startTime",component:"DatePicker",label:"开始时间",required:!0,colProps:{span:6}},{field:"endTime",component:"DatePicker",label:"结束时间",required:!0,colProps:{span:6}},{field:"days",component:"InputNumber",label:"请假天数",required:!0,colProps:{span:24}},{field:"note",component:"InputTextArea",label:"说明",required:!0,colProps:{span:13}}];var I,k;(k=I||(I={})).GetLeaveById="/front/hr/attendance/getLeaveById",k.AddLeave="/front/hr/attendance/addLeave";var w=a({components:{ProcessHeader:g,PageWrapper:e,[o.name]:o,[s.name]:s,AEmpty:t,[r.name]:r,[r.Item.name]:r.Item,BasicForm:j,CollapseContainer:h},setup(){const e=n(null),a=n(!1),{createMessage:o}=y(),{currentRoute:s}=i(),{path:t,params:{modelKey:r}}=d(s),[l,{setProps:p,resetFields:c,updateSchema:m,setFieldsValue:u,validate:f}]=b({labelWidth:100,schemas:F,showActionButtonGroup:!1,actionColOptions:{span:24}});return{registerForm:l,handleSubmit:e=>{o.success("click search,values:"+JSON.stringify(e))},check:e,doSubmit:function(){return e=this,o=null,s=function*(){const e=yield f(),o=P(),{getUserInfo:s}=o;e.applyerCode=s.code;try{a.value=!0,yield(t=e,x.post({url:I.AddLeave,params:t}))}finally{a.value=!1}var t},new Promise(((a,t)=>{var r=e=>{try{i(s.next(e))}catch(a){t(a)}},n=e=>{try{i(s.throw(e))}catch(a){t(a)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,n);i((s=s.apply(e,o)).next())}));var e,o,s},initProcessForm:function(e){var a;e&&(a=e,x.get({url:I.GetLeaveById+"/"+a,params:{}})).then((e=>{u(e)})),-1===t.indexOf("/process/launch")&&p({disabled:!0})}}}});const C=v("div",{class:"font-bold"},"基本信息",-1);w.render=function(e,a,o,s,t,r){const n=l("BasicForm"),i=l("CollapseContainer"),d=p("loading");return c((m(),u(i,{canExpan:!1},{title:f((()=>[C])),default:f((()=>[v(n,{onRegister:e.registerForm},null,8,["onRegister"])])),_:1},512)),[[d,e.formLoading]])};export default w;
