import{A as _,aO as g,r,j as v,u as i,_ as h,a0 as y,B as S,D as w,w as x,a5 as C,H as $,K as u,X as d,$ as z}from"./vendor.5eb38889.js";import{_ as H,p as W,a as j,ae as B}from"./index.eb81839e.js";import{u as E}from"./useWindowSizeFn.e269959a.js";const F=_({name:"IFrame",components:{Spin:g},props:{frameSrc:W.string.def("")},setup(){const e=r(!1),l=r(50),o=r(window.innerHeight),t=r(null),{prefixCls:p}=j("iframe-page");E(s,150,{immediate:!0});const c=v(()=>({height:`${i(o)}px`}));function s(){const n=i(t);if(!n)return;let{top:a}=B(n);a+=20,l.value=a,o.value=window.innerHeight-a,document.documentElement.clientHeight-a,n.style.height="100%"}function f(){e.value=!1,s()}function m(){z(()=>{const n=i(t);if(!n)return;const a=n;a.attachEvent?a.attachEvent("onload",()=>{f()}):n.onload=()=>{f()}})}return h(()=>{e.value=!0,m()}),{getWrapStyle:c,loading:e,frameRef:t,prefixCls:p}}}),R=["src"];function k(e,l,o,t,p,c){const s=y("Spin");return S(),w("div",{class:u(e.prefixCls),style:d(e.getWrapStyle)},[x(s,{wrapperClassName:"custom-spin-container",spinning:e.loading,size:"large",style:d(e.getWrapStyle)},{default:C(()=>[$("iframe",{src:e.frameSrc,class:u(`${e.prefixCls}__main`),ref:"frameRef"},null,10,R)]),_:1},8,["spinning","style"])],6)}var D=H(F,[["render",k],["__scopeId","data-v-014eff21"]]);export{D as default};
