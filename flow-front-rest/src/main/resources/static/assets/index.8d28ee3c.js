var y=(_,l,r)=>new Promise((t,c)=>{var u=e=>{try{i(r.next(e))}catch(a){c(a)}},p=e=>{try{i(r.throw(e))}catch(a){c(a)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(u,p);i((r=r.apply(_,l)).next())});import{A as v,r as h,S as C,$ as E,n as D,a0 as k,B as j,D as x,aa as R,ao as S,F as A,G as B,w as s,u as o,a5 as n,ad as b,J as g}from"./vendor.5eb38889.js";import I from"./DetailModal.b9c0a9c5.js";import{B as V}from"./TableImg.d5685aba.js";import{T as F}from"./useForm.ae28d85e.js";import{u as M}from"./useTable.91f058b1.js";import{u as $}from"./index.df597b92.js";import{e as N,am as z}from"./index.eb81839e.js";import{getColumns as G}from"./data.3956b4ca.js";import"./index.e4c7ced1.js";/* empty css                *//* empty css              */import"./index.a7d13475.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.e269959a.js";import"./useContentViewHeight.2add70b5.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./useSortable.76e865c9.js";/* empty css                *//* empty css               *//* empty css               */import"./index.a8dc01b1.js";import"./download.29d0d464.js";import"./index.3a95e68c.js";const H={class:"p-4"},J=["src"],_e=v({setup(_){const l=h(),r=h([]),{t}=N(),c=z(),[u,{setTableData:p}]=M({title:t("sys.errorLog.tableTitle"),columns:G(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[i,{openModal:e}]=$();C(()=>c.getErrorLogInfoList,m=>{E(()=>{p(D(m))})},{immediate:!0});function a(m){l.value=m,e(!0)}function w(){throw new Error("fire vue error!")}function L(){r.value.push(`${new Date().getTime()}.png`)}function T(){return y(this,null,function*(){})}return(m,W)=>{const f=k("a-button");return j(),x("div",H,[(j(!0),x(R,null,S(r.value,d=>A((j(),x("img",{key:d,src:d},null,8,J)),[[B,!1]])),128)),s(I,{info:l.value,onRegister:o(i)},null,8,["info","onRegister"]),s(o(V),{onRegister:o(u),class:"error-handle-table"},{toolbar:n(()=>[s(f,{onClick:w,type:"primary"},{default:n(()=>[b(g(o(t)("sys.errorLog.fireVueError")),1)]),_:1}),s(f,{onClick:L,type:"primary"},{default:n(()=>[b(g(o(t)("sys.errorLog.fireResourceError")),1)]),_:1}),s(f,{onClick:T,type:"primary"},{default:n(()=>[b(g(o(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:n(({record:d})=>[s(o(F),{actions:[{label:o(t)("sys.errorLog.tableActionDesc"),onClick:a.bind(null,d)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{_e as default};
