var y=(c,m,o)=>new Promise((t,d)=>{var u=e=>{try{s(o.next(e))}catch(a){d(a)}},f=e=>{try{s(o.throw(e))}catch(a){d(a)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(u,f);s((o=o.apply(c,m)).next())});import{A as L,r as h,S as T,$ as D,n as k,a0 as A,B as b,D as x,ab as R,ap as S,F as B,G as F,w as i,u as r,a6 as n,ae as g,J as _}from"./vendor.5879c5ca.js";import I from"./DetailModal.f1da845b.js";import{B as V}from"./TableImg.513742d5.js";import{T as M}from"./BasicForm.0ba2e15f.js";import{u as $}from"./useTable.6e5baa13.js";import{b as H}from"./index.c505e96f.js";import{ax as N,b as z,b8 as G}from"./index.e84e956c.js";import{getColumns as J}from"./data.0ca4bee8.js";import"./index.267d207b.js";/* empty css                */import"./useDescription.c41f073f.js";/* empty css                *//* empty css              */import"./useForm.696aa965.js";import"./index.ea14bdae.js";/* empty css                *//* empty css                */import"./useWindowSizeFn.6a6adedd.js";import"./useContentViewHeight.ccc8749b.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.2b29000c.js";/* empty css               */import"./useSortable.a10c06e7.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.8b70aabd.js";/* empty css                *//* empty css                *//* empty css                */import"./download.e6dbd100.js";import"./base64Conver.bb012c73.js";import"./index.e83a4b09.js";var w;(function(c){c.Error="/error"})(w||(w={}));const W=()=>N.get({url:w.Error}),q={class:"p-4"},K=["src"],Re=L({setup(c){const m=h(),o=h([]),{t}=z(),d=G(),[u,{setTableData:f}]=$({title:t("sys.errorLog.tableTitle"),columns:J(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[s,{openModal:e}]=H();T(()=>d.getErrorLogInfoList,l=>{D(()=>{f(k(l))})},{immediate:!0});function a(l){m.value=l,e(!0)}function E(){throw new Error("fire vue error!")}function v(){o.value.push(`${new Date().getTime()}.png`)}function C(){return y(this,null,function*(){yield W()})}return(l,O)=>{const j=A("a-button");return b(),x("div",q,[(b(!0),x(R,null,S(o.value,p=>B((b(),x("img",{key:p,src:p},null,8,K)),[[F,!1]])),128)),i(I,{info:m.value,onRegister:r(s)},null,8,["info","onRegister"]),i(r(V),{onRegister:r(u),class:"error-handle-table"},{toolbar:n(()=>[i(j,{onClick:E,type:"primary"},{default:n(()=>[g(_(r(t)("sys.errorLog.fireVueError")),1)]),_:1}),i(j,{onClick:v,type:"primary"},{default:n(()=>[g(_(r(t)("sys.errorLog.fireResourceError")),1)]),_:1}),i(j,{onClick:C,type:"primary"},{default:n(()=>[g(_(r(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:n(({record:p})=>[i(r(M),{actions:[{label:r(t)("sys.errorLog.tableActionDesc"),onClick:a.bind(null,p)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{Re as default};
