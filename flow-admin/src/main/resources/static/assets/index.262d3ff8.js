var j=(e,m,t)=>new Promise((r,u)=>{var a=o=>{try{n(t.next(o))}catch(s){u(s)}},d=o=>{try{n(t.throw(o))}catch(s){u(s)}},n=o=>o.done?r(o.value):Promise.resolve(o.value).then(a,d);n((t=t.apply(e,m)).next())});import{B as C}from"./TableImg.73863b69.js";import{T as _}from"./BasicForm.6afa01de.js";import{u as E}from"./useTable.7c1e4a10.js";import{b as L}from"./index.30115123.js";import{L as T,g as w,c as B,s as A,d as b}from"./LoginLogModal.ac1d85d6.js";import{_ as F,h as S}from"./index.9eb02b52.js";import{P as D}from"./perEnum.9a5ef72f.js";import{A as M}from"./index.c6b8a214.js";import{A as y,a0 as c,B as v,D as R,w as l,a6 as p,ae as k}from"./vendor.7bee64cc.js";/* empty css                *//* empty css              */import"./useForm.1fd322f5.js";import"./index.77f474a0.js";/* empty css                *//* empty css                */import"./useWindowSizeFn.30e15ddc.js";import"./useContentViewHeight.52836077.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.2b29000c.js";/* empty css               */import"./useSortable.dd731734.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.1445cecb.js";/* empty css                *//* empty css                *//* empty css                */import"./download.78bd314d.js";import"./base64Conver.bb012c73.js";import"./index.83641cbd.js";const $=y({name:"LoginLog",components:{BasicTable:C,TableAction:_,LoginLogModal:T,Authority:M},setup(){const{createMessage:e,createConfirm:m}=S(),[t,{openModal:r}]=L(),[u,{reload:a,getSelectRows:d}]=E({title:"\u5217\u8868",api:w,columns:B,formConfig:{labelWidth:120,schemas:A,showAdvancedButton:!1,showResetButton:!1,autoSubmitOnEnter:!0},rowSelection:{type:"checkbox",columnWidth:30},canColDrag:!0,useSearchForm:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:60,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:!1}});function n(){r(!0,{isUpdate:!1})}function o(i){r(!0,{record:i,isUpdate:!0})}function s(i){b([i.id]).then(()=>{a()})}function f(){const i=d();if(i&&i.length<=0){e.warn("\u8BF7\u9009\u62E9\u884C\uFF01");return}m({iconType:"warning",title:"\u63D0\u793A",content:"\u786E\u5B9A\u8981\u5220\u9664\u6240\u9009\u884C\u5417\uFF1F",onOk:()=>j(this,null,function*(){const h=i.map(x=>x.id);yield b(h).then(()=>{a()})})})}function g(){a()}return{PerEnum:D,registerTable:u,registerModal:t,handleCreate:n,handleEdit:o,handleDelete:s,handleDeleteAll:f,handleSuccess:g}}}),P=k(" \u5220\u9664 ");function I(e,m,t,r,u,a){const d=c("a-button"),n=c("Authority"),o=c("TableAction"),s=c("BasicTable"),f=c("LoginLogModal");return v(),R("div",null,[l(s,{onRegister:e.registerTable},{toolbar:p(()=>[l(n,{value:this.$options.name+":"+e.PerEnum.DELETE},{default:p(()=>[l(d,{type:"danger",onClick:e.handleDeleteAll},{default:p(()=>[P]),_:1},8,["onClick"])]),_:1},8,["value"])]),action:p(({record:g})=>[l(o,{actions:[{tooltip:"\u5220\u9664",auth:this.$options.name+":"+e.PerEnum.DELETE,icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:e.handleDelete.bind(null,g)}}]},null,8,["actions"])]),_:1},8,["onRegister"]),l(f,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])}var Ce=F($,[["render",I]]);export{Ce as default};
