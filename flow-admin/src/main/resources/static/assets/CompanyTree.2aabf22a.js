var f=(a,c,t)=>new Promise((o,s)=>{var l=e=>{try{n(t.next(e))}catch(i){s(i)}},r=e=>{try{n(t.throw(e))}catch(i){s(i)}},n=e=>e.done?o(e.value):Promise.resolve(e.value).then(l,r);n((t=t.apply(a,c)).next())});import{A as u,aP as _,r as d,_ as v,a0 as h,bo as y,F as T,B as b,D as g,w as B,$ as C,u as p}from"./vendor.7bee64cc.js";import{_ as D}from"./Tree.vue_vue&type=style&index=0&lang.43e63f89.js";import{g as j}from"./company.ef0c9563.js";import{_ as x,bd as $}from"./index.9eb02b52.js";import"./useContextMenu.e899090d.js";/* empty css               */const k=u({name:"CompanyTree",components:{BasicTree:D,Spin:_},emits:["select"],setup(a,{emit:c}){const t=d([]),o=d(!1),s=d(null);function l(){return f(this,null,function*(){o.value=!0,j().then(n=>{t.value=n,C(()=>{var e;p(t).length<10&&((e=p(s))==null||e.filterByLevel(1))})}).finally(()=>{o.value=!1})})}function r(n,e){const i=$(t.value,m=>m.id===n[0],{id:"id",pid:"pid",children:"children"});c("select",i)}return v(()=>{l()}),{treeData:t,treeLoading:o,basicTreeRef:s,handleSelect:r}}}),w={class:"company-tree bg-white m-4 mr-0 overflow-hidden"};function S(a,c,t,o,s,l){const r=h("BasicTree"),n=y("loading");return T((b(),g("div",w,[B(r,{title:"\u516C\u53F8",toolbar:"",search:"",clickRowToExpand:!1,treeData:a.treeData,replaceFields:{key:"id",title:"shortName"},onSelect:a.handleSelect,ref:"basicTreeRef"},null,8,["treeData","onSelect"])],512)),[[n,a.treeLoading]])}var P=x(k,[["render",S]]);export{P as default};
