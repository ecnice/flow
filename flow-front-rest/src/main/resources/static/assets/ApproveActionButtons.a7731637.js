import{y as e,aM as a,bY as o,bX as s,bZ as t,r as n,a as r,u as p,aj as i,Z as d,B as c,F as l,a1 as u,v as m,a8 as f}from"./vendor.3dc066e5.js";/* empty css              *//* empty css              */import{u as v}from"./index.b437b00c.js";import{c as g,s as x}from"./process.424afad8.js";import{r as b,h as A}from"./index.b41e2c0e.js";import"./useWindowSizeFn.308e6090.js";const{TextArea:I}=i;var j=e({name:"BaseActionButtons",components:{Button:a,ApartmentOutlined:o,Space:s,Affix:t,TextArea:I},setup(e,{emit:a}){const[o,{openModal:s,setModalProps:t}]=v(),i=n(0),{createMessage:d}=A(),c=n(""),l=n(!1),u=b(),{currentRoute:m}=r(),{query:{taskId:f,procInstId:I}}=p(m);return{bottom:i,approveMsg:c,registerFlowDiagramModal:o,approveBtnLoading:l,doApprove:function(){l.value=!0,g({taskId:f,processInstanceId:I,message:c.value}).then((e=>{d.success("审批成功！"),u("/process/todo")})).catch((()=>{})).finally((()=>{l.value=!1}))},doStop:function(){l.value=!0,x({taskId:f,processInstanceId:I,message:c.value}).then((e=>{d.success("操作成功！"),u("/process/todo")})).catch((()=>{})).finally((()=>{l.value=!1}))}}}});const B={class:"approve-options"},M=f(" 同意 "),k=f(" 拒绝 ");j.render=function(e,a,o,s,t,n){const r=d("TextArea"),p=d("Button"),i=d("Space"),f=d("Affix");return c(),l(f,{"offset-bottom":e.bottom},{default:u((()=>[m("div",B,[m(r,{value:e.approveMsg,"onUpdate:value":a[1]||(a[1]=a=>e.approveMsg=a),placeholder:"请输入审批意见！","auto-size":{minRows:2,maxRows:3}},null,8,["value"]),m(i,{class:"mt-2"},{default:u((()=>[m(p,{title:"审批",type:"primary",onClick:e.doApprove,loading:e.approveBtnLoading},{default:u((()=>[M])),_:1},8,["onClick","loading"]),m(p,{title:"拒绝",type:"danger",onClick:e.doStop,loading:e.approveBtnLoading},{default:u((()=>[k])),_:1},8,["onClick","loading"])])),_:1})])])),_:1},8,["offset-bottom"])};export default j;
