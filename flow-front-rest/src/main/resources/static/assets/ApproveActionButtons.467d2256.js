import{A as C,aS as x,c3 as h,c2 as M,c4 as y,r as i,a as D,u as I,a0 as n,B as j,a1 as k,a5 as u,H as S,w as r,an as b,ad as v}from"./vendor.ff87b2f6.js";/* empty css                *//* empty css                */import{u as w}from"./index.a7a3ce99.js";import{c as R,s as T}from"./process.b67203d4.js";import{_ as $,r as L,h as N}from"./index.960d5979.js";import"./useWindowSizeFn.adc1d865.js";const{TextArea:V}=b,z=C({name:"BaseActionButtons",components:{Button:x,ApartmentOutlined:h,Space:M,Affix:y,TextArea:V},setup(e,{emit:p}){const[d,{openModal:_,setModalProps:g}]=w(),l=i(0),{createMessage:t}=N(),s=i(""),o=i(!1),a=L(),{currentRoute:c}=D(),{query:{taskId:f,procInstId:m}}=I(c);function A(){o.value=!0,R({taskId:f,processInstanceId:m,message:s.value}).then(F=>{t.success("\u5BA1\u6279\u6210\u529F\uFF01"),a("/process/todo")}).catch(()=>{}).finally(()=>{o.value=!1})}function B(){o.value=!0,T({taskId:f,processInstanceId:m,message:s.value}).then(F=>{t.success("\u64CD\u4F5C\u6210\u529F\uFF01"),a("/process/todo")}).catch(()=>{}).finally(()=>{o.value=!1})}return{bottom:l,approveMsg:s,registerFlowDiagramModal:d,approveBtnLoading:o,doApprove:A,doStop:B}}}),E={class:"approve-options"},P=v(" \u540C\u610F "),q=v(" \u62D2\u7EDD ");function G(e,p,d,_,g,l){const t=n("TextArea"),s=n("Button"),o=n("Space"),a=n("Affix");return j(),k(a,{"offset-bottom":e.bottom},{default:u(()=>[S("div",E,[r(t,{value:e.approveMsg,"onUpdate:value":p[0]||(p[0]=c=>e.approveMsg=c),placeholder:"\u8BF7\u8F93\u5165\u5BA1\u6279\u610F\u89C1\uFF01","auto-size":{minRows:2,maxRows:3}},null,8,["value"]),r(o,{class:"mt-2"},{default:u(()=>[r(s,{title:"\u5BA1\u6279",type:"primary",onClick:e.doApprove,loading:e.approveBtnLoading},{default:u(()=>[P]),_:1},8,["onClick","loading"]),r(s,{title:"\u62D2\u7EDD",type:"danger",onClick:e.doStop,loading:e.approveBtnLoading},{default:u(()=>[q]),_:1},8,["onClick","loading"])]),_:1})])]),_:1},8,["offset-bottom"])}var X=$(z,[["render",G]]);export{X as default};
