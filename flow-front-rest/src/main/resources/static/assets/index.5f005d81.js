var f=(e,r,s)=>new Promise((d,n)=>{var l=o=>{try{t(s.next(o))}catch(u){n(u)}},i=o=>{try{t(s.throw(o))}catch(u){n(u)}},t=o=>o.done?d(o.value):Promise.resolve(o.value).then(l,i);t((s=s.apply(e,r)).next())});import{P}from"./index.b9ed8d58.js";import{A as w,a_ as v,bb as b,ar as L,bv as p,r as j,a as I,u as k,a0 as F,bn as E,F as S,B as A,a1 as D,a5 as x,w as q,H}from"./vendor.ff87b2f6.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                */import{B as N,h as R}from"./useForm.c1b857a2.js";import{al as h,_ as V,ah as $,h as G,f as O}from"./index.960d5979.js";import T from"./ProcessHeader.0feb424b.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.adc1d865.js";import"./useContentViewHeight.80426e5c.js";/* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css                */import"./index.5446b84b.js";import"./index.a7a3ce99.js";import"./download.feb3ddd8.js";import"./index.02ff7e35.js";/* empty css                */import"./process.b67203d4.js";const W=[{field:"applyerCode",component:"Input",label:"\u7533\u8BF7\u4EBA",colProps:{span:8},show:!1},{field:"type",component:"Select",label:"\u7C7B\u578B",required:!0,colProps:{style:"width: 300px",span:20},componentProps:{options:[{label:"\u8C03\u4F11",value:"1",key:"1"},{label:"\u4E8B\u5047",value:"2",key:"2"},{label:"\u5E74\u5047",value:"3",key:"3"}]}},{field:"startTime",component:"DatePicker",label:"\u5F00\u59CB\u65F6\u95F4",required:!0,colProps:{span:6}},{field:"endTime",component:"DatePicker",label:"\u7ED3\u675F\u65F6\u95F4",required:!0,colProps:{span:6}},{field:"days",component:"InputNumber",label:"\u8BF7\u5047\u5929\u6570",required:!0,colProps:{span:24}},{field:"note",component:"InputTextArea",label:"\u8BF4\u660E",required:!0,colProps:{span:13}}];var c;(function(e){e.GetLeaveById="/front/hr/attendance/getLeaveById",e.AddLeave="/front/hr/attendance/addLeave"})(c||(c={}));function M(e){return h.get({url:c.GetLeaveById+"/"+e,params:{}})}function U(e){return h.post({url:c.AddLeave,params:e})}const z=w({components:{ProcessHeader:T,PageWrapper:P,[v.name]:v,[b.name]:b,AEmpty:L,[p.name]:p,[p.Item.name]:p.Item,BasicForm:N,CollapseContainer:$},setup(){const e=j(null),r=j(!1),{createMessage:s}=G(),{currentRoute:d}=I(),{path:n,params:{modelKey:l}}=k(d),[i,{setProps:t,resetFields:o,updateSchema:u,setFieldsValue:B,validate:y}]=R({labelWidth:100,schemas:W,showActionButtonGroup:!1,actionColOptions:{span:24}});function C(a){a&&M(a).then(m=>{B(m)}),n.indexOf("/process/launch")===-1&&t({disabled:!0})}function g(){return f(this,null,function*(){const a=yield y(),m=O(),{getUserInfo:_}=m;a.applyerCode=_.code;try{r.value=!0,yield U(a)}finally{r.value=!1}})}return{registerForm:i,handleSubmit:a=>{s.success("click search,values:"+JSON.stringify(a))},check:e,doSubmit:g,initProcessForm:C}}}),J=H("div",{class:"font-bold"},"\u57FA\u672C\u4FE1\u606F",-1);function K(e,r,s,d,n,l){const i=F("BasicForm"),t=F("CollapseContainer"),o=E("loading");return S((A(),D(t,{canExpan:!1},{title:x(()=>[J]),default:x(()=>[q(i,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},512)),[[o,e.formLoading]])}var ye=V(z,[["render",K]]);export{ye as default};
