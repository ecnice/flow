var e=Object.defineProperty,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(r,o,t)=>o in r?e(r,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[o]=t;import{P as a}from"./index.3e5e5108.js";import{y as i,aM as n,bt as d,aX as p,b6 as m,am as c,bn as u,r as f,a as j,u as l,X as b,Y as x,Z as v,B as y,F as B,a1 as P,v as w,ag as A,a8 as h}from"./vendor.3dc066e5.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{P as g}from"./index.1492d66b.js";import O from"./ActionButtons.dbab11d6.js";import k from"./BaseActionButtons.df9b0bb5.js";import F from"./ProcessBackButton.1f7f8f84.js";import H from"./ApproveActionButtons.a7731637.js";import M from"./ApprovalHistory.d1a44fbe.js";import R from"./ProcessHeader.d2074b3d.js";import{r as V,h as I}from"./index.b41e2c0e.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.c01d8630.js";import"./useWindowSizeFn.308e6090.js";import"./useContentViewHeight.16e0f08b.js";import"./index.0494096e.js";import"./useForm.d555d56b.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index.82d0d758.js";import"./index.b437b00c.js";import"./download.55ddd36a.js";import"./index.c14dc721.js";/* empty css              */import"./process.424afad8.js";import"./index.3edae848.js";import"./index.f13e7c38.js";/* empty css              *//* empty css              */import"./index.60785bf0.js";import"./Viewer.06f57865.js";/* empty css              */import"./FlowDiagramModal.cd13b740.js";var S=i({components:((e,a)=>{for(var i in a||(a={}))o.call(a,i)&&s(e,i,a[i]);if(r)for(var i of r(a))t.call(a,i)&&s(e,i,a[i]);return e})({Button:n,LeftOutlined:d,ProcessHeader:R,PageWrapper:a,[p.name]:p,[m.name]:m,AEmpty:c,[u.name]:u,[u.Item.name]:u.Item,ActionButtons:O,BaseActionButtons:k,ApproveActionButtons:H,ApprovalHistory:M,ProcessBackButton:F},g),setup(){const e=f(""),r=f(null),{createMessage:o}=I(),t=V(),{currentRoute:s}=j(),{params:{modelKey:a},query:{businessKey:i}}=l(s);return e.value=a,b((()=>{x((()=>{i&&l(r).initProcessForm(i)}))})),{currentView:e,processFormRef:r,doBack:function(){history.state.back?history.back():t("/process/todo")},doLaunch:function(){return e=this,s=null,a=function*(){yield l(r).doSubmit(),o.success("提交成功！"),t("/process/launched")},new Promise(((r,o)=>{var t=e=>{try{n(a.next(e))}catch(r){o(r)}},i=e=>{try{n(a.throw(e))}catch(r){o(r)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(t,i);n((a=a.apply(e,s)).next())}));var e,s,a}}}});const W=h(" 流程查看 "),E={class:"m-1 desc-wrap"},K={class:"m-4 desc-wrap"};S.render=function(e,r,o,t,s,a){const i=v("ProcessBackButton"),n=v("BaseActionButtons"),d=v("ApprovalHistory"),p=v("PageWrapper");return y(),B(p,{contentBackground:"",class:"!mt-4"},{title:P((()=>[w(i),W,w(n)])),extra:P((()=>[])),footer:P((()=>[])),default:P((()=>[w("div",E,[(y(),B(A(e.currentView),{ref:"processFormRef"},null,512))]),w("div",K,[w(d,{ref:"approvalHistoryRef"},null,512)])])),_:1})};export default S;
