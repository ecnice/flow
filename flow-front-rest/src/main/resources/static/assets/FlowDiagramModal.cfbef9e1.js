var u=(s,d,o)=>new Promise((c,a)=>{var n=e=>{try{r(o.next(e))}catch(i){a(i)}},t=e=>{try{r(o.throw(e))}catch(i){a(i)}},r=e=>e.done?c(e.value):Promise.resolve(e.value).then(n,t);r((o=o.apply(s,d)).next())});import{B as b,b as B}from"./index.a7a3ce99.js";import{A as _,r as l,a as v,u as p,$ as w,j,a0 as $,B as h,a1 as k,a5 as V,H as y,a4 as C}from"./vendor.ff87b2f6.js";import{V as F}from"./Viewer.3f58b0b7.js";import{l as R}from"./process.b67203d4.js";import{_ as x}from"./index.960d5979.js";import"./useWindowSizeFn.adc1d865.js";const E=_({name:"FlowDiagramModal",components:{BasicModal:b},emits:["success","register"],setup(s,{emit:d}){const o=l(!0),{currentRoute:c}=v(),{params:{modelKey:a}}=p(c),n=l(),t=l(),r=l(),[e,{setModalProps:i,closeModal:D}]=B(m=>u(this,null,function*(){i({confirmLoading:!1}),o.value=!!(m==null?void 0:m.isUpdate);debugger;a&&w(()=>{R({modelKey:a}).then(g=>{r.value=new F({container:n.value}),r.value.importXML(g.modelXml,function(M){debugger;console.error(M)});debugger})})})),f=j(()=>p(o)?"\u4FEE\u6539":"\u65B0\u589E");return{container:t,bpmnCanvas:n,registerModal:e,getTitle:f}}}),T={class:"containers",ref:"container"};function X(s,d,o,c,a,n){const t=$("BasicModal");return h(),k(t,C(s.$attrs,{onRegister:s.registerModal,title:s.getTitle,onOk:s.handleSubmit}),{default:V(()=>[y("div",T,null,512)]),_:1},16,["onRegister","title","onOk"])}var A=x(E,[["render",X]]);export{A as default};
