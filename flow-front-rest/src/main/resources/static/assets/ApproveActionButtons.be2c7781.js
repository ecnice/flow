import{A as C,aS as b,c3 as x,c2 as h,c4 as M,r as i,a as y,u as D,a0 as n,B as I,a1 as j,a5 as u,H as k,w as r,an as S,ad as v}from"./vendor.5eb38889.js";/* empty css                *//* empty css                */import{u as w}from"./index.df597b92.js";import{c as R,s as T}from"./process.b4fbb99a.js";import{_ as $,r as L,h as N}from"./index.eb81839e.js";import"./useWindowSizeFn.e269959a.js";const{TextArea:V}=S,z=C({name:"BaseActionButtons",components:{Button:b,ApartmentOutlined:x,Space:h,Affix:M,TextArea:V},setup(e,{emit:p}){const[d,{openModal:_,setModalProps:g}]=w(),l=i(0),{createMessage:t}=N(),s=i(""),o=i(!1),a=L(),{currentRoute:c}=y(),{query:{taskId:f,procInstId:m}}=D(c);function A(){o.value=!0,R({taskId:f,processInstanceId:m,message:s.value}).then(F=>{t.success("\u5BA1\u6279\u6210\u529F\uFF01"),a("/process/todo")}).catch(()=>{}).finally(()=>{o.value=!1})}function B(){o.value=!0,T({taskId:f,processInstanceId:m,message:s.value}).then(F=>{t.success("\u64CD\u4F5C\u6210\u529F\uFF01"),a("/process/todo")}).catch(()=>{}).finally(()=>{o.value=!1})}return{bottom:l,approveMsg:s,registerFlowDiagramModal:d,approveBtnLoading:o,doApprove:A,doStop:B}}}),E={class:"approve-options"},P=v(" \u540C\u610F "),q=v(" \u62D2\u7EDD ");function G(e,p,d,_,g,l){const t=n("TextArea"),s=n("Button"),o=n("Space"),a=n("Affix");return I(),j(a,{"offset-bottom":e.bottom},{default:u(()=>[k("div",E,[r(t,{value:e.approveMsg,"onUpdate:value":p[0]||(p[0]=c=>e.approveMsg=c),placeholder:"\u8BF7\u8F93\u5165\u5BA1\u6279\u610F\u89C1\uFF01","auto-size":{minRows:2,maxRows:3}},null,8,["value"]),r(o,{class:"mt-2"},{default:u(()=>[r(s,{title:"\u5BA1\u6279",type:"primary",onClick:e.doApprove,loading:e.approveBtnLoading},{default:u(()=>[P]),_:1},8,["onClick","loading"]),r(s,{title:"\u62D2\u7EDD",type:"danger",onClick:e.doStop,loading:e.approveBtnLoading},{default:u(()=>[q]),_:1},8,["onClick","loading"])]),_:1})])]),_:1},8,["offset-bottom"])}var X=$(z,[["render",G]]);export{X as default};
