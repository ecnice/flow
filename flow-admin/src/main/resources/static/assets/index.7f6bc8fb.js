var kw=Object.defineProperty,Tw=Object.defineProperties;var Dw=Object.getOwnPropertyDescriptors;var mv=Object.getOwnPropertySymbols;var Mw=Object.prototype.hasOwnProperty,Nw=Object.prototype.propertyIsEnumerable;var _v=(v,y,s)=>y in v?kw(v,y,{enumerable:!0,configurable:!0,writable:!0,value:s}):v[y]=s,gs=(v,y)=>{for(var s in y||(y={}))Mw.call(y,s)&&_v(v,s,y[s]);if(mv)for(var s of mv(y))Nw.call(y,s)&&_v(v,s,y[s]);return v},Ov=(v,y)=>Tw(v,Dw(y));var Qa=(v,y,s)=>new Promise((f,u)=>{var p=x=>{try{b(s.next(x))}catch(E){u(E)}},d=x=>{try{b(s.throw(x))}catch(E){u(E)}},b=x=>x.done?f(x.value):Promise.resolve(x.value).then(p,d);b((s=s.apply(v,y)).next())});import{I as Cw,_ as bs,a as Rw,Y as Iw,w as Lw}from"./index.9eb02b52.js";import{O as zw,R as Bw,A as wv,b0 as Fw,a9 as Uw,r as eu,am as Gw,u as Bt,$ as ms,aj as Hw,a0 as Er,B as Sr,D as Ai,ab as xv,ap as Xw,w as ki,a6 as tu,ae as Ww,J as Vw,K as nu,ad as _s,a4 as Yw,a1 as Os,cb as Kw,j as $w,S as Ev,_ as Zw,H as qw}from"./vendor.7bee64cc.js";/* empty css               */import{I as Sv}from"./index.esm.01aeab01.js";import{B as Jw,b as Qw}from"./index.30115123.js";import{J as e1}from"./index.fe6a0c43.js";import{P as t1}from"./index.77f474a0.js";import"./useWindowSizeFn.30e15ddc.js";/* empty css                *//* empty css                */import"./useContentViewHeight.52836077.js";const jv=Symbol("flow-chart");function n1(v){Bw(jv,v)}function r1(){return zw(jv)}var Et;(function(v){v.ZOOM_IN="zoomIn",v.ZOOM_OUT="zoomOut",v.RESET_ZOOM="resetZoom",v.UNDO="undo",v.REDO="redo",v.SNAPSHOT="snapshot",v.VIEW_DATA="viewData"})(Et||(Et={}));const o1=wv({name:"FlowChartToolbar",components:{Icon:Cw,Divider:Fw,Tooltip:Uw},props:{prefixCls:String},emits:["view-data"],setup(v,{emit:y}){const s=eu([{type:Et.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Et.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Et.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Et.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Et.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Et.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Et.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:f}=r1();function u({data:{undoAble:d,redoAble:b}}){const x=Bt(s),E=x.findIndex(A=>A.type===Et.UNDO),S=x.findIndex(A=>A.type===Et.REDO);E!==-1&&(Bt(s)[E].disabled=!d),S!==-1&&(Bt(s)[S].disabled=!b)}const p=d=>{const b=Bt(f);if(!!b)switch(d.type){case Et.ZOOM_IN:b.zoom();break;case Et.ZOOM_OUT:b.zoom(!0);break;case Et.RESET_ZOOM:b.resetZoom();break;case Et.UNDO:b.undo();break;case Et.REDO:b.redo();break;case Et.SNAPSHOT:b.getSnapshot();break;case Et.VIEW_DATA:y("view-data");break}};return Gw(()=>Qa(this,null,function*(){var d;Bt(f)&&(yield ms(),(d=Bt(f))==null||d.on("history:change",u))})),Hw(()=>{var d;(d=Bt(f))==null||d.off("history:change",u)}),{toolbarItemList:s,onControl:p}}}),i1=["onClick"];function a1(v,y,s,f,u,p){const d=Er("Icon"),b=Er("Tooltip"),x=Er("Divider");return Sr(),Ai("div",{class:nu([`${v.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Sr(!0),Ai(xv,null,Xw(v.toolbarItemList,E=>(Sr(),Ai(xv,{key:E.type},[ki(b,Yw({placement:"bottom"},E.disabled?{visible:!1}:{}),{title:tu(()=>[Ww(Vw(E.tooltip),1)]),default:tu(()=>[E.icon?(Sr(),Ai("span",{key:0,class:nu(`${v.prefixCls}-toolbar__icon`),onClick:S=>v.onControl(E)},[ki(d,{icon:E.icon,class:nu(E.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,i1)):_s("",!0)]),_:2},1040),E.separate?(Sr(),Os(x,{key:0,type:"vertical"})):_s("",!0)],64))),128))],2)}var u1=bs(o1,[["render",a1]]),je={exports:{}};(function(v,y){(function(s,f){v.exports=f()})(window,function(){return function(s){var f={};function u(p){if(f[p])return f[p].exports;var d=f[p]={i:p,l:!1,exports:{}};return s[p].call(d.exports,d,d.exports,u),d.l=!0,d.exports}return u.m=s,u.c=f,u.d=function(p,d,b){u.o(p,d)||Object.defineProperty(p,d,{enumerable:!0,get:b})},u.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},u.t=function(p,d){if(1&d&&(p=u(p)),8&d||4&d&&typeof p=="object"&&p&&p.__esModule)return p;var b=Object.create(null);if(u.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:p}),2&d&&typeof p!="string")for(var x in p)u.d(b,x,function(E){return p[E]}.bind(null,x));return b},u.n=function(p){var d=p&&p.__esModule?function(){return p.default}:function(){return p};return u.d(d,"a",d),d},u.o=function(p,d){return Object.prototype.hasOwnProperty.call(p,d)},u.p="",u(u.s=184)}([function(s,f,u){(function(p,d){u.d(f,"a",function(){return Lt}),u.d(f,"b",function(){return Br}),u.d(f,"c",function(){return Vn}),u.d(f,"d",function(){return pu}),u.d(f,"e",function(){return Bi}),u.d(f,"f",function(){return En}),u.d(f,"g",function(){return De}),u.d(f,"h",function(){return Bo}),u.d(f,"i",function(){return On}),u.d(f,"j",function(){return oo}),u.d(f,"k",function(){return ar}),u.d(f,"l",function(){return Vi}),u.d(f,"m",function(){return ie}),u.d(f,"n",function(){return ea}),u.d(f,"o",function(){return Yi}),u.d(f,"p",function(){return Zi}),u.d(f,"q",function(){return hn}),u.d(f,"r",function(){return sa}),u.d(f,"s",function(){return Wi}),u.d(f,"t",function(){return Ji}),u.d(f,"u",function(){return yu}),u.d(f,"v",function(){return Yn}),u.d(f,"w",function(){return Gt}),u.d(f,"x",function(){return Ht}),u.d(f,"y",function(){return pn}),u.d(f,"z",function(){return Kn}),u.d(f,"A",function(){return Qe}),u.d(f,"B",function(){return sr}),u.d(f,"C",function(){return sn}),u.d(f,"D",function(){return Vo}),u.d(f,"E",function(){return Xi}),u.d(f,"F",function(){return Gi}),u.d(f,"G",function(){return io}),u.d(f,"H",function(){return ct}),u.d(f,"I",function(){return Tr}),u.d(f,"J",function(){return $n}),u.d(f,"K",function(){return na});var b=[];Object.freeze(b);var x={};Object.freeze(x);var E={};function S(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:E}function A(){return++de.mobxGuid}function P(g){throw O(!1,g),"X"}function O(g,m){if(!g)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is an production build."))}function L(g){var m=!1;return function(){if(!m)return m=!0,g.apply(this,arguments)}}var W=function(){};function Y(g){return g!==null&&typeof g=="object"}function X(g){if(g===null||typeof g!="object")return!1;var m=Object.getPrototypeOf(g);return m===Object.prototype||m===null}function H(g,m,w){Object.defineProperty(g,m,{enumerable:!1,writable:!0,configurable:!0,value:w})}function I(g,m,w){Object.defineProperty(g,m,{enumerable:!1,writable:!1,configurable:!0,value:w})}function F(g,m){var w="isMobX"+g;return m.prototype[w]=!0,function(T){return Y(T)&&T[w]===!0}}function V(g){return S().Map!==void 0&&g instanceof S().Map}function N(g){return g instanceof Set}function C(g){for(var m=[];;){var w=g.next();if(w.done)break;m.push(w.value)}return m}function R(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function B(g){return g===null?null:typeof g=="object"?""+g:g}function z(g,m){for(var w=g.next();!w.done;)m(w.value),w=g.next()}function Z(){return typeof Symbol=="function"&&Symbol.iterator||"@@iterator"}function ee(g,m){I(g,Z(),m)}function re(g){return g[Z()]=be,g}function oe(){return typeof Symbol=="function"&&Symbol.toStringTag||"@@toStringTag"}function be(){return this}var fe=function(){function g(m){m===void 0&&(m="Atom@"+A()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ne.NOT_TRACKING}return g.prototype.onBecomeUnobserved=function(){},g.prototype.onBecomeObserved=function(){},g.prototype.reportObserved=function(){return Cr(this)},g.prototype.reportChanged=function(){Mt(),function(m){if(m.lowestObserverState!==Ne.STALE){m.lowestObserverState=Ne.STALE;for(var w=m.observers,T=w.length;T--;){var D=w[T];D.dependenciesState===Ne.UP_TO_DATE&&(D.isTracing!==St.NONE&&Go(D,m),D.onBecomeStale()),D.dependenciesState=Ne.STALE}}}(this),Jt()},g.prototype.toString=function(){return this.name},g}(),pe=F("Atom",fe);function ie(g,m,w){m===void 0&&(m=W),w===void 0&&(w=W);var T,D=new fe(g);return Yo("onBecomeObserved",D,m,T),sn(D,w),D}function ce(g,m){return g===m}var ye={identity:ce,structural:function(g,m){return ti(g,m)},default:function(g,m){return function(w,T){return typeof w=="number"&&typeof T=="number"&&isNaN(w)&&isNaN(T)}(g,m)||ce(g,m)},shallow:function(g,m){return ti(g,m,1)}},he=function(g,m){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var D in T)T.hasOwnProperty(D)&&(w[D]=T[D])})(g,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Pe(g,m){function w(){this.constructor=g}he(g,m),g.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}var _e=function(){return(_e=Object.assign||function(g){for(var m,w=1,T=arguments.length;w<T;w++)for(var D in m=arguments[w])Object.prototype.hasOwnProperty.call(m,D)&&(g[D]=m[D]);return g}).apply(this,arguments)};function Fe(g,m){var w=typeof Symbol=="function"&&g[Symbol.iterator];if(!w)return g;var T,D,G=w.call(g),Q=[];try{for(;(m===void 0||m-- >0)&&!(T=G.next()).done;)Q.push(T.value)}catch(se){D={error:se}}finally{try{T&&!T.done&&(w=G.return)&&w.call(G)}finally{if(D)throw D.error}}return Q}function He(){for(var g=[],m=0;m<arguments.length;m++)g=g.concat(Fe(arguments[m]));return g}var Ie={},Kt={};function vn(g,m){var w=m?Ie:Kt;return w[g]||(w[g]={configurable:!0,enumerable:m,get:function(){return rt(this),this[g]},set:function(T){rt(this),this[g]=T}})}function rt(g){if(g.__mobxDidRunLazyInitializers!==!0){var m=g.__mobxDecorators;if(m)for(var w in H(g,"__mobxDidRunLazyInitializers",!0),m){var T=m[w];T.propertyCreator(g,T.prop,T.descriptor,T.decoratorTarget,T.decoratorArguments)}}}function Ge(g,m){return function(){var w,T=function(D,G,Q,se){if(se===!0)return m(D,G,Q,D,w),null;if(!Object.prototype.hasOwnProperty.call(D,"__mobxDecorators")){var me=D.__mobxDecorators;H(D,"__mobxDecorators",_e({},me))}return D.__mobxDecorators[G]={prop:G,propertyCreator:m,descriptor:Q,decoratorTarget:D,decoratorArguments:w},vn(G,g)};return ht(arguments)?(w=b,T.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),T)}}function ht(g){return(g.length===2||g.length===3)&&typeof g[1]=="string"||g.length===4&&g[3]===!0}function _t(g,m,w){return Yn(g)?g:Array.isArray(g)?Qe.array(g,{name:w}):X(g)?Qe.object(g,void 0,{name:w}):V(g)?Qe.map(g,{name:w}):N(g)?Qe.set(g,{name:w}):g}function gn(g){return g}function kt(g){O(g);var m=Ge(!0,function(T,D,G,Q,se){_u(T,D,G?G.initializer?G.initializer.call(T):G.value:void 0,g)}),w=(d!==void 0&&d.env,m);return w.enhancer=g,w}var or={deep:!0,name:void 0,defaultDecorator:void 0},Jr={deep:!1,name:void 0,defaultDecorator:void 0};function dt(g){return g==null?or:typeof g=="string"?{name:g,deep:!0}:g}function $t(g){return g.defaultDecorator?g.defaultDecorator.enhancer:g.deep===!1?gn:_t}Object.freeze(or),Object.freeze(Jr);var Zt=kt(_t),Pr=kt(function(g,m,w){return g==null||pn(g)||Gt(g)||Ht(g)||Rt(g)?g:Array.isArray(g)?Qe.array(g,{name:w,deep:!1}):X(g)?Qe.object(g,void 0,{name:w,deep:!1}):V(g)?Qe.map(g,{name:w,deep:!1}):N(g)?Qe.set(g,{name:w,deep:!1}):P(!1)}),Ar=kt(gn),ir=kt(function(g,m,w){return ti(g,m)?m:g}),An={box:function(g,m){arguments.length>2&&Tt("box");var w=dt(m);return new mn(g,$t(w),w.name,!0,w.equals)},shallowBox:function(g,m){return arguments.length>2&&Tt("shallowBox"),Qe.box(g,{name:m,deep:!1})},array:function(g,m){arguments.length>2&&Tt("array");var w=dt(m);return new Ct(g,$t(w),w.name)},shallowArray:function(g,m){return arguments.length>2&&Tt("shallowArray"),Qe.array(g,{name:m,deep:!1})},map:function(g,m){arguments.length>2&&Tt("map");var w=dt(m);return new Br(g,$t(w),w.name)},shallowMap:function(g,m){return arguments.length>2&&Tt("shallowMap"),Qe.map(g,{name:m,deep:!1})},set:function(g,m){arguments.length>2&&Tt("set");var w=dt(m);return new xn(g,$t(w),w.name)},object:function(g,m,w){typeof arguments[1]=="string"&&Tt("object");var T=dt(w);return Yi({},g,m,T)},shallowObject:function(g,m){return typeof arguments[1]=="string"&&Tt("shallowObject"),Qe.object(g,{},{name:m,deep:!1})},ref:Ar,shallow:Pr,deep:Zt,struct:ir},Qe=function(g,m,w){if(typeof arguments[1]=="string")return Zt.apply(null,arguments);if(Yn(g))return g;var T=X(g)?Qe.object(g,m,w):Array.isArray(g)?Qe.array(g,m):V(g)?Qe.map(g,m):N(g)?Qe.set(g,m):g;if(T!==g)return T;P(!1)};function Tt(g){P("Expected one or two arguments to observable."+g+". Did you accidentally try to use observable."+g+" as decorator?")}Object.keys(An).forEach(function(g){return Qe[g]=An[g]});var Ne,St,un=Ge(!1,function(g,m,w,T,D){var G=w.get,Q=w.set,se=D[0]||{};(function(me,Ae,Oe){var ze=ei(me);Oe.name=ze.name+"."+Ae,Oe.context=me,ze.values[Ae]=new _n(Oe),Object.defineProperty(me,Ae,function(Be){return fn[Be]||(fn[Be]={configurable:de.computedConfigurable,enumerable:!1,get:function(){return It(this).read(this,Be)},set:function(Ue){It(this).write(this,Be,Ue)}})}(Ae))})(g,m,_e({get:G,set:Q},se))}),kr=un({equals:ye.structural}),ar=function(g,m,w){if(typeof m=="string"||g!==null&&typeof g=="object"&&arguments.length===1)return un.apply(null,arguments);var T=typeof m=="object"?m:{};return T.get=g,T.set=typeof m=="function"?m:T.set,T.name=T.name||g.name||"",new _n(T)};ar.struct=kr,function(g){g[g.NOT_TRACKING=-1]="NOT_TRACKING",g[g.UP_TO_DATE=0]="UP_TO_DATE",g[g.POSSIBLY_STALE=1]="POSSIBLY_STALE",g[g.STALE=2]="STALE"}(Ne||(Ne={})),function(g){g[g.NONE=0]="NONE",g[g.LOG=1]="LOG",g[g.BREAK=2]="BREAK"}(St||(St={}));var cn=function(g){this.cause=g};function ge(g){return g instanceof cn}function we(g){switch(g.dependenciesState){case Ne.UP_TO_DATE:return!1;case Ne.NOT_TRACKING:case Ne.STALE:return!0;case Ne.POSSIBLY_STALE:for(var m=Qr(!0),w=Ft(),T=g.observing,D=T.length,G=0;G<D;G++){var Q=T[G];if(Wn(Q)){if(de.disableErrorBoundaries)Q.get();else try{Q.get()}catch(se){return qt(w),bn(m),!0}if(g.dependenciesState===Ne.STALE)return qt(w),bn(m),!0}}return Lo(g),qt(w),bn(m),!1}}function De(){return de.trackingDerivation!==null}function Me(g){var m=g.observers.length>0;de.computationDepth>0&&m&&P(!1),de.allowStateChanges||!m&&de.enforceActions!=="strict"||P(!1)}function ot(g,m,w){var T=Qr(!0);Lo(g),g.newObserving=new Array(g.observing.length+100),g.unboundDepsCount=0,g.runId=++de.runId;var D,G=de.trackingDerivation;if(de.trackingDerivation=g,de.disableErrorBoundaries===!0)D=m.call(w);else try{D=m.call(w)}catch(Q){D=new cn(Q)}return de.trackingDerivation=G,function(Q){for(var se=Q.observing,me=Q.observing=Q.newObserving,Ae=Ne.UP_TO_DATE,Oe=0,ze=Q.unboundDepsCount,Be=0;Be<ze;Be++)(Ue=me[Be]).diffValue===0&&(Ue.diffValue=1,Oe!==Be&&(me[Oe]=Ue),Oe++),Ue.dependenciesState>Ae&&(Ae=Ue.dependenciesState);for(me.length=Oe,Q.newObserving=null,ze=se.length;ze--;)(Ue=se[ze]).diffValue===0&&Uo(Ue,Q),Ue.diffValue=0;for(;Oe--;){var Ue;(Ue=me[Oe]).diffValue===1&&(Ue.diffValue=0,to(Ue,Q))}Ae!==Ne.UP_TO_DATE&&(Q.dependenciesState=Ae,Q.onBecomeStale())}(g),g.observing.length,bn(T),D}function Xn(g){var m=g.observing;g.observing=[];for(var w=m.length;w--;)Uo(m[w],g);g.dependenciesState=Ne.NOT_TRACKING}function Tr(g){var m=Ft(),w=g();return qt(m),w}function Ft(){var g=de.trackingDerivation;return de.trackingDerivation=null,g}function qt(g){de.trackingDerivation=g}function Qr(g){var m=de.allowStateReads;return de.allowStateReads=g,m}function bn(g){de.allowStateReads=g}function Lo(g){if(g.dependenciesState!==Ne.UP_TO_DATE){g.dependenciesState=Ne.UP_TO_DATE;for(var m=g.observing,w=m.length;w--;)m[w].lowestObserverState=Ne.UP_TO_DATE}}var eo=0,fu=1,zo=Object.getOwnPropertyDescriptor(function(){},"name");zo&&zo.configurable;function kn(g,m){var w=function(){return zi(g,m,this,arguments)};return w.isMobxAction=!0,w}function zi(g,m,w,T){var D=Bo(g,w,T);try{return m.apply(w,T)}catch(G){throw D.error=G,G}finally{Bi(D)}}function Bo(g,m,w){var T=yt()&&!!g,D=0;if(T){D=Date.now();var G=w&&w.length||0,Q=new Array(G);if(G>0)for(var se=0;se<G;se++)Q[se]=w[se];Qt({type:"action",name:g,object:m,arguments:Q})}var me=Ft();Mt();var Ae={prevDerivation:me,prevAllowStateChanges:Dr(!0),prevAllowStateReads:Qr(!0),notifySpy:T,startTime:D,actionId:fu++,parentActionId:eo};return eo=Ae.actionId,Ae}function Bi(g){eo!==g.actionId&&P("invalid action stack. did you forget to finish an action?"),eo=g.parentActionId,g.error!==void 0&&(de.suppressReactionErrors=!0),ur(g.prevAllowStateChanges),bn(g.prevAllowStateReads),Jt(),qt(g.prevDerivation),g.notifySpy&&Ut({time:Date.now()-g.startTime}),de.suppressReactionErrors=!1}function pu(g,m){var w,T=Dr(g);try{w=m()}finally{ur(T)}return w}function Dr(g){var m=de.allowStateChanges;return de.allowStateChanges=g,m}function ur(g){de.allowStateChanges=g}var mn=function(g){function m(w,T,D,G,Q){D===void 0&&(D="ObservableValue@"+A()),G===void 0&&(G=!0),Q===void 0&&(Q=ye.default);var se=g.call(this,D)||this;return se.enhancer=T,se.name=D,se.equals=Q,se.hasUnreportedChange=!1,se.value=T(w,void 0,D),G&&yt()&&Tn({type:"create",name:se.name,newValue:""+se.value}),se}return Pe(m,g),m.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},m.prototype.set=function(w){var T=this.value;if((w=this.prepareNewValue(w))!==de.UNCHANGED){var D=yt();D&&Qt({type:"update",name:this.name,newValue:w,oldValue:T}),this.setNewValue(w),D&&Ut()}},m.prototype.prepareNewValue=function(w){if(Me(this),en(this)){var T=ln(this,{object:this,type:"update",newValue:w});if(!T)return de.UNCHANGED;w=T.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?de.UNCHANGED:w},m.prototype.setNewValue=function(w){var T=this.value;this.value=w,this.reportChanged(),Nt(this)&&st(this,{type:"update",object:this,newValue:w,oldValue:T})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(w){return lr(this,w)},m.prototype.observe=function(w,T){return T&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),fr(this,w)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return B(this.get())},m}(fe);mn.prototype[R()]=mn.prototype.valueOf;var Fi=F("ObservableValue",mn),_n=function(){function g(m){this.dependenciesState=Ne.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ne.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+A(),this.value=new cn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=St.NONE,O(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+A(),m.set&&(this.setter=kn(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?ye.structural:ye.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return g.prototype.onBecomeStale=function(){(function(m){if(m.lowestObserverState===Ne.UP_TO_DATE){m.lowestObserverState=Ne.POSSIBLY_STALE;for(var w=m.observers,T=w.length;T--;){var D=w[T];D.dependenciesState===Ne.UP_TO_DATE&&(D.dependenciesState=Ne.POSSIBLY_STALE,D.isTracing!==St.NONE&&Go(D,m),D.onBecomeStale())}}})(this)},g.prototype.onBecomeUnobserved=function(){},g.prototype.onBecomeObserved=function(){},g.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),de.inBatch!==0||this.observers.length!==0||this.keepAlive?(Cr(this),we(this)&&this.trackAndCompute()&&function(w){if(w.lowestObserverState!==Ne.STALE){w.lowestObserverState=Ne.STALE;for(var T=w.observers,D=T.length;D--;){var G=T[D];G.dependenciesState===Ne.POSSIBLY_STALE?G.dependenciesState=Ne.STALE:G.dependenciesState===Ne.UP_TO_DATE&&(w.lowestObserverState=Ne.UP_TO_DATE)}}}(this)):we(this)&&(this.warnAboutUntrackedRead(),Mt(),this.value=this.computeValue(!1),Jt());var m=this.value;if(ge(m))throw m.cause;return m},g.prototype.peek=function(){var m=this.computeValue(!1);if(ge(m))throw m.cause;return m},g.prototype.set=function(m){if(this.setter){O(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else O(!1,!1)},g.prototype.trackAndCompute=function(){yt()&&Tn({object:this.scope,type:"compute",name:this.name});var m=this.value,w=this.dependenciesState===Ne.NOT_TRACKING,T=this.computeValue(!0),D=w||ge(m)||ge(T)||!this.equals(m,T);return D&&(this.value=T),D},g.prototype.computeValue=function(m){var w;if(this.isComputing=!0,de.computationDepth++,m)w=ot(this,this.derivation,this.scope);else if(de.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(T){w=new cn(T)}return de.computationDepth--,this.isComputing=!1,w},g.prototype.suspend=function(){this.keepAlive||(Xn(this),this.value=void 0)},g.prototype.observe=function(m,w){var T=this,D=!0,G=void 0;return oo(function(){var Q=T.get();if(!D||w){var se=Ft();m({type:"update",object:T,newValue:Q,oldValue:G}),qt(se)}D=!1,G=Q})},g.prototype.warnAboutUntrackedRead=function(){},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},g.prototype.valueOf=function(){return B(this.get())},g}();_n.prototype[R()]=_n.prototype.valueOf;var Wn=F("ComputedValue",_n),cr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Mr=!0,Fo=!1,de=function(){var g=S();return g.__mobxInstanceCount>0&&!g.__mobxGlobals&&(Mr=!1),g.__mobxGlobals&&g.__mobxGlobals.version!==new cr().version&&(Mr=!1),Mr?g.__mobxGlobals?(g.__mobxInstanceCount+=1,g.__mobxGlobals.UNCHANGED||(g.__mobxGlobals.UNCHANGED={}),g.__mobxGlobals):(g.__mobxInstanceCount=1,g.__mobxGlobals=new cr):(setTimeout(function(){Fo||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new cr)}();function to(g,m){var w=g.observers.length;w&&(g.observersIndexes[m.__mapid]=w),g.observers[w]=m,g.lowestObserverState>m.dependenciesState&&(g.lowestObserverState=m.dependenciesState)}function Uo(g,m){if(g.observers.length===1)g.observers.length=0,Nr(g);else{var w=g.observers,T=g.observersIndexes,D=w.pop();if(D!==m){var G=T[m.__mapid]||0;G?T[D.__mapid]=G:delete T[D.__mapid],w[G]=D}delete T[m.__mapid]}}function Nr(g){g.isPendingUnobservation===!1&&(g.isPendingUnobservation=!0,de.pendingUnobservations.push(g))}function Mt(){de.inBatch++}function Jt(){if(--de.inBatch==0){Rr();for(var g=de.pendingUnobservations,m=0;m<g.length;m++){var w=g[m];w.isPendingUnobservation=!1,w.observers.length===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof _n&&w.suspend())}de.pendingUnobservations=[]}}function Cr(g){var m=de.trackingDerivation;return m!==null?(m.runId!==g.lastAccessedBy&&(g.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=g,g.isBeingObserved||(g.isBeingObserved=!0,g.onBecomeObserved())),!0):(g.observers.length===0&&de.inBatch>0&&Nr(g),!1)}function Go(g,m){if(console.log("[mobx.trace] '"+g.name+"' is invalidated due to a change in: '"+m.name+"'"),g.isTracing===St.BREAK){var w=[];(function G(Q,se,me){if(se.length>=1e3)return void se.push("(and many more)");se.push(""+new Array(me).join("	")+Q.name),Q.dependencies&&Q.dependencies.forEach(function(Ae){return G(Ae,se,me+1)})})((T=g,Ko(hn(T,D))),w,1),new Function(`debugger;
/*
Tracing '`+g.name+`'

You are entering this break point because derivation '`+g.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(g instanceof _n?g.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}var T,D}var Vn=function(){function g(m,w,T,D){m===void 0&&(m="Reaction@"+A()),D===void 0&&(D=!1),this.name=m,this.onInvalidate=w,this.errorHandler=T,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=Ne.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+A(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=St.NONE}return g.prototype.onBecomeStale=function(){this.schedule()},g.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,de.pendingReactions.push(this),Rr())},g.prototype.isScheduled=function(){return this._isScheduled},g.prototype.runReaction=function(){if(!this.isDisposed){if(Mt(),this._isScheduled=!1,we(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&yt()&&Tn({name:this.name,type:"scheduled-reaction"})}catch(m){this.reportExceptionInDerivation(m)}}Jt()}},g.prototype.track=function(m){Mt();var w,T=yt();T&&(w=Date.now(),Qt({name:this.name,type:"reaction"})),this._isRunning=!0;var D=ot(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Xn(this),ge(D)&&this.reportExceptionInDerivation(D.cause),T&&Ut({time:Date.now()-w}),Jt()},g.prototype.reportExceptionInDerivation=function(m){var w=this;if(this.errorHandler)this.errorHandler(m,this);else{if(de.disableErrorBoundaries)throw m;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";de.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,m),yt()&&Tn({type:"error",name:this.name,message:T,error:""+m}),de.globalReactionErrorHandlers.forEach(function(D){return D(m,w)})}},g.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Mt(),Xn(this),Jt()))},g.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m.$mobx=this,m},g.prototype.toString=function(){return"Reaction["+this.name+"]"},g.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=!1;typeof w[w.length-1]=="boolean"&&(D=w.pop());var G=ta(w);if(!G)return P(!1);G.isTracing===St.NONE&&console.log("[mobx.trace] '"+G.name+"' tracing enabled"),G.isTracing=D?St.BREAK:St.LOG}(this,m)},g}(),no=function(g){return g()};function Rr(){de.inBatch>0||de.isRunningReactions||no(Ye)}function Ye(){de.isRunningReactions=!0;for(var g=de.pendingReactions,m=0;g.length>0;){++m==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+g[0]),g.splice(0));for(var w=g.splice(0),T=0,D=w.length;T<D;T++)w[T].runReaction()}de.isRunningReactions=!1}var ro=F("Reaction",Vn);function Ui(g){var m=no;no=function(w){return g(function(){return m(w)})}}function yt(){return!!de.spyListeners.length}function Tn(g){if(de.spyListeners.length)for(var m=de.spyListeners,w=0,T=m.length;w<T;w++)m[w](g)}function Qt(g){Tn(_e(_e({},g),{spyReportStart:!0}))}var hu={spyReportEnd:!0};function Ut(g){Tn(g?_e(_e({},g),{spyReportEnd:!0}):hu)}function Gi(g){return de.spyListeners.push(g),L(function(){de.spyListeners=de.spyListeners.filter(function(m){return m!==g})})}function du(){P(!1)}function Ho(g){return function(m,w,T){if(T){if(T.value)return{value:kn(g,T.value),enumerable:!1,configurable:!0,writable:!0};var D=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return kn(g,D.call(this))}}}return Hi(g).apply(this,arguments)}}function Hi(g){return function(m,w,T){Object.defineProperty(m,w,{configurable:!0,enumerable:!1,get:function(){},set:function(D){H(this,w,On(g,D))}})}}var On=function(g,m,w,T){return arguments.length===1&&typeof g=="function"?kn(g.name||"<unnamed action>",g):arguments.length===2&&typeof m=="function"?kn(g,m):arguments.length===1&&typeof g=="string"?Ho(g):T!==!0?Ho(m).apply(null,arguments):void(g[m]=kn(g.name||m,w.value))};function Xi(g,m){return zi(typeof g=="string"?g:g.name||"<unnamed action>",typeof g=="function"?g:m,this,void 0)}function Wi(g){return typeof g=="function"&&g.isMobxAction===!0}function Dn(g,m,w){H(g,m,kn(m,w.bind(g)))}function oo(g,m){m===void 0&&(m=x);var w,T=m&&m.name||g.name||"Autorun@"+A();if(!m.scheduler&&!m.delay)w=new Vn(T,function(){this.track(Q)},m.onError,m.requiresObservable);else{var D=Wo(m),G=!1;w=new Vn(T,function(){G||(G=!0,D(function(){G=!1,w.isDisposed||w.track(Q)}))},m.onError,m.requiresObservable)}function Q(){g(w)}return w.schedule(),w.getDisposer()}On.bound=function(g,m,w,T){return T===!0?(Dn(g,m,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return Dn(this,m,w.value||w.initializer.call(this)),this[m]},set:du}:{enumerable:!1,configurable:!0,set:function(D){Dn(this,m,D)},get:function(){}}};var Xo=function(g){return g()};function Wo(g){return g.scheduler?g.scheduler:g.delay?function(m){return setTimeout(m,g.delay)}:Xo}function Vo(g,m,w){w===void 0&&(w=x),typeof w=="boolean"&&(w={fireImmediately:w});var T,D,G,Q=w.name||"Reaction@"+A(),se=On(Q,w.onError?(T=w.onError,D=m,function(){try{return D.apply(this,arguments)}catch(Xe){T.call(this,Xe)}}):m),me=!w.scheduler&&!w.delay,Ae=Wo(w),Oe=!0,ze=!1,Be=w.compareStructural?ye.structural:w.equals||ye.default,Ue=new Vn(Q,function(){Oe||me?qe():ze||(ze=!0,Ae(qe))},w.onError,w.requiresObservable);function qe(){if(ze=!1,!Ue.isDisposed){var Xe=!1;Ue.track(function(){var nt=g(Ue);Xe=Oe||!Be(G,nt),G=nt}),Oe&&w.fireImmediately&&se(G,Ue),Oe||Xe!==!0||se(G,Ue),Oe&&(Oe=!1)}}return Ue.schedule(),Ue.getDisposer()}function sn(g,m,w){return Yo("onBecomeUnobserved",g,m,w)}function Yo(g,m,w,T){var D=typeof T=="function"?hn(m,w):hn(m),G=typeof T=="function"?T:w,Q=D[g];return typeof Q!="function"?P(!1):(D[g]=function(){Q.call(this),G.call(this)},function(){D[g]=Q})}function Vi(g){var m=g.enforceActions,w=g.computedRequiresReaction,T=g.computedConfigurable,D=g.disableErrorBoundaries,G=g.arrayBuffer,Q=g.reactionScheduler,se=g.reactionRequiresObservable,me=g.observableRequiresReaction;if(g.isolateGlobalState===!0&&((de.pendingReactions.length||de.inBatch||de.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Fo=!0,Mr&&(--S().__mobxInstanceCount==0&&(S().__mobxGlobals=void 0),de=new cr)),m!==void 0){var Ae=void 0;switch(m){case!0:case"observed":Ae=!0;break;case!1:case"never":Ae=!1;break;case"strict":case"always":Ae="strict";break;default:P("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}de.enforceActions=Ae,de.allowStateChanges=Ae!==!0&&Ae!=="strict"}w!==void 0&&(de.computedRequiresReaction=!!w),se!==void 0&&(de.reactionRequiresObservable=!!se),me!==void 0&&(de.observableRequiresReaction=!!me,de.allowStateReads=!de.observableRequiresReaction),T!==void 0&&(de.computedConfigurable=!!T),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),de.disableErrorBoundaries=!!D),typeof G=="number"&&Qo(G),Q&&Ui(Q)}function Yi(g,m,w,T){var D=(T=dt(T)).defaultDecorator||(T.deep===!1?Ar:Zt);rt(g),ei(g,T.name,D.enhancer),Mt();try{for(var G=Object.getOwnPropertyNames(m),Q=0,se=G.length;Q<se;Q++){var me=G[Q],Ae=Object.getOwnPropertyDescriptor(m,me),Oe=(w&&me in w?w[me]:Ae.get?un:D)(g,me,Ae,!0);Oe&&Object.defineProperty(g,me,Oe)}}finally{Jt()}return g}function Ko(g){var m,w,T={name:g.name};return g.observing&&g.observing.length>0&&(T.dependencies=(m=g.observing,w=[],m.forEach(function(D){w.indexOf(D)===-1&&w.push(D)}),w).map(Ko)),T}var Ki=0;function $i(){this.message="FLOW_CANCELLED"}function Zi(g){arguments.length!==1&&P("Flow expects one 1 argument and cannot be used as decorator");var m=g.name||"<unnamed flow>";return function(){var w,T=this,D=arguments,G=++Ki,Q=On(m+" - runid: "+G+" - init",g).apply(T,D),se=void 0,me=new Promise(function(Ae,Oe){var ze=0;function Be(Xe){var nt;se=void 0;try{nt=On(m+" - runid: "+G+" - yield "+ze++,Q.next).call(Q,Xe)}catch(vt){return Oe(vt)}qe(nt)}function Ue(Xe){var nt;se=void 0;try{nt=On(m+" - runid: "+G+" - yield "+ze++,Q.throw).call(Q,Xe)}catch(vt){return Oe(vt)}qe(nt)}function qe(Xe){if(!Xe||typeof Xe.then!="function")return Xe.done?Ae(Xe.value):(se=Promise.resolve(Xe.value)).then(Be,Ue);Xe.then(qe,Oe)}w=Oe,Be(void 0)});return me.cancel=On(m+" - runid: "+G+" - cancel",function(){try{se&&$o(se);var Ae=Q.return(void 0),Oe=Promise.resolve(Ae.value);Oe.then(W,W),$o(Oe),w(new $i)}catch(ze){w(ze)}}),me}}function $o(g){typeof g.cancel=="function"&&g.cancel()}function qi(g,m){if(g==null)return!1;if(m!==void 0){if(pn(g)===!1||!g.$mobx.values[m])return!1;var w=hn(g,m);return Wn(w)}return Wn(g)}function Ji(g){return arguments.length>1?P(!1):qi(g)}function yu(g,m){return typeof m!="string"?P(!1):qi(g,m)}function Qi(g,m){if(g==null)return!1;if(m!==void 0){if(pn(g)){var w=g.$mobx;return w.values&&!!w.values[m]}return!1}return pn(g)||!!g.$mobx||pe(g)||ro(g)||Wn(g)}function Yn(g){return arguments.length!==1&&P(!1),Qi(g)}function Kn(g){return pn(g)?g.$mobx.getKeys():Ht(g)||Rt(g)?C(g.keys()):Gt(g)?g.map(function(m,w){return w}):P(!1)}function $n(g){return pn(g)?Kn(g).map(function(m){return g[m]}):Ht(g)?Kn(g).map(function(m){return g.get(m)}):Rt(g)?C(g.values()):Gt(g)?g.slice():P(!1)}function ea(g){return pn(g)?Kn(g).map(function(m){return[m,g[m]]}):Ht(g)?Kn(g).map(function(m){return[m,g.get(m)]}):Rt(g)?C(g.entries()):Gt(g)?g.map(function(m,w){return[w,m]}):P(!1)}function sr(g,m,w,T){return typeof w=="function"?function(D,G,Q,se){return En(D,G).observe(Q,se)}(g,m,w,T):function(D,G,Q){return En(D).observe(G,Q)}(g,m,w)}$i.prototype=Object.create(Error.prototype);var Zo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function wn(g,m,w,T){return T.detectCycles&&g.set(m,w),w}function io(g,m){var w;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=Zo),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(w=new Map),function T(D,G,Q){if(!G.recurseEverything&&!Yn(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(Fi(D))return T(D.get(),G,Q);if(Yn(D)&&Kn(D),G.detectCycles===!0&&D!==null&&Q.has(D))return Q.get(D);if(Gt(D)||Array.isArray(D)){var se=wn(Q,D,[],G),me=D.map(function(vt){return T(vt,G,Q)});se.length=me.length;for(var Ae=0,Oe=me.length;Ae<Oe;Ae++)se[Ae]=me[Ae];return se}if(Rt(D)||Object.getPrototypeOf(D)===Set.prototype){if(G.exportMapsAsObjects===!1){var ze=wn(Q,D,new Set,G);return D.forEach(function(vt){ze.add(T(vt,G,Q))}),ze}var Be=wn(Q,D,[],G);return D.forEach(function(vt){Be.push(T(vt,G,Q))}),Be}if(Ht(D)||Object.getPrototypeOf(D)===Map.prototype){if(G.exportMapsAsObjects===!1){var Ue=wn(Q,D,new Map,G);return D.forEach(function(vt,ri){Ue.set(ri,T(vt,G,Q))}),Ue}var qe=wn(Q,D,{},G);return D.forEach(function(vt,ri){qe[ri]=T(vt,G,Q)}),qe}var Xe=wn(Q,D,{},G);for(var nt in D)Xe[nt]=T(D[nt],G,Q);return Xe}(g,m,w)}function ta(g){switch(g.length){case 0:return de.trackingDerivation;case 1:return hn(g[0]);case 2:return hn(g[0],g[1])}}function ct(g,m){m===void 0&&(m=void 0),Mt();try{return g.apply(m)}finally{Jt()}}function na(g,m,w){return arguments.length===1||m&&typeof m=="object"?vu(g,m):qo(g,m,w||{})}function qo(g,m,w){var T;typeof w.timeout=="number"&&(T=setTimeout(function(){if(!G.$mobx.isDisposed){G();var Q=new Error("WHEN_TIMEOUT");if(!w.onError)throw Q;w.onError(Q)}},w.timeout)),w.name=w.name||"When@"+A();var D=kn(w.name+"-effect",m),G=oo(function(Q){g()&&(Q.dispose(),T&&clearTimeout(T),D())},w);return G}function vu(g,m){var w,T=new Promise(function(D,G){var Q=qo(g,D,_e(_e({},m),{onError:G}));w=function(){Q(),G("WHEN_CANCELLED")}});return T.cancel=w,T}function en(g){return g.interceptors!==void 0&&g.interceptors.length>0}function lr(g,m){var w=g.interceptors||(g.interceptors=[]);return w.push(m),L(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function ln(g,m){var w=Ft();try{var T=g.interceptors;if(T)for(var D=0,G=T.length;D<G&&(O(!(m=T[D](m))||m.type,"Intercept handlers should return nothing or a change object"),m);D++);return m}finally{qt(w)}}function Nt(g){return g.changeListeners!==void 0&&g.changeListeners.length>0}function fr(g,m){var w=g.changeListeners||(g.changeListeners=[]);return w.push(m),L(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function st(g,m){var w=Ft(),T=g.changeListeners;if(T){for(var D=0,G=(T=T.slice()).length;D<G;D++)T[D](m);qt(w)}}var Ir,ao,pr,Lr,ra=(Ir=!1,ao={},Object.defineProperty(ao,"0",{set:function(){Ir=!0}}),Object.create(ao)[0]=1,Ir===!1),Jo=0,zr=function(){};pr=zr,Lr=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf(pr.prototype,Lr):pr.prototype.__proto__!==void 0?pr.prototype.__proto__=Lr:pr.prototype=Lr,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(g){Object.defineProperty(zr.prototype,g,{configurable:!0,writable:!0,value:Array.prototype[g]})});var uo=function(){function g(m,w,T,D){this.array=T,this.owned=D,this.values=[],this.lastKnownLength=0,this.atom=new fe(m||"ObservableArray@"+A()),this.enhancer=function(G,Q){return w(G,Q,m+"[..]")}}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},g.prototype.intercept=function(m){return lr(this,m)},g.prototype.observe=function(m,w){return w===void 0&&(w=!1),w&&m({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fr(this,m)},g.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},g.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var w=this.values.length;if(m!==w)if(m>w){for(var T=new Array(m-w),D=0;D<m-w;D++)T[D]=void 0;this.spliceWithArray(w,0,T)}else this.spliceWithArray(m,w-m)},g.prototype.updateArrayLength=function(m,w){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=w,w>0&&m+w+1>Jo&&Qo(m+w+1)},g.prototype.spliceWithArray=function(m,w,T){var D=this;Me(this.atom);var G=this.values.length;if(m===void 0?m=0:m>G?m=G:m<0&&(m=Math.max(0,G+m)),w=arguments.length===1?G-m:w==null?0:Math.max(0,Math.min(w,G-m)),T===void 0&&(T=b),en(this)){var Q=ln(this,{object:this.array,type:"splice",index:m,removedCount:w,added:T});if(!Q)return b;w=Q.removedCount,T=Q.added}var se=(T=T.length===0?T:T.map(function(Ae){return D.enhancer(Ae,void 0)})).length-w;this.updateArrayLength(G,se);var me=this.spliceItemsIntoValues(m,w,T);return w===0&&T.length===0||this.notifyArraySplice(m,T,me),this.dehanceValues(me)},g.prototype.spliceItemsIntoValues=function(m,w,T){var D;if(T.length<1e4)return(D=this.values).splice.apply(D,He([m,w],T));var G=this.values.slice(m,m+w);return this.values=this.values.slice(0,m).concat(T,this.values.slice(m+w)),G},g.prototype.notifyArrayChildUpdate=function(m,w,T){var D=!this.owned&&yt(),G=Nt(this),Q=G||D?{object:this.array,type:"update",index:m,newValue:w,oldValue:T}:null;D&&Qt(_e(_e({},Q),{name:this.atom.name})),this.atom.reportChanged(),G&&st(this,Q),D&&Ut()},g.prototype.notifyArraySplice=function(m,w,T){var D=!this.owned&&yt(),G=Nt(this),Q=G||D?{object:this.array,type:"splice",index:m,removed:T,added:w,removedCount:T.length,addedCount:w.length}:null;D&&Qt(_e(_e({},Q),{name:this.atom.name})),this.atom.reportChanged(),G&&st(this,Q),D&&Ut()},g}(),Ct=function(g){function m(w,T,D,G){D===void 0&&(D="ObservableArray@"+A()),G===void 0&&(G=!1);var Q=g.call(this)||this,se=new uo(D,T,Q,G);if(I(Q,"$mobx",se),w&&w.length){var me=Dr(!0);Q.spliceWithArray(0,0,w),ur(me)}return ra&&Object.defineProperty(se.array,"0",gu),Q}return Pe(m,g),m.prototype.intercept=function(w){return this.$mobx.intercept(w)},m.prototype.observe=function(w,T){return T===void 0&&(T=!1),this.$mobx.observe(w,T)},m.prototype.clear=function(){return this.splice(0)},m.prototype.concat=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),w.map(function(D){return Gt(D)?D.peek():D}))},m.prototype.replace=function(w){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,w)},m.prototype.toJS=function(){return this.slice()},m.prototype.toJSON=function(){return this.toJS()},m.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},m.prototype.find=function(w,T,D){D===void 0&&(D=0);var G=this.findIndex.apply(this,arguments);return G===-1?void 0:this.get(G)},m.prototype.findIndex=function(w,T,D){D===void 0&&(D=0);for(var G=this.peek(),Q=G.length,se=D;se<Q;se++)if(w.call(T,G[se],se,this))return se;return-1},m.prototype.splice=function(w,T){for(var D=[],G=2;G<arguments.length;G++)D[G-2]=arguments[G];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(w);case 2:return this.$mobx.spliceWithArray(w,T)}return this.$mobx.spliceWithArray(w,T,D)},m.prototype.spliceWithArray=function(w,T,D){return this.$mobx.spliceWithArray(w,T,D)},m.prototype.push=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=this.$mobx;return D.spliceWithArray(D.values.length,0,w),D.values.length},m.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},m.prototype.shift=function(){return this.splice(0,1)[0]},m.prototype.unshift=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=this.$mobx;return D.spliceWithArray(0,0,w),D.values.length},m.prototype.reverse=function(){var w=this.slice();return w.reverse.apply(w,arguments)},m.prototype.sort=function(w){var T=this.slice();return T.sort.apply(T,arguments)},m.prototype.remove=function(w){var T=this.$mobx.dehanceValues(this.$mobx.values).indexOf(w);return T>-1&&(this.splice(T,1),!0)},m.prototype.move=function(w,T){function D(se){if(se<0)throw new Error("[mobx.array] Index out of bounds: "+se+" is negative");var me=this.$mobx.values.length;if(se>=me)throw new Error("[mobx.array] Index out of bounds: "+se+" is not smaller than "+me)}if(D.call(this,w),D.call(this,T),w!==T){var G,Q=this.$mobx.values;G=w<T?He(Q.slice(0,w),Q.slice(w+1,T+1),[Q[w]],Q.slice(T+1)):He(Q.slice(0,T),[Q[w]],Q.slice(T,w),Q.slice(w+1)),this.replace(G)}},m.prototype.get=function(w){var T=this.$mobx;if(T){if(w<T.values.length)return T.atom.reportObserved(),T.dehanceValue(T.values[w]);console.warn("[mobx.array] Attempt to read an array index ("+w+") that is out of bounds ("+T.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},m.prototype.set=function(w,T){var D=this.$mobx,G=D.values;if(w<G.length){Me(D.atom);var Q=G[w];if(en(D)){var se=ln(D,{type:"update",object:this,index:w,newValue:T});if(!se)return;T=se.newValue}(T=D.enhancer(T,Q))!==Q&&(G[w]=T,D.notifyArrayChildUpdate(w,T,Q))}else{if(w!==G.length)throw new Error("[mobx.array] Index out of bounds, "+w+" is larger than "+G.length);D.spliceWithArray(w,0,[T])}},m}(zr);ee(Ct.prototype,function(){this.$mobx.atom.reportObserved();var g=this,m=0;return re({next:function(){return m<g.length?{value:g[m++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(Ct.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(g){this.$mobx.setArrayLength(g)}}),H(Ct.prototype,oe(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(g){var m=Array.prototype[g];O(typeof m=="function","Base function not defined on Array prototype: '"+g+"'"),H(Ct.prototype,g,function(){return m.apply(this.peek(),arguments)})}),["every","filter","forEach","map","some"].forEach(function(g){O(typeof Array.prototype[g]=="function","Base function not defined on Array prototype: '"+g+"'"),H(Ct.prototype,g,function(m,w){var T=this,D=this.$mobx;return D.atom.reportObserved(),D.dehanceValues(D.values)[g](function(G,Q){return m.call(w,G,Q,T)},w)})}),["reduce","reduceRight"].forEach(function(g){H(Ct.prototype,g,function(){var m=this,w=this.$mobx;w.atom.reportObserved();var T=arguments[0];return arguments[0]=function(D,G,Q){return G=w.dehanceValue(G),T(D,G,Q,m)},w.values[g].apply(w.values,arguments)})}),function(g,m){for(var w=0;w<m.length;w++)H(g,m[w],g[m[w]])}(Ct.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var gu=oa(0);function oa(g){return{enumerable:!1,configurable:!1,get:function(){return this.get(g)},set:function(m){this.set(g,m)}}}function ia(g){Object.defineProperty(Ct.prototype,""+g,oa(g))}function Qo(g){for(var m=Jo;m<g;m++)ia(m);Jo=g}Qo(1e3);var co=F("ObservableArrayAdministration",uo);function Gt(g){return Y(g)&&co(g.$mobx)}var bu={},Br=function(){function g(m,w,T){if(w===void 0&&(w=_t),T===void 0&&(T="ObservableMap@"+A()),this.enhancer=w,this.name=T,this.$mobx=bu,this._keysAtom=ie(this.name+".keys()"),typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return g.prototype._has=function(m){return this._data.has(m)},g.prototype.has=function(m){var w=this;if(!de.trackingDerivation)return this._has(m);var T=this._hasMap.get(m);if(!T){var D=T=new mn(this._has(m),gn,this.name+"."+so(m)+"?",!1);this._hasMap.set(m,D),sn(D,function(){return w._hasMap.delete(m)})}return T.get()},g.prototype.set=function(m,w){var T=this._has(m);if(en(this)){var D=ln(this,{type:T?"update":"add",object:this,newValue:w,name:m});if(!D)return this;w=D.newValue}return T?this._updateValue(m,w):this._addValue(m,w),this},g.prototype.delete=function(m){var w=this;if(Me(this._keysAtom),en(this)&&!(G=ln(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var T=yt(),D=Nt(this),G=D||T?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return T&&Qt(_e(_e({},G),{name:this.name,key:m})),ct(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(m,!1),w._data.get(m).setNewValue(void 0),w._data.delete(m)}),D&&st(this,G),T&&Ut(),!0}return!1},g.prototype._updateHasMapEntry=function(m,w){var T=this._hasMap.get(m);T&&T.setNewValue(w)},g.prototype._updateValue=function(m,w){var T=this._data.get(m);if((w=T.prepareNewValue(w))!==de.UNCHANGED){var D=yt(),G=Nt(this),Q=G||D?{type:"update",object:this,oldValue:T.value,name:m,newValue:w}:null;D&&Qt(_e(_e({},Q),{name:this.name,key:m})),T.setNewValue(w),G&&st(this,Q),D&&Ut()}},g.prototype._addValue=function(m,w){var T=this;Me(this._keysAtom),ct(function(){var se=new mn(w,T.enhancer,T.name+"."+so(m),!1);T._data.set(m,se),w=se.value,T._updateHasMapEntry(m,!0),T._keysAtom.reportChanged()});var D=yt(),G=Nt(this),Q=G||D?{type:"add",object:this,name:m,newValue:w}:null;D&&Qt(_e(_e({},Q),{name:this.name,key:m})),G&&st(this,Q),D&&Ut()},g.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},g.prototype.values=function(){var m=this,w=this.keys();return re({next:function(){var T=w.next(),D=T.done,G=T.value;return{done:D,value:D?void 0:m.get(G)}}})},g.prototype.entries=function(){var m=this,w=this.keys();return re({next:function(){var T=w.next(),D=T.done,G=T.value;return{done:D,value:D?void 0:[G,m.get(G)]}}})},g.prototype.forEach=function(m,w){var T=this;this._keysAtom.reportObserved(),this._data.forEach(function(D,G){return m.call(w,T.get(G),G,T)})},g.prototype.merge=function(m){var w=this;return Ht(m)&&(m=m.toJS()),ct(function(){var T=Dr(!0);try{X(m)?Object.keys(m).forEach(function(D){return w.set(D,m[D])}):Array.isArray(m)?m.forEach(function(D){var G=Fe(D,2),Q=G[0],se=G[1];return w.set(Q,se)}):V(m)?m.constructor!==Map?P("Cannot initialize from classes that inherit from Map: "+m.constructor.name):m.forEach(function(D,G){return w.set(G,D)}):m!=null&&P("Cannot initialize map from "+m)}finally{ur(T)}}),this},g.prototype.clear=function(){var m=this;ct(function(){Tr(function(){m._data.forEach(function(w,T){return m.delete(T)})})})},g.prototype.replace=function(m){var w=this;return ct(function(){var T=function(Oe){if(V(Oe)||Ht(Oe))return Oe;if(Array.isArray(Oe))return new Map(Oe);if(X(Oe)){var ze=new Map;for(var Be in Oe)ze.set(Be,Oe[Be]);return ze}return P("Cannot convert to map from '"+Oe+"'")}(m),D=new Map,G=!1;if(z(w._data.keys(),function(Oe){if(!T.has(Oe))if(w.delete(Oe))G=!0;else{var ze=w._data.get(Oe);D.set(Oe,ze)}}),z(T.entries(),function(Oe){var ze=Fe(Oe,2),Be=ze[0],Ue=ze[1],qe=w._data.has(Be);if(w.set(Be,Ue),w._data.has(Be)){var Xe=w._data.get(Be);D.set(Be,Xe),qe||(G=!0)}}),!G)if(w._data.size!==D.size)w._keysAtom.reportChanged();else for(var Q=w._data.keys(),se=D.keys(),me=Q.next(),Ae=se.next();!me.done;){if(me.value!==Ae.value){w._keysAtom.reportChanged();break}me=Q.next(),Ae=se.next()}w._data=D}),this},Object.defineProperty(g.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.toPOJO=function(){var m=this,w={};return this.forEach(function(T,D){return w[typeof D=="symbol"?D:so(D)]=m.get(D)}),w},g.prototype.toJS=function(){return new Map(this)},g.prototype.toJSON=function(){return this.toPOJO()},g.prototype.toString=function(){var m=this;return this.name+"[{ "+C(this.keys()).map(function(w){return so(w)+": "+m.get(w)}).join(", ")+" }]"},g.prototype.observe=function(m,w){return fr(this,m)},g.prototype.intercept=function(m){return lr(this,m)},g}();function so(g){return g&&g.toString?g.toString():new String(g).toString()}ee(Br.prototype,function(){return this.entries()}),I(Br.prototype,oe(),"Map");var Ht=F("ObservableMap",Br),mu={},xn=function(){function g(m,w,T){if(w===void 0&&(w=_t),T===void 0&&(T="ObservableSet@"+A()),this.name=T,this.$mobx=mu,this._data=new Set,this._atom=ie(this.name),typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,G){return w(D,G,T)},m&&this.replace(m)}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.clear=function(){var m=this;ct(function(){Tr(function(){m._data.forEach(function(w){m.delete(w)})})})},g.prototype.forEach=function(m,w){var T=this;this._atom.reportObserved(),this._data.forEach(function(D){m.call(w,D,D,T)})},Object.defineProperty(g.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.add=function(m){var w=this;if(Me(this._atom),en(this)&&!(G=ln(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){ct(function(){w._data.add(w.enhancer(m,void 0)),w._atom.reportChanged()});var T=yt(),D=Nt(this),G=D||T?{type:"add",object:this,newValue:m}:null;D&&st(this,G)}return this},g.prototype.delete=function(m){var w=this;if(en(this)&&!(G=ln(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var T=yt(),D=Nt(this),G=D||T?{type:"delete",object:this,oldValue:m}:null;return ct(function(){w._atom.reportChanged(),w._data.delete(m)}),D&&st(this,G),!0}return!1},g.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},g.prototype.entries=function(){var m=0,w=C(this.keys()),T=C(this.values());return re({next:function(){var D=m;return m+=1,D<T.length?{value:[w[D],T[D]],done:!1}:{done:!0}}})},g.prototype.keys=function(){return this.values()},g.prototype.values=function(){this._atom.reportObserved();var m,w=this,T=0;return this._data.values!==void 0?m=C(this._data.values()):(m=[],this._data.forEach(function(D){return m.push(D)})),re({next:function(){return T<m.length?{value:w.dehanceValue(m[T++]),done:!1}:{done:!0}}})},g.prototype.replace=function(m){var w=this;return Rt(m)&&(m=m.toJS()),ct(function(){var T=Dr(!0);try{Array.isArray(m)||N(m)?(w.clear(),m.forEach(function(D){return w.add(D)})):m!=null&&P("Cannot initialize set from "+m)}finally{ur(T)}}),this},g.prototype.observe=function(m,w){return fr(this,m)},g.prototype.intercept=function(m){return lr(this,m)},g.prototype.toJS=function(){return new Set(this)},g.prototype.toString=function(){return this.name+"[ "+C(this.keys()).join(", ")+" ]"},g}();ee(xn.prototype,function(){return this.values()}),I(xn.prototype,oe(),"Set");var Rt=F("ObservableSet",xn),aa=function(){function g(m,w,T){this.target=m,this.name=w,this.defaultEnhancer=T,this.values={}}return g.prototype.read=function(m,w){if(this.target===m||(this.illegalAccess(m,w),this.values[w]))return this.values[w].get()},g.prototype.write=function(m,w,T){var D=this.target;D!==m&&this.illegalAccess(m,w);var G=this.values[w];if(G instanceof _n)G.set(T);else{if(en(this)){if(!(me=ln(this,{type:"update",object:D,name:w,newValue:T})))return;T=me.newValue}if((T=G.prepareNewValue(T))!==de.UNCHANGED){var Q=Nt(this),se=yt(),me=Q||se?{type:"update",object:D,oldValue:G.value,name:w,newValue:T}:null;se&&Qt(_e(_e({},me),{name:this.name,key:w})),G.setNewValue(T),Q&&st(this,me),se&&Ut()}}},g.prototype.remove=function(m){if(this.values[m]){var w=this.target;if(en(this)&&!(Q=ln(this,{object:w,name:m,type:"remove"})))return;try{Mt();var T=Nt(this),D=yt(),G=this.values[m].get();this.keys&&this.keys.remove(m),delete this.values[m],delete this.target[m];var Q=T||D?{type:"remove",object:w,oldValue:G,name:m}:null;D&&Qt(_e(_e({},Q),{name:this.name,key:m})),T&&st(this,Q),D&&Ut()}finally{Jt()}}},g.prototype.illegalAccess=function(m,w){console.warn("Property '"+w+"' of '"+m+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},g.prototype.observe=function(m,w){return fr(this,m)},g.prototype.intercept=function(m){return lr(this,m)},g.prototype.getKeys=function(){var m=this;return this.keys===void 0&&(this.keys=new Ct(Object.keys(this.values).filter(function(w){return m.values[w]instanceof mn}),gn,"keys("+this.name+")",!0)),this.keys.slice()},g}();function ei(g,m,w){m===void 0&&(m=""),w===void 0&&(w=_t);var T=g.$mobx;return T||(X(g)||(m=(g.constructor.name||"ObservableObject")+"@"+A()),m||(m="ObservableObject@"+A()),I(g,"$mobx",T=new aa(g,m,w)),T)}function _u(g,m,w,T){var D=ei(g);if(en(D)){var G=ln(D,{object:g,name:m,type:"add",newValue:w});if(!G)return;w=G.newValue}w=(D.values[m]=new mn(w,T,D.name+"."+m,!1)).value,Object.defineProperty(g,m,function(Q){return ua[Q]||(ua[Q]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,Q)},set:function(se){this.$mobx.write(this,Q,se)}})}(m)),D.keys&&D.keys.push(m),function(Q,se,me,Ae){var Oe=Nt(Q),ze=yt(),Be=Oe||ze?{type:"add",object:se,name:me,newValue:Ae}:null;ze&&Qt(_e(_e({},Be),{name:Q.name,key:me})),Oe&&st(Q,Be),ze&&Ut()}(D,g,m,w)}var ua=Object.create(null),fn=Object.create(null);function It(g){var m=g.$mobx;return m||(rt(g),g.$mobx)}var ca=F("ObservableObjectAdministration",aa);function pn(g){return!!Y(g)&&(rt(g),ca(g.$mobx))}function hn(g,m){if(typeof g=="object"&&g!==null){if(Gt(g))return m!==void 0&&P(!1),g.$mobx.atom;if(Rt(g))return g.$mobx;if(Ht(g)){var w=g;return m===void 0?w._keysAtom:((T=w._data.get(m)||w._hasMap.get(m))||P(!1),T)}var T;if(rt(g),m&&!g.$mobx&&g[m],pn(g))return m?((T=g.$mobx.values[m])||P(!1),T):P(!1);if(pe(g)||Wn(g)||ro(g))return g}else if(typeof g=="function"&&ro(g.$mobx))return g.$mobx;return P(!1)}function En(g,m){return g||P("Expecting some object"),m!==void 0?En(hn(g,m)):pe(g)||Wn(g)||ro(g)||Ht(g)||Rt(g)?g:(rt(g),g.$mobx?g.$mobx:void P(!1))}function sa(g,m){return(m!==void 0?hn(g,m):pn(g)||Ht(g)||Rt(g)?En(g):hn(g)).name}var la=Object.prototype.toString;function ti(g,m,w){return w===void 0&&(w=-1),function T(D,G,Q,se,me){if(D===G)return D!==0||1/D==1/G;if(D==null||G==null)return!1;if(D!=D)return G!=G;var Ae=typeof D;if(Ae!=="function"&&Ae!=="object"&&typeof G!="object")return!1;D=ni(D),G=ni(G);var Oe=la.call(D);if(Oe!==la.call(G))return!1;switch(Oe){case"[object RegExp]":case"[object String]":return""+D==""+G;case"[object Number]":return+D!=+D?+G!=+G:+D==0?1/+D==1/G:+D==+G;case"[object Date]":case"[object Boolean]":return+D==+G;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(G)}var ze=Oe==="[object Array]";if(!ze){if(typeof D!="object"||typeof G!="object")return!1;var Be=D.constructor,Ue=G.constructor;if(Be!==Ue&&!(typeof Be=="function"&&Be instanceof Be&&typeof Ue=="function"&&Ue instanceof Ue)&&"constructor"in D&&"constructor"in G)return!1}if(Q===0)return!1;Q<0&&(Q=-1),me=me||[];for(var qe=(se=se||[]).length;qe--;)if(se[qe]===D)return me[qe]===G;if(se.push(D),me.push(G),ze){if((qe=D.length)!==G.length)return!1;for(;qe--;)if(!T(D[qe],G[qe],Q-1,se,me))return!1}else{var Xe=Object.keys(D),nt=void 0;if(qe=Xe.length,Object.keys(G).length!==qe)return!1;for(;qe--;)if(nt=Xe[qe],!hr(G,nt)||!T(D[nt],G[nt],Q-1,se,me))return!1}return se.pop(),me.pop(),!0}(g,m,w)}function ni(g){return Gt(g)?g.peek():V(g)||Ht(g)||N(g)||Rt(g)?C(g.entries()):g}function hr(g,m){return Object.prototype.hasOwnProperty.call(g,m)}var Lt="$mobx";typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Gi,extras:{getDebugName:sa},$mobx:Lt})}).call(this,u(85),u(104))},function(s,f,u){var p=u(34),d=u(66),b=u(56),x=u(51),E=u(90),S=x.set,A=x.getterFor("Array Iterator");s.exports=E(Array,"Array",function(P,O){S(this,{type:"Array Iterator",target:p(P),index:0,kind:O})},function(){var P=A(this),O=P.target,L=P.kind,W=P.index++;return!O||W>=O.length?(P.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:W,done:!1}:L=="values"?{value:O[W],done:!1}:{value:[W,O[W]],done:!1}},"values"),b.Arguments=b.Array,d("keys"),d("values"),d("entries")},function(s,f,u){var p=u(14),d=u(23),b=u(45),x=u(68),E=u(28),S=u(88),A=u(16),P=u(27),O=u(80),L=u(24),W=u(53),Y=u(25),X=u(30),H=u(34),I=u(72),F=u(33),V=u(57),N=u(46),C=u(54),R=u(58),B=u(117),z=u(91),Z=u(47),ee=u(29),re=u(75),oe=u(40),be=u(43),fe=u(67),pe=u(74),ie=u(55),ce=u(69),ye=u(21),he=u(128),Pe=u(129),_e=u(77),Fe=u(51),He=u(60).forEach,Ie=pe("hidden"),Kt=ye("toPrimitive"),vn=Fe.set,rt=Fe.getterFor("Symbol"),Ge=Object.prototype,ht=d.Symbol,_t=b("JSON","stringify"),gn=Z.f,kt=ee.f,or=B.f,Jr=re.f,dt=fe("symbols"),$t=fe("op-symbols"),Zt=fe("string-to-symbol-registry"),Pr=fe("symbol-to-string-registry"),Ar=fe("wks"),ir=d.QObject,An=!ir||!ir.prototype||!ir.prototype.findChild,Qe=E&&A(function(){return N(kt({},"a",{get:function(){return kt(this,"a",{value:7}).a}})).a!=7})?function(ge,we,De){var Me=gn(Ge,we);Me&&delete Ge[we],kt(ge,we,De),Me&&ge!==Ge&&kt(Ge,we,Me)}:kt,Tt=function(ge,we){var De=dt[ge]=N(ht.prototype);return vn(De,{type:"Symbol",tag:ge,description:we}),E||(De.description=we),De},Ne=function(ge,we,De){ge===Ge&&Ne($t,we,De),Y(ge);var Me=I(we);return Y(De),P(dt,Me)?(De.enumerable?(P(ge,Ie)&&ge[Ie][Me]&&(ge[Ie][Me]=!1),De=N(De,{enumerable:V(0,!1)})):(P(ge,Ie)||kt(ge,Ie,V(1,{})),ge[Ie][Me]=!0),Qe(ge,Me,De)):kt(ge,Me,De)},St=function(ge,we){Y(ge);var De=H(we),Me=C(De).concat(cn(De));return He(Me,function(ot){E&&!un.call(De,ot)||Ne(ge,ot,De[ot])}),ge},un=function(ge){var we=I(ge),De=Jr.call(this,we);return!(this===Ge&&P(dt,we)&&!P($t,we))&&(!(De||!P(this,we)||!P(dt,we)||P(this,Ie)&&this[Ie][we])||De)},kr=function(ge,we){var De=H(ge),Me=I(we);if(De!==Ge||!P(dt,Me)||P($t,Me)){var ot=gn(De,Me);return!ot||!P(dt,Me)||P(De,Ie)&&De[Ie][Me]||(ot.enumerable=!0),ot}},ar=function(ge){var we=or(H(ge)),De=[];return He(we,function(Me){P(dt,Me)||P(ie,Me)||De.push(Me)}),De},cn=function(ge){var we=ge===Ge,De=or(we?$t:H(ge)),Me=[];return He(De,function(ot){!P(dt,ot)||we&&!P(Ge,ot)||Me.push(dt[ot])}),Me};S||(be((ht=function(){if(this instanceof ht)throw TypeError("Symbol is not a constructor");var ge=arguments.length&&arguments[0]!==void 0?F(arguments[0]):void 0,we=ce(ge),De=function(Me){this===Ge&&De.call($t,Me),P(this,Ie)&&P(this[Ie],we)&&(this[Ie][we]=!1),Qe(this,we,V(1,Me))};return E&&An&&Qe(Ge,we,{configurable:!0,set:De}),Tt(we,ge)}).prototype,"toString",function(){return rt(this).tag}),be(ht,"withoutSetter",function(ge){return Tt(ce(ge),ge)}),re.f=un,ee.f=Ne,Z.f=kr,R.f=B.f=ar,z.f=cn,he.f=function(ge){return Tt(ye(ge),ge)},E&&(kt(ht.prototype,"description",{configurable:!0,get:function(){return rt(this).description}}),x||be(Ge,"propertyIsEnumerable",un,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!S,sham:!S},{Symbol:ht}),He(C(Ar),function(ge){Pe(ge)}),p({target:"Symbol",stat:!0,forced:!S},{for:function(ge){var we=F(ge);if(P(Zt,we))return Zt[we];var De=ht(we);return Zt[we]=De,Pr[De]=we,De},keyFor:function(ge){if(!W(ge))throw TypeError(ge+" is not a symbol");if(P(Pr,ge))return Pr[ge]},useSetter:function(){An=!0},useSimple:function(){An=!1}}),p({target:"Object",stat:!0,forced:!S,sham:!E},{create:function(ge,we){return we===void 0?N(ge):St(N(ge),we)},defineProperty:Ne,defineProperties:St,getOwnPropertyDescriptor:kr}),p({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:ar,getOwnPropertySymbols:cn}),p({target:"Object",stat:!0,forced:A(function(){z.f(1)})},{getOwnPropertySymbols:function(ge){return z.f(X(ge))}}),_t&&p({target:"JSON",stat:!0,forced:!S||A(function(){var ge=ht();return _t([ge])!="[null]"||_t({a:ge})!="{}"||_t(Object(ge))!="{}"})},{stringify:function(ge,we,De){for(var Me,ot=[ge],Xn=1;arguments.length>Xn;)ot.push(arguments[Xn++]);if(Me=we,(L(we)||ge!==void 0)&&!W(ge))return O(we)||(we=function(Tr,Ft){if(typeof Me=="function"&&(Ft=Me.call(this,Tr,Ft)),!W(Ft))return Ft}),ot[1]=we,_t.apply(null,ot)}}),ht.prototype[Kt]||oe(ht.prototype,Kt,ht.prototype.valueOf),_e(ht,"Symbol"),ie[Ie]=!0},function(s,f,u){var p=u(95),d=u(43),b=u(153);p||d(Object.prototype,"toString",b,{unsafe:!0})},function(s,f,u){var p=u(23),d=u(127),b=u(1),x=u(40),E=u(21),S=E("iterator"),A=E("toStringTag"),P=b.values;for(var O in d){var L=p[O],W=L&&L.prototype;if(W){if(W[S]!==P)try{x(W,S,P)}catch(X){W[S]=P}if(W[A]||x(W,A,O),d[O]){for(var Y in b)if(W[Y]!==b[Y])try{x(W,Y,b[Y])}catch(X){W[Y]=b[Y]}}}}},function(s,f,u){var p=u(126).charAt,d=u(33),b=u(51),x=u(90),E=b.set,S=b.getterFor("String Iterator");x(String,"String",function(A){E(this,{type:"String Iterator",string:d(A),index:0})},function(){var A,P=S(this),O=P.string,L=P.index;return L>=O.length?{value:void 0,done:!0}:(A=p(O,L),P.index+=A.length,{value:A,done:!1})})},function(s,f,u){var p=u(14),d=u(28),b=u(23),x=u(27),E=u(24),S=u(29).f,A=u(112),P=b.Symbol;if(d&&typeof P=="function"&&(!("description"in P.prototype)||P().description!==void 0)){var O={},L=function(){var I=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),F=this instanceof L?new P(I):I===void 0?P():P(I);return I===""&&(O[F]=!0),F};A(L,P);var W=L.prototype=P.prototype;W.constructor=L;var Y=W.toString,X=String(P("test"))=="Symbol(test)",H=/^Symbol\((.*)\)[^)]+$/;S(W,"description",{configurable:!0,get:function(){var I=E(this)?this.valueOf():this,F=Y.call(I);if(x(O,I))return"";var V=X?F.slice(7,-1):F.replace(H,"$1");return V===""?void 0:V}}),p({global:!0,forced:!0},{Symbol:L})}},function(s,f,u){u(129)("iterator")},function(s,f,u){var p=u(23),d=u(127),b=u(154),x=u(40);for(var E in d){var S=p[E],A=S&&S.prototype;if(A&&A.forEach!==b)try{x(A,"forEach",b)}catch(P){A.forEach=b}}},function(s,f,u){u(14)({target:"Object",stat:!0},{setPrototypeOf:u(93)})},function(s,f,u){var p=u(14),d=u(16),b=u(30),x=u(76),E=u(115);p({target:"Object",stat:!0,forced:d(function(){x(1)}),sham:!E},{getPrototypeOf:function(S){return x(b(S))}})},function(s,f,u){var p=u(14),d=u(45),b=u(59),x=u(25),E=u(24),S=u(46),A=u(172),P=u(16),O=d("Reflect","construct"),L=P(function(){function X(){}return!(O(function(){},[],X)instanceof X)}),W=!P(function(){O(function(){})}),Y=L||W;p({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(X,H){b(X),x(H);var I=arguments.length<3?X:b(arguments[2]);if(W&&!L)return O(X,H,I);if(X==I){switch(H.length){case 0:return new X;case 1:return new X(H[0]);case 2:return new X(H[0],H[1]);case 3:return new X(H[0],H[1],H[2]);case 4:return new X(H[0],H[1],H[2],H[3])}var F=[null];return F.push.apply(F,H),new(A.apply(X,F))}var V=I.prototype,N=S(E(V)?V:Object.prototype),C=Function.apply.call(X,N,H);return E(C)?C:N}})},function(s,f,u){var p=u(14),d=u(30),b=u(54);p({target:"Object",stat:!0,forced:u(16)(function(){b(1)})},{keys:function(x){return b(d(x))}})},function(s,f,u){var p=u(14),d=u(16),b=u(34),x=u(47).f,E=u(28),S=d(function(){x(1)});p({target:"Object",stat:!0,forced:!E||S,sham:!E},{getOwnPropertyDescriptor:function(A,P){return x(b(A),P)}})},function(s,f,u){var p=u(23),d=u(47).f,b=u(40),x=u(43),E=u(87),S=u(112),A=u(92);s.exports=function(P,O){var L,W,Y,X,H,I=P.target,F=P.global,V=P.stat;if(L=F?p:V?p[I]||E(I,{}):(p[I]||{}).prototype)for(W in O){if(X=O[W],Y=P.noTargetGet?(H=d(L,W))&&H.value:L[W],!A(F?W:I+(V?".":"#")+W,P.forced)&&Y!==void 0){if(typeof X==typeof Y)continue;S(X,Y)}(P.sham||Y&&Y.sham)&&b(X,"sham",!0),x(L,W,X,P)}}},function(s,f,u){var p=u(14),d=u(24),b=u(80),x=u(73),E=u(32),S=u(34),A=u(62),P=u(21),O=u(61)("slice"),L=P("species"),W=[].slice,Y=Math.max;p({target:"Array",proto:!0,forced:!O},{slice:function(X,H){var I,F,V,N=S(this),C=E(N.length),R=x(X,C),B=x(H===void 0?C:H,C);if(b(N)&&(typeof(I=N.constructor)!="function"||I!==Array&&!b(I.prototype)?d(I)&&(I=I[L])===null&&(I=void 0):I=void 0,I===Array||I===void 0))return W.call(N,R,B);for(F=new(I===void 0?Array:I)(Y(B-R,0)),V=0;R<B;R++,V++)R in N&&A(F,V,N[R]);return F.length=V,F}})},function(s,f){s.exports=function(u){try{return!!u()}catch(p){return!0}}},function(s,f,u){var p=u(28),d=u(29).f,b=Function.prototype,x=b.toString,E=/^\s*function ([^ (]*)/;p&&!("name"in b)&&d(b,"name",{configurable:!0,get:function(){try{return x.call(this).match(E)[1]}catch(S){return""}}})},function(s,f,u){var p=u(14),d=u(157);p({target:"Array",stat:!0,forced:!u(124)(function(b){Array.from(b)})},{from:d})},function(s,f,u){var p=u(14),d=u(60).filter;p({target:"Array",proto:!0,forced:!u(61)("filter")},{filter:function(b){return d(this,b,arguments.length>1?arguments[1]:void 0)}})},function(s,f,u){var p=u(14),d=u(28),b=u(113),x=u(34),E=u(47),S=u(62);p({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(A){for(var P,O,L=x(A),W=E.f,Y=b(L),X={},H=0;Y.length>H;)(O=W(L,P=Y[H++]))!==void 0&&S(X,P,O);return X}})},function(s,f,u){var p=u(23),d=u(67),b=u(27),x=u(69),E=u(88),S=u(105),A=d("wks"),P=p.Symbol,O=S?P:P&&P.withoutSetter||x;s.exports=function(L){return b(A,L)&&(E||typeof A[L]=="string")||(E&&b(P,L)?A[L]=P[L]:A[L]=O("Symbol."+L)),A[L]}},function(s,f,u){var p=u(84),d=typeof self=="object"&&self&&self.Object===Object&&self,b=p.a||d||Function("return this")();f.a=b},function(s,f,u){(function(p){var d=function(b){return b&&b.Math==Math&&b};s.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,u(85))},function(s,f){s.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},function(s,f,u){var p=u(24);s.exports=function(d){if(!p(d))throw TypeError(String(d)+" is not an object");return d}},,function(s,f,u){var p=u(30),d={}.hasOwnProperty;s.exports=Object.hasOwn||function(b,x){return d.call(p(b),x)}},function(s,f,u){var p=u(16);s.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,f,u){var p=u(28),d=u(106),b=u(25),x=u(72),E=Object.defineProperty;f.f=p?E:function(S,A,P){if(b(S),A=x(A),b(P),d)try{return E(S,A,P)}catch(O){}if("get"in P||"set"in P)throw TypeError("Accessors not supported");return"value"in P&&(S[A]=P.value),S}},function(s,f,u){var p=u(37);s.exports=function(d){return Object(p(d))}},function(s,f,u){var p=u(14),d=u(16),b=u(80),x=u(24),E=u(30),S=u(32),A=u(62),P=u(96),O=u(61),L=u(21),W=u(70),Y=L("isConcatSpreadable"),X=W>=51||!d(function(){var F=[];return F[Y]=!1,F.concat()[0]!==F}),H=O("concat"),I=function(F){if(!x(F))return!1;var V=F[Y];return V!==void 0?!!V:b(F)};p({target:"Array",proto:!0,forced:!X||!H},{concat:function(F){var V,N,C,R,B,z=E(this),Z=P(z,0),ee=0;for(V=-1,C=arguments.length;V<C;V++)if(I(B=V===-1?z:arguments[V])){if(ee+(R=S(B.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(N=0;N<R;N++,ee++)N in B&&A(Z,ee,B[N])}else{if(ee>=9007199254740991)throw TypeError("Maximum allowed index exceeded");A(Z,ee++,B)}return Z.length=ee,Z}})},function(s,f,u){var p=u(50),d=Math.min;s.exports=function(b){return b>0?d(p(b),9007199254740991):0}},function(s,f,u){var p=u(53);s.exports=function(d){if(p(d))throw TypeError("Cannot convert a Symbol value to a string");return String(d)}},function(s,f,u){var p=u(65),d=u(37);s.exports=function(b){return p(d(b))}},function(s,f,u){var p=u(14),d=u(60).map;p({target:"Array",proto:!0,forced:!u(61)("map")},{map:function(b){return d(this,b,arguments.length>1?arguments[1]:void 0)}})},function(s,f,u){var p=u(14),d=u(24),b=u(25),x=u(177),E=u(47),S=u(76);p({target:"Reflect",stat:!0},{get:function A(P,O){var L,W,Y=arguments.length<3?P:arguments[2];return b(P)===Y?P[O]:(L=E.f(P,O))?x(L)?L.value:L.get===void 0?void 0:L.get.call(Y):d(W=S(P))?A(W,O,Y):void 0}})},function(s,f){s.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},function(s,f,u){var p=u(14),d=u(173);p({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(s,f,u){var p=u(14),d=u(181),b=u(66);p({target:"Array",proto:!0},{fill:d}),b("fill")},function(s,f,u){var p=u(28),d=u(29),b=u(57);s.exports=p?function(x,E,S){return d.f(x,E,b(1,S))}:function(x,E,S){return x[E]=S,x}},function(s,f,u){var p=u(14),d=u(82);p({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(s,f,u){(function(p){var d=u(84),b=y&&!y.nodeType&&y,x=b&&typeof p=="object"&&p&&!p.nodeType&&p,E=x&&x.exports===b&&d.a.process,S=function(){try{var A=x&&x.require&&x.require("util").types;return A||E&&E.binding&&E.binding("util")}catch(P){}}();f.a=S}).call(this,u(98)(s))},function(s,f,u){var p=u(23),d=u(40),b=u(27),x=u(87),E=u(111),S=u(51),A=S.get,P=S.enforce,O=String(String).split("String");(s.exports=function(L,W,Y,X){var H,I=!!X&&!!X.unsafe,F=!!X&&!!X.enumerable,V=!!X&&!!X.noTargetGet;typeof Y=="function"&&(typeof W!="string"||b(Y,"name")||d(Y,"name",W),(H=P(Y)).source||(H.source=O.join(typeof W=="string"?W:""))),L!==p?(I?!V&&L[W]&&(F=!0):delete L[W],F?L[W]=Y:d(L,W,Y)):F?L[W]=Y:x(W,Y)})(Function.prototype,"toString",function(){return typeof this=="function"&&A(this).source||E(this)})},function(s,f,u){var p=u(14),d=u(180).entries;p({target:"Object",stat:!0},{entries:function(b){return d(b)}})},function(s,f,u){var p=u(23),d=function(b){return typeof b=="function"?b:void 0};s.exports=function(b,x){return arguments.length<2?d(p[b]):p[b]&&p[b][x]}},function(s,f,u){var p,d=u(25),b=u(142),x=u(89),E=u(55),S=u(144),A=u(107),P=u(74),O=P("IE_PROTO"),L=function(){},W=function(H){return"<script>"+H+"<\/script>"},Y=function(H){H.write(W("")),H.close();var I=H.parentWindow.Object;return H=null,I},X=function(){try{p=new ActiveXObject("htmlfile")}catch(V){}var H,I;X=typeof document!="undefined"?document.domain&&p?Y(p):((I=A("iframe")).style.display="none",S.appendChild(I),I.src=String("javascript:"),(H=I.contentWindow.document).open(),H.write(W("document.F=Object")),H.close(),H.F):Y(p);for(var F=x.length;F--;)delete X.prototype[x[F]];return X()};E[O]=!0,s.exports=Object.create||function(H,I){var F;return H!==null?(L.prototype=d(H),F=new L,L.prototype=null,F[O]=H):F=X(),I===void 0?F:b(F,I)}},function(s,f,u){var p=u(28),d=u(75),b=u(57),x=u(34),E=u(72),S=u(27),A=u(106),P=Object.getOwnPropertyDescriptor;f.f=p?P:function(O,L){if(O=x(O),L=E(L),A)try{return P(O,L)}catch(W){}if(S(O,L))return b(!d.f.call(O,L),O[L])}},function(s,f,u){(function(p){var d=u(22),b=u(138),x=y&&!y.nodeType&&y,E=x&&typeof p=="object"&&p&&!p.nodeType&&p,S=E&&E.exports===x?d.a.Buffer:void 0,A=(S?S.isBuffer:void 0)||b.a;f.a=A}).call(this,u(98)(s))},function(s,f){var u={}.toString;s.exports=function(p){return u.call(p).slice(8,-1)}},function(s,f){var u=Math.ceil,p=Math.floor;s.exports=function(d){return isNaN(d=+d)?0:(d>0?p:u)(d)}},function(s,f,u){var p,d,b,x=u(145),E=u(23),S=u(24),A=u(40),P=u(27),O=u(86),L=u(74),W=u(55),Y=E.WeakMap;if(x||O.state){var X=O.state||(O.state=new Y),H=X.get,I=X.has,F=X.set;p=function(N,C){if(I.call(X,N))throw new TypeError("Object already initialized");return C.facade=N,F.call(X,N,C),C},d=function(N){return H.call(X,N)||{}},b=function(N){return I.call(X,N)}}else{var V=L("state");W[V]=!0,p=function(N,C){if(P(N,V))throw new TypeError("Object already initialized");return C.facade=N,A(N,V,C),C},d=function(N){return P(N,V)?N[V]:{}},b=function(N){return P(N,V)}}s.exports={set:p,get:d,has:b,enforce:function(N){return b(N)?d(N):p(N,{})},getterFor:function(N){return function(C){var R;if(!S(C)||(R=d(C)).type!==N)throw TypeError("Incompatible receiver, "+N+" required");return R}}}},function(s,f,u){var p=u(99),d=u(132),b=u(25),x=u(37),E=u(170),S=u(100),A=u(32),P=u(33),O=u(101),L=u(82),W=u(133),Y=u(16),X=W.UNSUPPORTED_Y,H=[].push,I=Math.min;p("split",function(F,V,N){var C;return C="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(R,B){var z=P(x(this)),Z=B===void 0?4294967295:B>>>0;if(Z===0)return[];if(R===void 0)return[z];if(!d(R))return V.call(z,R,Z);for(var ee,re,oe,be=[],fe=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(R.sticky?"y":""),pe=0,ie=new RegExp(R.source,fe+"g");(ee=L.call(ie,z))&&!((re=ie.lastIndex)>pe&&(be.push(z.slice(pe,ee.index)),ee.length>1&&ee.index<z.length&&H.apply(be,ee.slice(1)),oe=ee[0].length,pe=re,be.length>=Z));)ie.lastIndex===ee.index&&ie.lastIndex++;return pe===z.length?!oe&&ie.test("")||be.push(""):be.push(z.slice(pe)),be.length>Z?be.slice(0,Z):be}:"0".split(void 0,0).length?function(R,B){return R===void 0&&B===0?[]:V.call(this,R,B)}:V,[function(R,B){var z=x(this),Z=R==null?void 0:R[F];return Z!==void 0?Z.call(R,z,B):C.call(P(z),R,B)},function(R,B){var z=b(this),Z=P(R),ee=N(C,z,Z,B,C!==V);if(ee.done)return ee.value;var re=E(z,RegExp),oe=z.unicode,be=(z.ignoreCase?"i":"")+(z.multiline?"m":"")+(z.unicode?"u":"")+(X?"g":"y"),fe=new re(X?"^(?:"+z.source+")":z,be),pe=B===void 0?4294967295:B>>>0;if(pe===0)return[];if(Z.length===0)return O(fe,Z)===null?[Z]:[];for(var ie=0,ce=0,ye=[];ce<Z.length;){fe.lastIndex=X?0:ce;var he,Pe=O(fe,X?Z.slice(ce):Z);if(Pe===null||(he=I(A(fe.lastIndex+(X?ce:0)),Z.length))===ie)ce=S(Z,ce,oe);else{if(ye.push(Z.slice(ie,ce)),ye.length===pe)return ye;for(var _e=1;_e<=Pe.length-1;_e++)if(ye.push(Pe[_e]),ye.length===pe)return ye;ce=ie=he}}return ye.push(Z.slice(ie)),ye}]},!!Y(function(){var F=/(?:)/,V=F.exec;F.exec=function(){return V.apply(this,arguments)};var N="ab".split(F);return N.length!==2||N[0]!=="a"||N[1]!=="b"}),X)},function(s,f,u){var p=u(45),d=u(105);s.exports=d?function(b){return typeof b=="symbol"}:function(b){var x=p("Symbol");return typeof x=="function"&&Object(b)instanceof x}},function(s,f,u){var p=u(109),d=u(89);s.exports=Object.keys||function(b){return p(b,d)}},function(s,f){s.exports={}},function(s,f){s.exports={}},function(s,f){s.exports=function(u,p){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:p}}},function(s,f,u){var p=u(109),d=u(89).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(b){return p(b,d)}},function(s,f){s.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}},function(s,f,u){var p=u(79),d=u(65),b=u(30),x=u(32),E=u(96),S=[].push,A=function(P){var O=P==1,L=P==2,W=P==3,Y=P==4,X=P==6,H=P==7,I=P==5||X;return function(F,V,N,C){for(var R,B,z=b(F),Z=d(z),ee=p(V,N,3),re=x(Z.length),oe=0,be=C||E,fe=O?be(F,re):L||H?be(F,0):void 0;re>oe;oe++)if((I||oe in Z)&&(B=ee(R=Z[oe],oe,z),P))if(O)fe[oe]=B;else if(B)switch(P){case 3:return!0;case 5:return R;case 6:return oe;case 2:S.call(fe,R)}else switch(P){case 4:return!1;case 7:S.call(fe,R)}return X?-1:W||Y?Y:fe}};s.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},function(s,f,u){var p=u(16),d=u(21),b=u(70),x=d("species");s.exports=function(E){return b>=51||!p(function(){var S=[];return(S.constructor={})[x]=function(){return{foo:1}},S[E](Boolean).foo!==1})}},function(s,f,u){var p=u(72),d=u(29),b=u(57);s.exports=function(x,E,S){var A=p(E);A in x?d.f(x,A,b(0,S)):x[A]=S}},function(s,f,u){var p=u(28),d=u(23),b=u(92),x=u(43),E=u(27),S=u(49),A=u(125),P=u(53),O=u(108),L=u(16),W=u(46),Y=u(58).f,X=u(47).f,H=u(29).f,I=u(134).trim,F=d.Number,V=F.prototype,N=S(W(V))=="Number",C=function(ee){if(P(ee))throw TypeError("Cannot convert a Symbol value to a number");var re,oe,be,fe,pe,ie,ce,ye,he=O(ee,"number");if(typeof he=="string"&&he.length>2){if((re=(he=I(he)).charCodeAt(0))===43||re===45){if((oe=he.charCodeAt(2))===88||oe===120)return NaN}else if(re===48){switch(he.charCodeAt(1)){case 66:case 98:be=2,fe=49;break;case 79:case 111:be=8,fe=55;break;default:return+he}for(ie=(pe=he.slice(2)).length,ce=0;ce<ie;ce++)if((ye=pe.charCodeAt(ce))<48||ye>fe)return NaN;return parseInt(pe,be)}}return+he};if(b("Number",!F(" 0o1")||!F("0b1")||F("+0x1"))){for(var R,B=function(ee){var re=arguments.length<1?0:ee,oe=this;return oe instanceof B&&(N?L(function(){V.valueOf.call(oe)}):S(oe)!="Number")?A(new F(C(re)),oe,B):C(re)},z=p?Y(F):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Z=0;z.length>Z;Z++)E(F,R=z[Z])&&!E(B,R)&&H(B,R,X(F,R));B.prototype=V,V.constructor=B,x(d,"Number",B)}},function(s,f,u){u(14)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,f,u){var p=u(16),d=u(49),b="".split;s.exports=p(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return d(x)=="String"?b.call(x,""):Object(x)}:Object},function(s,f,u){var p=u(21),d=u(46),b=u(29),x=p("unscopables"),E=Array.prototype;E[x]==null&&b.f(E,x,{configurable:!0,value:d(null)}),s.exports=function(S){E[x][S]=!0}},function(s,f,u){var p=u(68),d=u(86);(s.exports=function(b,x){return d[b]||(d[b]=x!==void 0?x:{})})("versions",[]).push({version:"3.17.2",mode:p?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(s,f){s.exports=!1},function(s,f){var u=0,p=Math.random();s.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++u+p).toString(36)}},function(s,f,u){var p,d,b=u(23),x=u(71),E=b.process,S=b.Deno,A=E&&E.versions||S&&S.version,P=A&&A.v8;P?d=(p=P.split("."))[0]<4?1:p[0]+p[1]:x&&(!(p=x.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=x.match(/Chrome\/(\d+)/))&&(d=p[1]),s.exports=d&&+d},function(s,f,u){var p=u(45);s.exports=p("navigator","userAgent")||""},function(s,f,u){var p=u(108),d=u(53);s.exports=function(b){var x=p(b,"string");return d(x)?x:String(x)}},function(s,f,u){var p=u(50),d=Math.max,b=Math.min;s.exports=function(x,E){var S=p(x);return S<0?d(S+E,0):b(S,E)}},function(s,f,u){var p=u(67),d=u(69),b=p("keys");s.exports=function(x){return b[x]||(b[x]=d(x))}},function(s,f,u){var p={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,b=d&&!p.call({1:2},1);f.f=b?function(x){var E=d(this,x);return!!E&&E.enumerable}:p},function(s,f,u){var p=u(27),d=u(30),b=u(74),x=u(115),E=b("IE_PROTO"),S=Object.prototype;s.exports=x?Object.getPrototypeOf:function(A){return A=d(A),p(A,E)?A[E]:typeof A.constructor=="function"&&A instanceof A.constructor?A.constructor.prototype:A instanceof Object?S:null}},function(s,f,u){var p=u(29).f,d=u(27),b=u(21)("toStringTag");s.exports=function(x,E,S){x&&!d(x=S?x:x.prototype,b)&&p(x,b,{configurable:!0,value:E})}},function(s,f,u){var p=u(148),d=u(150);s.exports=p("Map",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},d)},function(s,f,u){var p=u(59);s.exports=function(d,b,x){if(p(d),b===void 0)return d;switch(x){case 0:return function(){return d.call(b)};case 1:return function(E){return d.call(b,E)};case 2:return function(E,S){return d.call(b,E,S)};case 3:return function(E,S,A){return d.call(b,E,S,A)}}return function(){return d.apply(b,arguments)}}},function(s,f,u){var p=u(49);s.exports=Array.isArray||function(d){return p(d)=="Array"}},function(s,f,u){var p=u(14),d=u(73),b=u(50),x=u(32),E=u(30),S=u(96),A=u(62),P=u(61)("splice"),O=Math.max,L=Math.min;p({target:"Array",proto:!0,forced:!P},{splice:function(W,Y){var X,H,I,F,V,N,C=E(this),R=x(C.length),B=d(W,R),z=arguments.length;if(z===0?X=H=0:z===1?(X=0,H=R-B):(X=z-2,H=L(O(b(Y),0),R-B)),R+X-H>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(I=S(C,H),F=0;F<H;F++)(V=B+F)in C&&A(I,F,C[V]);if(I.length=H,X<H){for(F=B;F<R-H;F++)N=F+X,(V=F+H)in C?C[N]=C[V]:delete C[N];for(F=R;F>R-H+X;F--)delete C[F-1]}else if(X>H)for(F=R-H;F>B;F--)N=F+X-1,(V=F+H-1)in C?C[N]=C[V]:delete C[N];for(F=0;F<X;F++)C[F+B]=arguments[F+2];return C.length=R-H+X,I}})},function(s,f,u){var p,d,b=u(33),x=u(167),E=u(133),S=u(67),A=u(46),P=u(51).get,O=u(168),L=u(169),W=RegExp.prototype.exec,Y=S("native-string-replace",String.prototype.replace),X=W,H=(p=/a/,d=/b*/g,W.call(p,"a"),W.call(d,"a"),p.lastIndex!==0||d.lastIndex!==0),I=E.UNSUPPORTED_Y||E.BROKEN_CARET,F=/()??/.exec("")[1]!==void 0;(H||F||I||O||L)&&(X=function(V){var N,C,R,B,z,Z,ee,re=this,oe=P(re),be=b(V),fe=oe.raw;if(fe)return fe.lastIndex=re.lastIndex,N=X.call(fe,be),re.lastIndex=fe.lastIndex,N;var pe=oe.groups,ie=I&&re.sticky,ce=x.call(re),ye=re.source,he=0,Pe=be;if(ie&&((ce=ce.replace("y","")).indexOf("g")===-1&&(ce+="g"),Pe=be.slice(re.lastIndex),re.lastIndex>0&&(!re.multiline||re.multiline&&be.charAt(re.lastIndex-1)!==`
`)&&(ye="(?: "+ye+")",Pe=" "+Pe,he++),C=new RegExp("^(?:"+ye+")",ce)),F&&(C=new RegExp("^"+ye+"$(?!\\s)",ce)),H&&(R=re.lastIndex),B=W.call(ie?C:re,Pe),ie?B?(B.input=B.input.slice(he),B[0]=B[0].slice(he),B.index=re.lastIndex,re.lastIndex+=B[0].length):re.lastIndex=0:H&&B&&(re.lastIndex=re.global?B.index+B[0].length:R),F&&B&&B.length>1&&Y.call(B[0],C,function(){for(z=1;z<arguments.length-2;z++)arguments[z]===void 0&&(B[z]=void 0)}),B&&pe)for(B.groups=Z=A(null),z=0;z<pe.length;z++)Z[(ee=pe[z])[0]]=B[ee[1]];return B}),s.exports=X},function(s,f,u){var p=u(14),d=u(65),b=u(34),x=u(97),E=[].join,S=d!=Object,A=x("join",",");p({target:"Array",proto:!0,forced:S||!A},{join:function(P){return E.call(b(this),P===void 0?",":P)}})},function(s,f,u){(function(p){var d=typeof p=="object"&&p&&p.Object===Object&&p;f.a=d}).call(this,u(85))},function(s,f){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(p){typeof window=="object"&&(u=window)}s.exports=u},function(s,f,u){var p=u(23),d=u(87),b=p["__core-js_shared__"]||d("__core-js_shared__",{});s.exports=b},function(s,f,u){var p=u(23);s.exports=function(d,b){try{Object.defineProperty(p,d,{value:b,configurable:!0,writable:!0})}catch(x){p[d]=b}return b}},function(s,f,u){var p=u(70),d=u(16);s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(s,f){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,f,u){var p=u(14),d=u(146),b=u(76),x=u(93),E=u(77),S=u(40),A=u(43),P=u(21),O=u(68),L=u(56),W=u(114),Y=W.IteratorPrototype,X=W.BUGGY_SAFARI_ITERATORS,H=P("iterator"),I=function(){return this};s.exports=function(F,V,N,C,R,B,z){d(N,V,C);var Z,ee,re,oe=function(he){if(he===R&&ce)return ce;if(!X&&he in pe)return pe[he];switch(he){case"keys":case"values":case"entries":return function(){return new N(this,he)}}return function(){return new N(this)}},be=V+" Iterator",fe=!1,pe=F.prototype,ie=pe[H]||pe["@@iterator"]||R&&pe[R],ce=!X&&ie||oe(R),ye=V=="Array"&&pe.entries||ie;if(ye&&(Z=b(ye.call(new F)),Y!==Object.prototype&&Z.next&&(O||b(Z)===Y||(x?x(Z,Y):typeof Z[H]!="function"&&S(Z,H,I)),E(Z,be,!0,!0),O&&(L[be]=I))),R=="values"&&ie&&ie.name!=="values"&&(fe=!0,ce=function(){return ie.call(this)}),O&&!z||pe[H]===ce||S(pe,H,ce),L[V]=ce,R)if(ee={values:oe("values"),keys:B?ce:oe("keys"),entries:oe("entries")},z)for(re in ee)(X||fe||!(re in pe))&&A(pe,re,ee[re]);else p({target:V,proto:!0,forced:X||fe},ee);return ee}},function(s,f){f.f=Object.getOwnPropertySymbols},function(s,f,u){var p=u(16),d=/#|\.prototype\./,b=function(P,O){var L=E[x(P)];return L==A||L!=S&&(typeof O=="function"?p(O):!!O)},x=b.normalize=function(P){return String(P).replace(d,".").toLowerCase()},E=b.data={},S=b.NATIVE="N",A=b.POLYFILL="P";s.exports=b},function(s,f,u){var p=u(25),d=u(147);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b,x=!1,E={};try{(b=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),x=E instanceof Array}catch(S){}return function(S,A){return p(S),d(A),x?b.call(S,A):S.__proto__=A,S}}():void 0)},function(s,f,u){var p=u(121),d=u(56),b=u(21)("iterator");s.exports=function(x){if(x!=null)return x[b]||x["@@iterator"]||d[p(x)]}},function(s,f,u){var p={};p[u(21)("toStringTag")]="z",s.exports=String(p)==="[object z]"},function(s,f,u){var p=u(155);s.exports=function(d,b){return new(p(d))(b===0?0:b)}},function(s,f,u){var p=u(16);s.exports=function(d,b){var x=[][d];return!!x&&p(function(){x.call(null,b||function(){throw 1},1)})}},function(s,f){s.exports=function(u){if(!u.webpackPolyfill){var p=Object.create(u);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(s,f,u){u(41);var p=u(43),d=u(82),b=u(16),x=u(21),E=u(40),S=x("species"),A=RegExp.prototype;s.exports=function(P,O,L,W){var Y=x(P),X=!b(function(){var V={};return V[Y]=function(){return 7},""[P](V)!=7}),H=X&&!b(function(){var V=!1,N=/a/;return P==="split"&&((N={}).constructor={},N.constructor[S]=function(){return N},N.flags="",N[Y]=/./[Y]),N.exec=function(){return V=!0,null},N[Y](""),!V});if(!X||!H||L){var I=/./[Y],F=O(Y,""[P],function(V,N,C,R,B){var z=N.exec;return z===d||z===A.exec?X&&!B?{done:!0,value:I.call(N,C,R)}:{done:!0,value:V.call(C,N,R)}:{done:!1}});p(String.prototype,P,F[0]),p(A,Y,F[1])}W&&E(A[Y],"sham",!0)}},function(s,f,u){var p=u(126).charAt;s.exports=function(d,b,x){return b+(x?p(d,b).length:1)}},function(s,f,u){var p=u(49),d=u(82);s.exports=function(b,x){var E=b.exec;if(typeof E=="function"){var S=E.call(b,x);if(typeof S!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return S}if(p(b)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return d.call(b,x)}},function(s,f,u){var p=u(14),d=u(174);p({target:"String",proto:!0,forced:u(175)("anchor")},{anchor:function(b){return d(this,"a","name",b)}})},function(s,f,u){u(14)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,f){var u,p,d=s.exports={};function b(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function E(H){if(u===setTimeout)return setTimeout(H,0);if((u===b||!u)&&setTimeout)return u=setTimeout,setTimeout(H,0);try{return u(H,0)}catch(I){try{return u.call(null,H,0)}catch(F){return u.call(this,H,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:b}catch(H){u=b}try{p=typeof clearTimeout=="function"?clearTimeout:x}catch(H){p=x}})();var S,A=[],P=!1,O=-1;function L(){P&&S&&(P=!1,S.length?A=S.concat(A):O=-1,A.length&&W())}function W(){if(!P){var H=E(L);P=!0;for(var I=A.length;I;){for(S=A,A=[];++O<I;)S&&S[O].run();O=-1,I=A.length}S=null,P=!1,function(F){if(p===clearTimeout)return clearTimeout(F);if((p===x||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(F);try{p(F)}catch(V){try{return p.call(null,F)}catch(N){return p.call(this,F)}}}(H)}}function Y(H,I){this.fun=H,this.array=I}function X(){}d.nextTick=function(H){var I=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)I[F-1]=arguments[F];A.push(new Y(H,I)),A.length!==1||P||E(W)},Y.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=X,d.addListener=X,d.once=X,d.off=X,d.removeListener=X,d.removeAllListeners=X,d.emit=X,d.prependListener=X,d.prependOnceListener=X,d.listeners=function(H){return[]},d.binding=function(H){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(H){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(s,f,u){var p=u(88);s.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,f,u){var p=u(28),d=u(16),b=u(107);s.exports=!p&&!d(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(s,f,u){var p=u(23),d=u(24),b=p.document,x=d(b)&&d(b.createElement);s.exports=function(E){return x?b.createElement(E):{}}},function(s,f,u){var p=u(24),d=u(53),b=u(143),x=u(21)("toPrimitive");s.exports=function(E,S){if(!p(E)||d(E))return E;var A,P=E[x];if(P!==void 0){if(S===void 0&&(S="default"),A=P.call(E,S),!p(A)||d(A))return A;throw TypeError("Can't convert object to primitive value")}return S===void 0&&(S="number"),b(E,S)}},function(s,f,u){var p=u(27),d=u(34),b=u(110).indexOf,x=u(55);s.exports=function(E,S){var A,P=d(E),O=0,L=[];for(A in P)!p(x,A)&&p(P,A)&&L.push(A);for(;S.length>O;)p(P,A=S[O++])&&(~b(L,A)||L.push(A));return L}},function(s,f,u){var p=u(34),d=u(32),b=u(73),x=function(E){return function(S,A,P){var O,L=p(S),W=d(L.length),Y=b(P,W);if(E&&A!=A){for(;W>Y;)if((O=L[Y++])!=O)return!0}else for(;W>Y;Y++)if((E||Y in L)&&L[Y]===A)return E||Y||0;return!E&&-1}};s.exports={includes:x(!0),indexOf:x(!1)}},function(s,f,u){var p=u(86),d=Function.toString;typeof p.inspectSource!="function"&&(p.inspectSource=function(b){return d.call(b)}),s.exports=p.inspectSource},function(s,f,u){var p=u(27),d=u(113),b=u(47),x=u(29);s.exports=function(E,S){for(var A=d(S),P=x.f,O=b.f,L=0;L<A.length;L++){var W=A[L];p(E,W)||P(E,W,O(S,W))}}},function(s,f,u){var p=u(45),d=u(58),b=u(91),x=u(25);s.exports=p("Reflect","ownKeys")||function(E){var S=d.f(x(E)),A=b.f;return A?S.concat(A(E)):S}},function(s,f,u){var p,d,b,x=u(16),E=u(76),S=u(40),A=u(27),P=u(21),O=u(68),L=P("iterator"),W=!1;[].keys&&("next"in(b=[].keys())?(d=E(E(b)))!==Object.prototype&&(p=d):W=!0);var Y=p==null||x(function(){var X={};return p[L].call(X)!==X});Y&&(p={}),O&&!Y||A(p,L)||S(p,L,function(){return this}),s.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:W}},function(s,f,u){var p=u(16);s.exports=!p(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(s,f,u){var p=u(14),d=u(55),b=u(24),x=u(27),E=u(29).f,S=u(58),A=u(117),P=u(69),O=u(149),L=!1,W=P("meta"),Y=0,X=Object.isExtensible||function(){return!0},H=function(F){E(F,W,{value:{objectID:"O"+Y++,weakData:{}}})},I=s.exports={enable:function(){I.enable=function(){},L=!0;var F=S.f,V=[].splice,N={};N[W]=1,F(N).length&&(S.f=function(C){for(var R=F(C),B=0,z=R.length;B<z;B++)if(R[B]===W){V.call(R,B,1);break}return R},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A.f}))},fastKey:function(F,V){if(!b(F))return typeof F=="symbol"?F:(typeof F=="string"?"S":"P")+F;if(!x(F,W)){if(!X(F))return"F";if(!V)return"E";H(F)}return F[W].objectID},getWeakData:function(F,V){if(!x(F,W)){if(!X(F))return!0;if(!V)return!1;H(F)}return F[W].weakData},onFreeze:function(F){return O&&L&&X(F)&&!x(F,W)&&H(F),F}};d[W]=!0},function(s,f,u){var p=u(34),d=u(58).f,b={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(E){return x&&b.call(E)=="[object Window]"?function(S){try{return d(S)}catch(A){return x.slice()}}(E):d(p(E))}},function(s,f,u){var p=u(25),d=u(119),b=u(32),x=u(79),E=u(120),S=u(94),A=u(122),P=function(O,L){this.stopped=O,this.result=L};s.exports=function(O,L,W){var Y,X,H,I,F,V,N,C=W&&W.that,R=!(!W||!W.AS_ENTRIES),B=!(!W||!W.IS_ITERATOR),z=!(!W||!W.INTERRUPTED),Z=x(L,C,1+R+z),ee=function(oe){return Y&&A(Y,"normal",oe),new P(!0,oe)},re=function(oe){return R?(p(oe),z?Z(oe[0],oe[1],ee):Z(oe[0],oe[1])):z?Z(oe,ee):Z(oe)};if(B)Y=O;else{if(typeof(X=S(O))!="function")throw TypeError("Target is not iterable");if(d(X)){for(H=0,I=b(O.length);I>H;H++)if((F=re(O[H]))&&F instanceof P)return F;return new P(!1)}Y=E(O,X)}for(V=Y.next;!(N=V.call(Y)).done;){try{F=re(N.value)}catch(oe){A(Y,"throw",oe)}if(typeof F=="object"&&F&&F instanceof P)return F}return new P(!1)}},function(s,f,u){var p=u(21),d=u(56),b=p("iterator"),x=Array.prototype;s.exports=function(E){return E!==void 0&&(d.Array===E||x[b]===E)}},function(s,f,u){var p=u(25),d=u(94);s.exports=function(b,x){var E=arguments.length<2?d(b):x;if(typeof E!="function")throw TypeError(String(b)+" is not iterable");return p(E.call(b))}},function(s,f,u){var p=u(95),d=u(49),b=u(21)("toStringTag"),x=d(function(){return arguments}())=="Arguments";s.exports=p?d:function(E){var S,A,P;return E===void 0?"Undefined":E===null?"Null":typeof(A=function(O,L){try{return O[L]}catch(W){}}(S=Object(E),b))=="string"?A:x?d(S):(P=d(S))=="Object"&&typeof S.callee=="function"?"Arguments":P}},function(s,f,u){var p=u(25);s.exports=function(d,b,x){var E,S;p(d);try{if((E=d.return)===void 0){if(b==="throw")throw x;return x}E=E.call(d)}catch(A){S=!0,E=A}if(b==="throw")throw x;if(S)throw E;return p(E),x}},function(s,f){s.exports=function(u,p,d){if(!(u instanceof p))throw TypeError("Incorrect "+(d?d+" ":"")+"invocation");return u}},function(s,f,u){var p=u(21)("iterator"),d=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){d=!0}};x[p]=function(){return this},Array.from(x,function(){throw 2})}catch(E){}s.exports=function(E,S){if(!S&&!d)return!1;var A=!1;try{var P={};P[p]=function(){return{next:function(){return{done:A=!0}}}},E(P)}catch(O){}return A}},function(s,f,u){var p=u(24),d=u(93);s.exports=function(b,x,E){var S,A;return d&&typeof(S=x.constructor)=="function"&&S!==E&&p(A=S.prototype)&&A!==E.prototype&&d(b,A),b}},function(s,f,u){var p=u(50),d=u(33),b=u(37),x=function(E){return function(S,A){var P,O,L=d(b(S)),W=p(A),Y=L.length;return W<0||W>=Y?E?"":void 0:(P=L.charCodeAt(W))<55296||P>56319||W+1===Y||(O=L.charCodeAt(W+1))<56320||O>57343?E?L.charAt(W):P:E?L.slice(W,W+2):O-56320+(P-55296<<10)+65536}};s.exports={codeAt:x(!1),charAt:x(!0)}},function(s,f){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,f,u){var p=u(21);f.f=p},function(s,f,u){var p=u(156),d=u(27),b=u(128),x=u(29).f;s.exports=function(E){var S=p.Symbol||(p.Symbol={});d(S,E)||x(S,E,{value:b.f(E)})}},function(s,f,u){var p=u(14),d=u(110).includes,b=u(66);p({target:"Array",proto:!0},{includes:function(x){return d(this,x,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(s,f,u){var p=u(14),d=u(165),b=u(37),x=u(33);p({target:"String",proto:!0,forced:!u(166)("includes")},{includes:function(E){return!!~x(b(this)).indexOf(x(d(E)),arguments.length>1?arguments[1]:void 0)}})},function(s,f,u){var p=u(24),d=u(49),b=u(21)("match");s.exports=function(x){var E;return p(x)&&((E=x[b])!==void 0?!!E:d(x)=="RegExp")}},function(s,f,u){var p=u(16),d=u(23).RegExp;f.UNSUPPORTED_Y=p(function(){var b=d("a","y");return b.lastIndex=2,b.exec("abcd")!=null}),f.BROKEN_CARET=p(function(){var b=d("^r","gy");return b.lastIndex=2,b.exec("str")!=null})},function(s,f,u){var p=u(37),d=u(33),b="["+u(135)+"]",x=RegExp("^"+b+b+"*"),E=RegExp(b+b+"*$"),S=function(A){return function(P){var O=d(p(P));return 1&A&&(O=O.replace(x,"")),2&A&&(O=O.replace(E,"")),O}};s.exports={start:S(1),end:S(2),trim:S(3)}},function(s,f){s.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(s,f,u){var p=u(99),d=u(25),b=u(32),x=u(33),E=u(37),S=u(100),A=u(101);p("match",function(P,O,L){return[function(W){var Y=E(this),X=W==null?void 0:W[P];return X!==void 0?X.call(W,Y):new RegExp(W)[P](x(Y))},function(W){var Y=d(this),X=x(W),H=L(O,Y,X);if(H.done)return H.value;if(!Y.global)return A(Y,X);var I=Y.unicode;Y.lastIndex=0;for(var F,V=[],N=0;(F=A(Y,X))!==null;){var C=x(F[0]);V[N]=C,C===""&&(Y.lastIndex=S(X,b(Y.lastIndex),I)),N++}return N===0?null:V}]})},function(s,f,u){var p=u(99),d=u(16),b=u(25),x=u(50),E=u(32),S=u(33),A=u(37),P=u(100),O=u(171),L=u(101),W=u(21)("replace"),Y=Math.max,X=Math.min,H="a".replace(/./,"$0")==="$0",I=!!/./[W]&&/./[W]("a","$0")==="";p("replace",function(F,V,N){var C=I?"$":"$0";return[function(R,B){var z=A(this),Z=R==null?void 0:R[W];return Z!==void 0?Z.call(R,z,B):V.call(S(z),R,B)},function(R,B){var z=b(this),Z=S(R);if(typeof B=="string"&&B.indexOf(C)===-1&&B.indexOf("$<")===-1){var ee=N(V,z,Z,B);if(ee.done)return ee.value}var re=typeof B=="function";re||(B=S(B));var oe=z.global;if(oe){var be=z.unicode;z.lastIndex=0}for(var fe=[];;){var pe=L(z,Z);if(pe===null||(fe.push(pe),!oe))break;S(pe[0])===""&&(z.lastIndex=P(Z,E(z.lastIndex),be))}for(var ie,ce="",ye=0,he=0;he<fe.length;he++){pe=fe[he];for(var Pe=S(pe[0]),_e=Y(X(x(pe.index),Z.length),0),Fe=[],He=1;He<pe.length;He++)Fe.push((ie=pe[He])===void 0?ie:String(ie));var Ie=pe.groups;if(re){var Kt=[Pe].concat(Fe,_e,Z);Ie!==void 0&&Kt.push(Ie);var vn=S(B.apply(void 0,Kt))}else vn=O(Pe,Z,_e,Fe,Ie,B);_e>=ye&&(ce+=Z.slice(ye,_e)+vn,ye=_e+Pe.length)}return ce+Z.slice(ye)}]},!!d(function(){var F=/./;return F.exec=function(){var V=[];return V.groups={a:"7"},V},"".replace(F,"$<a>")!=="7"})||!H||I)},function(s,f,u){f.a=function(){return!1}},function(s,f,u){(function(p){var d=u(22),b=y&&!y.nodeType&&y,x=b&&typeof p=="object"&&p&&!p.nodeType&&p,E=x&&x.exports===b?d.a.Buffer:void 0,S=E?E.allocUnsafe:void 0;f.a=function(A,P){if(P)return A.slice();var O=A.length,L=S?S(O):new A.constructor(O);return A.copy(L),L}}).call(this,u(98)(s))},function(s,f,u){(function(p){u.d(f,"a",function(){return I});var d=u(0);function b(N){throw new Error("[mobx-utils] "+N)}function x(N,C){C===void 0&&(C="Illegal state"),N||b(C)}var E=function(N){return N&&N!==Object.prototype&&Object.getOwnPropertyNames(N).concat(E(Object.getPrototypeOf(N))||[])},S=function(N){return function(C){var R=E(C);return R.filter(function(B,z){return R.indexOf(B)===z})}(N).filter(function(C){return C!=="constructor"&&!~C.indexOf("__")})};function A(N){switch(this.state){case"pending":return N.pending&&N.pending(this.value);case"rejected":return N.rejected&&N.rejected(this.value);case"fulfilled":return N.fulfilled?N.fulfilled(this.value):this.value}}function P(N,C){if(x(arguments.length<=2,"fromPromise expects up to two arguments"),x(typeof N=="function"||typeof N=="object"&&N&&typeof N.then=="function","Please pass a promise or function to fromPromise"),N.isPromiseBasedObservable===!0)return N;typeof N=="function"&&(N=new Promise(N));var R=N;N.then(Object(d.i)("observableFromPromise-resolve",function(z){R.value=z,R.state="fulfilled"}),Object(d.i)("observableFromPromise-reject",function(z){R.value=z,R.state="rejected"})),R.isPromiseBasedObservable=!0,R.case=A;var B=C&&C.state==="fulfilled"?C.value:void 0;return Object(d.o)(R,{value:B,state:"pending"},{},{deep:!1}),R}(function(N){N.reject=Object(d.i)("fromPromise.reject",function(C){var R=N(Promise.reject(C));return R.state="rejected",R.value=C,R}),N.resolve=Object(d.i)("fromPromise.resolve",function(C){C===void 0&&(C=void 0);var R=N(Promise.resolve(C));return R.state="fulfilled",R.value=C,R})})(P||(P={}));var O=function(N,C,R,B){var z,Z=arguments.length,ee=Z<3?C:B===null?B=Object.getOwnPropertyDescriptor(C,R):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(N,C,R,B);else for(var re=N.length-1;re>=0;re--)(z=N[re])&&(ee=(Z<3?z(ee):Z>3?z(C,R,ee):z(C,R))||ee);return Z>3&&ee&&Object.defineProperty(C,R,ee),ee};(function(){function N(C,R){var B=this;Object(d.E)(function(){B.current=R,B.subscription=C.subscribe(B)})}N.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},N.prototype.next=function(C){this.current=C},N.prototype.complete=function(){this.dispose()},N.prototype.error=function(C){this.current=C,this.dispose()},O([d.A.ref],N.prototype,"current",void 0),O([d.i.bound],N.prototype,"next",null),O([d.i.bound],N.prototype,"complete",null),O([d.i.bound],N.prototype,"error",null)})();var L=function(){return(L=Object.assign||function(N){for(var C,R=1,B=arguments.length;R<B;R++)for(var z in C=arguments[R])Object.prototype.hasOwnProperty.call(C,z)&&(N[z]=C[z]);return N}).apply(this,arguments)},W=function(N,C,R,B){var z,Z=arguments.length,ee=Z<3?C:B===null?B=Object.getOwnPropertyDescriptor(C,R):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(N,C,R,B);else for(var re=N.length-1;re>=0;re--)(z=N[re])&&(ee=(Z<3?z(ee):Z>3?z(C,R,ee):z(C,R))||ee);return Z>3&&ee&&Object.defineProperty(C,R,ee),ee},Y=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function N(C){var R=this;this.model=C,this.localValues=d.A.map({}),this.localComputedValues=d.A.map({}),this.isPropertyDirty=function(B){return R.localValues.has(B)},x(Object(d.y)(C),"createViewModel expects an observable object"),S(C).forEach(function(B){if(B!==d.a&&B!=="__mobxDidRunLazyInitializers"){if(x(Y.indexOf(B)===-1,"The propertyname "+B+" is reserved and cannot be used with viewModels"),Object(d.u)(C,B)){var z=Object(d.f)(C,B).derivation;R.localComputedValues.set(B,Object(d.k)(z.bind(R)))}var Z=Object.getOwnPropertyDescriptor(C,B),ee=Z?{enumerable:Z.enumerable}:{};Object.defineProperty(R,B,L(L({},ee),{configurable:!0,get:function(){return Object(d.u)(C,B)?R.localComputedValues.get(B).get():R.isPropertyDirty(B)?R.localValues.get(B):R.model[B]},set:Object(d.i)(function(re){re!==R.model[B]?R.localValues.set(B,re):R.localValues.delete(B)})}))}})}Object.defineProperty(N.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),N.prototype.submit=function(){var C=this;Object(d.z)(this.localValues).forEach(function(R){var B=C.localValues.get(R),z=C.model[R];Object(d.w)(z)?z.replace(B):Object(d.x)(z)?(z.clear(),z.merge(B)):Object(d.t)(B)||(C.model[R]=B)}),this.localValues.clear()},N.prototype.reset=function(){this.localValues.clear()},N.prototype.resetProperty=function(C){this.localValues.delete(C)},W([d.k],N.prototype,"isDirty",null),W([d.k],N.prototype,"changedValues",null),W([d.i.bound],N.prototype,"submit",null),W([d.i.bound],N.prototype,"reset",null),W([d.i.bound],N.prototype,"resetProperty",null)})();function X(N){if(!N)return"ROOT";for(var C=[];N.parent;)C.push(N.path),N=N.parent;return C.reverse().join("/")}function H(N){return Object(d.y)(N)||Object(d.w)(N)||Object(d.x)(N)}function I(N,C){var R=new WeakMap;function B(ee){var re=R.get(ee.object);(function(oe,be){switch(oe.type){case"add":z(oe.newValue,be,oe.name);break;case"update":Z(oe.oldValue),z(oe.newValue,be,oe.name||""+oe.index);break;case"remove":case"delete":Z(oe.oldValue);break;case"splice":oe.removed.map(Z),oe.added.forEach(function(ie,ce){return z(ie,be,""+(oe.index+ce))});for(var fe=oe.index+oe.addedCount;fe<oe.object.length;fe++)if(H(oe.object[fe])){var pe=R.get(oe.object[fe]);pe&&(pe.path=""+fe)}}})(ee,re),C(ee,X(re),N)}function z(ee,re,oe){if(H(ee)){var be=R.get(ee);if(be){if(be.parent!==re||be.path!==oe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+X(re)+"/"+oe+"', but it already exists at '"+X(be.parent)+"/"+be.path+"'")}else{var fe={parent:re,path:oe,dispose:Object(d.B)(ee,B)};R.set(ee,fe),Object(d.n)(ee).forEach(function(pe){var ie=pe[0];return z(pe[1],fe,ie)})}}}function Z(ee){if(H(ee)){var re=R.get(ee);if(!re)return;R.delete(ee),re.dispose(),Object(d.J)(ee).forEach(Z)}}return z(N,void 0,""),function(){Z(N)}}var F,V=(F=function(N,C){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,B){R.__proto__=B}||function(R,B){for(var z in B)B.hasOwnProperty(z)&&(R[z]=B[z])})(N,C)},function(N,C){function R(){this.constructor=N}F(N,C),N.prototype=C===null?Object.create(C):(R.prototype=C.prototype,new R)});(function(N){function C(R,B,z){var Z=z===void 0?{}:z,ee=Z.name,re=ee===void 0?"ogm"+(1e3*Math.random()|0):ee,oe=Z.keyToName,be=oe===void 0?function(ie){return""+ie}:oe,fe=N.call(this)||this;fe._keyToName=be,fe._groupBy=B,fe._ogmInfoKey=Symbol("ogmInfo"+re),fe._base=R;for(var pe=0;pe<R.length;pe++)fe._addItem(R[pe]);return fe._disposeBaseObserver=Object(d.B)(fe._base,function(ie){if(ie.type==="splice")Object(d.H)(function(){for(var ce=0,ye=ie.removed;ce<ye.length;ce++){var he=ye[ce];fe._removeItem(he)}for(var Pe=0,_e=ie.added;Pe<_e.length;Pe++){var Fe=_e[Pe];fe._addItem(Fe)}});else{if(ie.type!=="update")throw new Error("illegal state");Object(d.H)(function(){fe._removeItem(ie.oldValue),fe._addItem(ie.newValue)})}}),fe}V(C,N),C.prototype.clear=function(){throw new Error("not supported")},C.prototype.delete=function(R){throw new Error("not supported")},C.prototype.set=function(R,B){throw new Error("not supported")},C.prototype.dispose=function(){this._disposeBaseObserver();for(var R=0;R<this._base.length;R++){var B=this._base[R];B[this._ogmInfoKey].reaction(),delete B[this._ogmInfoKey]}},C.prototype._getGroupArr=function(R){var B=N.prototype.get.call(this,R);return B===void 0&&(B=Object(d.A)([],{name:"GroupArray["+this._keyToName(R)+"]",deep:!1}),N.prototype.set.call(this,R,B)),B},C.prototype._removeFromGroupArr=function(R,B){var z=N.prototype.get.call(this,R);z.length===1?N.prototype.delete.call(this,R):(B===z.length-1||(z[B]=z[z.length-1],z[B][this._ogmInfoKey].groupArrIndex=B),z.length--)},C.prototype._addItem=function(R){var B=this,z=this._groupBy(R),Z=this._getGroupArr(z),ee={groupByValue:z,groupArrIndex:Z.length,reaction:Object(d.D)(function(){return B._groupBy(R)},function(re,oe){var be=R[B._ogmInfoKey];B._removeFromGroupArr(be.groupByValue,be.groupArrIndex);var fe=B._getGroupArr(re),pe=fe.length;fe.push(R),be.groupByValue=re,be.groupArrIndex=pe})};Object.defineProperty(R,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:ee}),Z.push(R)},C.prototype._removeItem=function(R){var B=R[this._ogmInfoKey];this._removeFromGroupArr(B.groupByValue,B.groupArrIndex),B.reaction(),delete R[this._ogmInfoKey]}})(d.b),function(){function N(C,R){this.base=C,this.args=R,this.closestIdx=0,this.isDisposed=!1;for(var B=this.closest=this.root=C,z=0;z<this.args.length-1&&(B=B.get(R[z]));z++)this.closest=B;this.closestIdx=z}return N.prototype.exists=function(){this.assertNotDisposed();var C=this.args.length;return this.closestIdx>=C-1&&this.closest.has(this.args[C-1])},N.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},N.prototype.set=function(C){this.assertNotDisposed();for(var R=this.args.length,B=this.closest,z=this.closestIdx;z<R-1;z++){var Z=new Map;B.set(this.args[z],Z),B=Z}this.closestIdx=R-1,this.closest=B,B.set(this.args[R-1],C)},N.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var C=this.args.length;this.closest.delete(this.args[C-1]);for(var R=this.root,B=[R],z=0;z<C-1;z++)R=R.get(this.args[z]),B.push(R);for(z=B.length-1;z>0;z--)B[z].size===0&&B[z-1].delete(this.args[z-1]);this.isDisposed=!0},N.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},N}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,u(104))},function(s,f,u){var p;(function(d,b,x){if(d){for(var E,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},O={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},L=1;L<20;++L)S[111+L]="f"+L;for(L=0;L<=9;++L)S[L+96]=L.toString();F.prototype.bind=function(V,N,C){return V=V instanceof Array?V:[V],this._bindMultiple.call(this,V,N,C),this},F.prototype.unbind=function(V,N){return this.bind.call(this,V,function(){},N)},F.prototype.trigger=function(V,N){return this._directMap[V+":"+N]&&this._directMap[V+":"+N]({},V),this},F.prototype.reset=function(){return this._callbacks={},this._directMap={},this},F.prototype.stopCallback=function(V,N){if((" "+N.className+" ").indexOf(" mousetrap ")>-1||function R(B,z){return B!==null&&B!==b&&(B===z||R(B.parentNode,z))}(N,this.target))return!1;if("composedPath"in V&&typeof V.composedPath=="function"){var C=V.composedPath()[0];C!==V.target&&(N=C)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},F.prototype.handleKey=function(){var V=this;return V._handleKey.apply(V,arguments)},F.addKeycodes=function(V){for(var N in V)V.hasOwnProperty(N)&&(S[N]=V[N]);E=null},F.init=function(){var V=F(b);for(var N in V)N.charAt(0)!=="_"&&(F[N]=function(C){return function(){return V[C].apply(V,arguments)}}(N))},F.init(),d.Mousetrap=F,s.exports&&(s.exports=F),(p=function(){return F}.call(f,u,f,s))===void 0||(s.exports=p)}function W(V,N,C){V.addEventListener?V.addEventListener(N,C,!1):V.attachEvent("on"+N,C)}function Y(V){if(V.type=="keypress"){var N=String.fromCharCode(V.which);return V.shiftKey||(N=N.toLowerCase()),N}return S[V.which]?S[V.which]:A[V.which]?A[V.which]:String.fromCharCode(V.which).toLowerCase()}function X(V){return V=="shift"||V=="ctrl"||V=="alt"||V=="meta"}function H(V,N,C){return C||(C=function(){if(!E)for(var R in E={},S)R>95&&R<112||S.hasOwnProperty(R)&&(E[S[R]]=R);return E}()[V]?"keydown":"keypress"),C=="keypress"&&N.length&&(C="keydown"),C}function I(V,N){var C,R,B,z=[];for(C=function(Z){return Z==="+"?["+"]:(Z=Z.replace(/\+{2}/g,"+plus")).split("+")}(V),B=0;B<C.length;++B)R=C[B],O[R]&&(R=O[R]),N&&N!="keypress"&&P[R]&&(R=P[R],z.push("shift")),X(R)&&z.push(R);return{key:R,modifiers:z,action:N=H(R,z,N)}}function F(V){var N=this;if(V=V||b,!(N instanceof F))return new F(V);N.target=V,N._callbacks={},N._directMap={};var C,R={},B=!1,z=!1,Z=!1;function ee(ie){ie=ie||{};var ce,ye=!1;for(ce in R)ie[ce]?ye=!0:R[ce]=0;ye||(Z=!1)}function re(ie,ce,ye,he,Pe,_e){var Fe,He,Ie,Kt,vn=[],rt=ye.type;if(!N._callbacks[ie])return[];for(rt=="keyup"&&X(ie)&&(ce=[ie]),Fe=0;Fe<N._callbacks[ie].length;++Fe)if(He=N._callbacks[ie][Fe],(he||!He.seq||R[He.seq]==He.level)&&rt==He.action&&(rt=="keypress"&&!ye.metaKey&&!ye.ctrlKey||(Ie=ce,Kt=He.modifiers,Ie.sort().join(",")===Kt.sort().join(",")))){var Ge=!he&&He.combo==Pe,ht=he&&He.seq==he&&He.level==_e;(Ge||ht)&&N._callbacks[ie].splice(Fe,1),vn.push(He)}return vn}function oe(ie,ce,ye,he){N.stopCallback(ce,ce.target||ce.srcElement,ye,he)||ie(ce,ye)===!1&&(function(Pe){Pe.preventDefault?Pe.preventDefault():Pe.returnValue=!1}(ce),function(Pe){Pe.stopPropagation?Pe.stopPropagation():Pe.cancelBubble=!0}(ce))}function be(ie){typeof ie.which!="number"&&(ie.which=ie.keyCode);var ce=Y(ie);ce&&(ie.type!="keyup"||B!==ce?N.handleKey(ce,function(ye){var he=[];return ye.shiftKey&&he.push("shift"),ye.altKey&&he.push("alt"),ye.ctrlKey&&he.push("ctrl"),ye.metaKey&&he.push("meta"),he}(ie),ie):B=!1)}function fe(ie,ce,ye,he){function Pe(Ie){return function(){Z=Ie,++R[ie],clearTimeout(C),C=setTimeout(ee,1e3)}}function _e(Ie){oe(ye,Ie,ie),he!=="keyup"&&(B=Y(Ie)),setTimeout(ee,10)}R[ie]=0;for(var Fe=0;Fe<ce.length;++Fe){var He=Fe+1===ce.length?_e:Pe(he||I(ce[Fe+1]).action);pe(ce[Fe],He,he,ie,Fe)}}function pe(ie,ce,ye,he,Pe){N._directMap[ie+":"+ye]=ce;var _e,Fe=(ie=ie.replace(/\s+/g," ")).split(" ");Fe.length>1?fe(ie,Fe,ce,ye):(_e=I(ie,ye),N._callbacks[_e.key]=N._callbacks[_e.key]||[],re(_e.key,_e.modifiers,{type:_e.action},he,ie,Pe),N._callbacks[_e.key][he?"unshift":"push"]({callback:ce,modifiers:_e.modifiers,action:_e.action,seq:he,level:Pe,combo:ie}))}N._handleKey=function(ie,ce,ye){var he,Pe=re(ie,ce,ye),_e={},Fe=0,He=!1;for(he=0;he<Pe.length;++he)Pe[he].seq&&(Fe=Math.max(Fe,Pe[he].level));for(he=0;he<Pe.length;++he)if(Pe[he].seq){if(Pe[he].level!=Fe)continue;He=!0,_e[Pe[he].seq]=1,oe(Pe[he].callback,ye,Pe[he].combo,Pe[he].seq)}else He||oe(Pe[he].callback,ye,Pe[he].combo);var Ie=ye.type=="keypress"&&z;ye.type!=Z||X(ie)||Ie||ee(_e),z=He&&ye.type=="keydown"},N._bindMultiple=function(ie,ce,ye){for(var he=0;he<ie.length;++he)pe(ie[he],ce,ye)},W(V,"keypress",be),W(V,"keydown",be),W(V,"keyup",be)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(s,f,u){var p=u(28),d=u(29),b=u(25),x=u(54);s.exports=p?Object.defineProperties:function(E,S){b(E);for(var A,P=x(S),O=P.length,L=0;O>L;)d.f(E,A=P[L++],S[A]);return E}},function(s,f,u){var p=u(24);s.exports=function(d,b){var x,E;if(b==="string"&&typeof(x=d.toString)=="function"&&!p(E=x.call(d))||typeof(x=d.valueOf)=="function"&&!p(E=x.call(d))||b!=="string"&&typeof(x=d.toString)=="function"&&!p(E=x.call(d)))return E;throw TypeError("Can't convert object to primitive value")}},function(s,f,u){var p=u(45);s.exports=p("document","documentElement")},function(s,f,u){var p=u(23),d=u(111),b=p.WeakMap;s.exports=typeof b=="function"&&/native code/.test(d(b))},function(s,f,u){var p=u(114).IteratorPrototype,d=u(46),b=u(57),x=u(77),E=u(56),S=function(){return this};s.exports=function(A,P,O){var L=P+" Iterator";return A.prototype=d(p,{next:b(1,O)}),x(A,L,!1,!0),E[L]=S,A}},function(s,f,u){var p=u(24);s.exports=function(d){if(!p(d)&&d!==null)throw TypeError("Can't set "+String(d)+" as a prototype");return d}},function(s,f,u){var p=u(14),d=u(23),b=u(92),x=u(43),E=u(116),S=u(118),A=u(123),P=u(24),O=u(16),L=u(124),W=u(77),Y=u(125);s.exports=function(X,H,I){var F=X.indexOf("Map")!==-1,V=X.indexOf("Weak")!==-1,N=F?"set":"add",C=d[X],R=C&&C.prototype,B=C,z={},Z=function(pe){var ie=R[pe];x(R,pe,pe=="add"?function(ce){return ie.call(this,ce===0?0:ce),this}:pe=="delete"?function(ce){return!(V&&!P(ce))&&ie.call(this,ce===0?0:ce)}:pe=="get"?function(ce){return V&&!P(ce)?void 0:ie.call(this,ce===0?0:ce)}:pe=="has"?function(ce){return!(V&&!P(ce))&&ie.call(this,ce===0?0:ce)}:function(ce,ye){return ie.call(this,ce===0?0:ce,ye),this})};if(b(X,typeof C!="function"||!(V||R.forEach&&!O(function(){new C().entries().next()}))))B=I.getConstructor(H,X,F,N),E.enable();else if(b(X,!0)){var ee=new B,re=ee[N](V?{}:-0,1)!=ee,oe=O(function(){ee.has(1)}),be=L(function(pe){new C(pe)}),fe=!V&&O(function(){for(var pe=new C,ie=5;ie--;)pe[N](ie,ie);return!pe.has(-0)});be||((B=H(function(pe,ie){A(pe,B,X);var ce=Y(new C,pe,B);return ie!=null&&S(ie,ce[N],{that:ce,AS_ENTRIES:F}),ce})).prototype=R,R.constructor=B),(oe||fe)&&(Z("delete"),Z("has"),F&&Z("get")),(fe||re)&&Z(N),V&&R.clear&&delete R.clear}return z[X]=B,p({global:!0,forced:B!=C},z),W(B,X),V||I.setStrong(B,X,F),B}},function(s,f,u){var p=u(16);s.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,f,u){var p=u(29).f,d=u(46),b=u(151),x=u(79),E=u(123),S=u(118),A=u(90),P=u(152),O=u(28),L=u(116).fastKey,W=u(51),Y=W.set,X=W.getterFor;s.exports={getConstructor:function(H,I,F,V){var N=H(function(z,Z){E(z,N,I),Y(z,{type:I,index:d(null),first:void 0,last:void 0,size:0}),O||(z.size=0),Z!=null&&S(Z,z[V],{that:z,AS_ENTRIES:F})}),C=X(I),R=function(z,Z,ee){var re,oe,be=C(z),fe=B(z,Z);return fe?fe.value=ee:(be.last=fe={index:oe=L(Z,!0),key:Z,value:ee,previous:re=be.last,next:void 0,removed:!1},be.first||(be.first=fe),re&&(re.next=fe),O?be.size++:z.size++,oe!=="F"&&(be.index[oe]=fe)),z},B=function(z,Z){var ee,re=C(z),oe=L(Z);if(oe!=="F")return re.index[oe];for(ee=re.first;ee;ee=ee.next)if(ee.key==Z)return ee};return b(N.prototype,{clear:function(){for(var z=C(this),Z=z.index,ee=z.first;ee;)ee.removed=!0,ee.previous&&(ee.previous=ee.previous.next=void 0),delete Z[ee.index],ee=ee.next;z.first=z.last=void 0,O?z.size=0:this.size=0},delete:function(z){var Z=C(this),ee=B(this,z);if(ee){var re=ee.next,oe=ee.previous;delete Z.index[ee.index],ee.removed=!0,oe&&(oe.next=re),re&&(re.previous=oe),Z.first==ee&&(Z.first=re),Z.last==ee&&(Z.last=oe),O?Z.size--:this.size--}return!!ee},forEach:function(z){for(var Z,ee=C(this),re=x(z,arguments.length>1?arguments[1]:void 0,3);Z=Z?Z.next:ee.first;)for(re(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(z){return!!B(this,z)}}),b(N.prototype,F?{get:function(z){var Z=B(this,z);return Z&&Z.value},set:function(z,Z){return R(this,z===0?0:z,Z)}}:{add:function(z){return R(this,z=z===0?0:z,z)}}),O&&p(N.prototype,"size",{get:function(){return C(this).size}}),N},setStrong:function(H,I,F){var V=I+" Iterator",N=X(I),C=X(V);A(H,I,function(R,B){Y(this,{type:V,target:R,state:N(R),kind:B,last:void 0})},function(){for(var R=C(this),B=R.kind,z=R.last;z&&z.removed;)z=z.previous;return R.target&&(R.last=z=z?z.next:R.state.first)?B=="keys"?{value:z.key,done:!1}:B=="values"?{value:z.value,done:!1}:{value:[z.key,z.value],done:!1}:(R.target=void 0,{value:void 0,done:!0})},F?"entries":"values",!F,!0),P(I)}}},function(s,f,u){var p=u(43);s.exports=function(d,b,x){for(var E in b)p(d,E,b[E],x);return d}},function(s,f,u){var p=u(45),d=u(29),b=u(21),x=u(28),E=b("species");s.exports=function(S){var A=p(S),P=d.f;x&&A&&!A[E]&&P(A,E,{configurable:!0,get:function(){return this}})}},function(s,f,u){var p=u(95),d=u(121);s.exports=p?{}.toString:function(){return"[object "+d(this)+"]"}},function(s,f,u){var p=u(60).forEach,d=u(97)("forEach");s.exports=d?[].forEach:function(b){return p(this,b,arguments.length>1?arguments[1]:void 0)}},function(s,f,u){var p=u(24),d=u(80),b=u(21)("species");s.exports=function(x){var E;return d(x)&&(typeof(E=x.constructor)!="function"||E!==Array&&!d(E.prototype)?p(E)&&(E=E[b])===null&&(E=void 0):E=void 0),E===void 0?Array:E}},function(s,f,u){var p=u(23);s.exports=p},function(s,f,u){var p=u(79),d=u(30),b=u(158),x=u(119),E=u(32),S=u(62),A=u(120),P=u(94);s.exports=function(O){var L,W,Y,X,H,I,F=d(O),V=typeof this=="function"?this:Array,N=arguments.length,C=N>1?arguments[1]:void 0,R=C!==void 0,B=P(F),z=0;if(R&&(C=p(C,N>2?arguments[2]:void 0,2)),B==null||V==Array&&x(B))for(W=new V(L=E(F.length));L>z;z++)I=R?C(F[z],z):F[z],S(W,z,I);else for(H=(X=A(F,B)).next,W=new V;!(Y=H.call(X)).done;z++)I=R?b(X,C,[Y.value,z],!0):Y.value,S(W,z,I);return W.length=z,W}},function(s,f,u){var p=u(25),d=u(122);s.exports=function(b,x,E,S){try{return S?x(p(E)[0],E[1]):x(E)}catch(A){d(b,"throw",A)}}},function(s,f,u){var p=u(14),d=u(59),b=u(30),x=u(32),E=u(33),S=u(16),A=u(160),P=u(97),O=u(161),L=u(162),W=u(70),Y=u(163),X=[],H=X.sort,I=S(function(){X.sort(void 0)}),F=S(function(){X.sort(null)}),V=P("sort"),N=!S(function(){if(W)return W<70;if(!(O&&O>3)){if(L)return!0;if(Y)return Y<603;var C,R,B,z,Z="";for(C=65;C<76;C++){switch(R=String.fromCharCode(C),C){case 66:case 69:case 70:case 72:B=3;break;case 68:case 71:B=4;break;default:B=2}for(z=0;z<47;z++)X.push({k:R+z,v:B})}for(X.sort(function(ee,re){return re.v-ee.v}),z=0;z<X.length;z++)R=X[z].k.charAt(0),Z.charAt(Z.length-1)!==R&&(Z+=R);return Z!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:I||!F||!V||!N},{sort:function(C){C!==void 0&&d(C);var R=b(this);if(N)return C===void 0?H.call(R):H.call(R,C);var B,z,Z=[],ee=x(R.length);for(z=0;z<ee;z++)z in R&&Z.push(R[z]);for(B=(Z=A(Z,function(re){return function(oe,be){return be===void 0?-1:oe===void 0?1:re!==void 0?+re(oe,be)||0:E(oe)>E(be)?1:-1}}(C))).length,z=0;z<B;)R[z]=Z[z++];for(;z<ee;)delete R[z++];return R}})},function(s,f){var u=Math.floor,p=function(x,E){var S=x.length,A=u(S/2);return S<8?d(x,E):b(p(x.slice(0,A),E),p(x.slice(A),E),E)},d=function(x,E){for(var S,A,P=x.length,O=1;O<P;){for(A=O,S=x[O];A&&E(x[A-1],S)>0;)x[A]=x[--A];A!==O++&&(x[A]=S)}return x},b=function(x,E,S){for(var A=x.length,P=E.length,O=0,L=0,W=[];O<A||L<P;)O<A&&L<P?W.push(S(x[O],E[L])<=0?x[O++]:E[L++]):W.push(O<A?x[O++]:E[L++]);return W};s.exports=p},function(s,f,u){var p=u(71).match(/firefox\/(\d+)/i);s.exports=!!p&&+p[1]},function(s,f,u){var p=u(71);s.exports=/MSIE|Trident/.test(p)},function(s,f,u){var p=u(71).match(/AppleWebKit\/(\d+)\./);s.exports=!!p&&+p[1]},function(s,f,u){var p=u(14),d=u(60).find,b=u(66),x=!0;"find"in[]&&Array(1).find(function(){x=!1}),p({target:"Array",proto:!0,forced:x},{find:function(E){return d(this,E,arguments.length>1?arguments[1]:void 0)}}),b("find")},function(s,f,u){var p=u(132);s.exports=function(d){if(p(d))throw TypeError("The method doesn't accept regular expressions");return d}},function(s,f,u){var p=u(21)("match");s.exports=function(d){var b=/./;try{"/./"[d](b)}catch(x){try{return b[p]=!1,"/./"[d](b)}catch(E){}}return!1}},function(s,f,u){var p=u(25);s.exports=function(){var d=p(this),b="";return d.global&&(b+="g"),d.ignoreCase&&(b+="i"),d.multiline&&(b+="m"),d.dotAll&&(b+="s"),d.unicode&&(b+="u"),d.sticky&&(b+="y"),b}},function(s,f,u){var p=u(16),d=u(23).RegExp;s.exports=p(function(){var b=d(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(s,f,u){var p=u(16),d=u(23).RegExp;s.exports=p(function(){var b=d("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(s,f,u){var p=u(25),d=u(59),b=u(21)("species");s.exports=function(x,E){var S,A=p(x).constructor;return A===void 0||(S=p(A)[b])==null?E:d(S)}},function(s,f,u){var p=u(30),d=Math.floor,b="".replace,x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;s.exports=function(S,A,P,O,L,W){var Y=P+S.length,X=O.length,H=E;return L!==void 0&&(L=p(L),H=x),b.call(W,H,function(I,F){var V;switch(F.charAt(0)){case"$":return"$";case"&":return S;case"`":return A.slice(0,P);case"'":return A.slice(Y);case"<":V=L[F.slice(1,-1)];break;default:var N=+F;if(N===0)return I;if(N>X){var C=d(N/10);return C===0?I:C<=X?O[C-1]===void 0?F.charAt(1):O[C-1]+F.charAt(1):I}V=O[N-1]}return V===void 0?"":V})}},function(s,f,u){var p=u(59),d=u(24),b=[].slice,x={},E=function(S,A,P){if(!(A in x)){for(var O=[],L=0;L<A;L++)O[L]="a["+L+"]";x[A]=Function("C,a","return new C("+O.join(",")+")")}return x[A](S,P)};s.exports=Function.bind||function(S){var A=p(this),P=b.call(arguments,1),O=function(){var L=P.concat(b.call(arguments));return this instanceof O?E(A,L.length,L):A.apply(S,L)};return d(A.prototype)&&(O.prototype=A.prototype),O}},function(s,f,u){var p=u(28),d=u(16),b=u(54),x=u(91),E=u(75),S=u(30),A=u(65),P=Object.assign,O=Object.defineProperty;s.exports=!P||d(function(){if(p&&P({b:1},P(O({},"a",{enumerable:!0,get:function(){O(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var L={},W={},Y=Symbol();return L[Y]=7,"abcdefghijklmnopqrst".split("").forEach(function(X){W[X]=X}),P({},L)[Y]!=7||b(P({},W)).join("")!="abcdefghijklmnopqrst"})?function(L,W){for(var Y=S(L),X=arguments.length,H=1,I=x.f,F=E.f;X>H;)for(var V,N=A(arguments[H++]),C=I?b(N).concat(I(N)):b(N),R=C.length,B=0;R>B;)V=C[B++],p&&!F.call(N,V)||(Y[V]=N[V]);return Y}:P},function(s,f,u){var p=u(37),d=u(33),b=/"/g;s.exports=function(x,E,S,A){var P=d(p(x)),O="<"+E;return S!==""&&(O+=" "+S+'="'+d(A).replace(b,"&quot;")+'"'),O+">"+P+"</"+E+">"}},function(s,f,u){var p=u(16);s.exports=function(d){return p(function(){var b=""[d]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(s,f,u){var p=u(14),d=Math.hypot,b=Math.abs,x=Math.sqrt;p({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,S){for(var A,P,O=0,L=0,W=arguments.length,Y=0;L<W;)Y<(A=b(arguments[L++]))?(O=O*(P=Y/A)*P+1,Y=A):O+=A>0?(P=A/Y)*P:A;return Y===1/0?1/0:Y*x(O)}})},function(s,f,u){var p=u(27);s.exports=function(d){return d!==void 0&&(p(d,"value")||p(d,"writable"))}},function(s,f,u){u(14)({target:"String",proto:!0},{repeat:u(179)})},function(s,f,u){var p=u(50),d=u(33),b=u(37);s.exports=function(x){var E=d(b(this)),S="",A=p(x);if(A<0||A==1/0)throw RangeError("Wrong number of repetitions");for(;A>0;(A>>>=1)&&(E+=E))1&A&&(S+=E);return S}},function(s,f,u){var p=u(28),d=u(54),b=u(34),x=u(75).f,E=function(S){return function(A){for(var P,O=b(A),L=d(O),W=L.length,Y=0,X=[];W>Y;)P=L[Y++],p&&!x.call(O,P)||X.push(S?[P,O[P]]:O[P]);return X}};s.exports={entries:E(!0),values:E(!1)}},function(s,f,u){var p=u(30),d=u(73),b=u(32);s.exports=function(x){for(var E=p(this),S=b(E.length),A=arguments.length,P=d(A>1?arguments[1]:void 0,S),O=A>2?arguments[2]:void 0,L=O===void 0?S:d(O,S);L>P;)E[P++]=x;return E}},function(s,f,u){var p=u(14),d=u(134).trim;p({target:"String",proto:!0,forced:u(183)("trim")},{trim:function(){return d(this)}})},function(s,f,u){var p=u(16),d=u(135);s.exports=function(b){return p(function(){return!!d[b]()||"\u200B\x85\u180E"[b]()!="\u200B\x85\u180E"||d[b].name!==b})}},function(s,f,u){u.r(f),u.d(f,"observer",function(){return Un}),u.d(f,"LogicFlow",function(){return ys}),u.d(f,"h",function(){return I}),u.d(f,"LogicFlowUtil",function(){return p}),u.d(f,"BaseNode",function(){return er}),u.d(f,"RectNode",function(){return Hc}),u.d(f,"CircleNode",function(){return Wc}),u.d(f,"PolygonNode",function(){return Yc}),u.d(f,"DiamondNode",function(){return $c}),u.d(f,"EllipseNode",function(){return Zc}),u.d(f,"TextNode",function(){return Jc}),u.d(f,"HtmlNode",function(){return ts}),u.d(f,"BaseEdge",function(){return xi}),u.d(f,"LineEdge",function(){return us}),u.d(f,"PolylineEdge",function(){return cs}),u.d(f,"BezierEdge",function(){return ss}),u.d(f,"Arrow",function(){return jy}),u.d(f,"BaseEdgeModel",function(){return qu}),u.d(f,"BezierEdgeModel",function(){return _c}),u.d(f,"LineEdgeModel",function(){return ec}),u.d(f,"PolylineEdgeModel",function(){return nc}),u.d(f,"BaseNodeModel",function(){return Jn}),u.d(f,"CircleNodeModel",function(){return wc}),u.d(f,"DiamondNodeModel",function(){return Ec}),u.d(f,"EllipseNodeModel",function(){return jc}),u.d(f,"PolygonNodeModel",function(){return kc}),u.d(f,"RectNodeModel",function(){return Dc}),u.d(f,"TextNodeModel",function(){return Cc}),u.d(f,"HtmlNodeModel",function(){return Ic}),u.d(f,"EditConfigModel",function(){return wl}),u.d(f,"GraphModel",function(){return hp}),u.d(f,"SnaplineModel",function(){return Ad}),u.d(f,"Keyboard",function(){return fv}),u.d(f,"get",function(){return ah}),u.d(f,"defaults",function(){return ch});var p={};u.r(p),u.d(p,"createUuid",function(){return bo}),u.d(p,"refreshGraphId",function(){return Cm}),u.d(p,"createDrag",function(){return Ca}),u.d(p,"StepDrag",function(){return hi});var d,b,x,E,S,A,P,O=u(0),L={},W=[],Y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function X(t,e){for(var n in e)t[n]=e[n];return t}function H(t){var e=t.parentNode;e&&e.removeChild(t)}function I(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?d.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return F(t,a,r,i,null)}function F(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++x:i};return b.vnode!=null&&b.vnode(o),o}function V(){return{current:null}}function N(t){return t.children}function C(t,e){this.props=t,this.context=e}function R(t,e){if(e==null)return t.__?R(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?R(t):null}function B(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return B(t)}}function z(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!Z.__r++||A!==b.debounceRendering)&&((A=b.debounceRendering)||S)(Z)}function Z(){for(var t;Z.__r=E.length;)t=E.sort(function(e,n){return e.__v.__b-n.__v.__b}),E=[],t.some(function(e){var n,r,i,o,a,c;e.__d&&(a=(o=(n=e).__v).__e,(c=n.__P)&&(r=[],(i=X({},o)).__v=o.__v+1,ye(c,o,i,n.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a==null?R(o):a,o.__h),he(r,o),o.__e!=a&&B(o)))})}function ee(t,e,n,r,i,o,a,c,l,h){var _,j,k,M,U,$,K,J=r&&r.__k||W,q=J.length;for(n.__k=[],_=0;_<e.length;_++)if((M=n.__k[_]=(M=e[_])==null||typeof M=="boolean"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?F(null,M,null,null,M):Array.isArray(M)?F(N,{children:M},null,null,null):M.__b>0?F(M.type,M.props,M.key,null,M.__v):M)!=null){if(M.__=n,M.__b=n.__b+1,(k=J[_])===null||k&&M.key==k.key&&M.type===k.type)J[_]=void 0;else for(j=0;j<q;j++){if((k=J[j])&&M.key==k.key&&M.type===k.type){J[j]=void 0;break}k=null}ye(t,M,k=k||L,i,o,a,c,l,h),U=M.__e,(j=M.ref)&&k.ref!=j&&(K||(K=[]),k.ref&&K.push(k.ref,null,M),K.push(j,M.__c||U,M)),U!=null?($==null&&($=U),typeof M.type=="function"&&M.__k!=null&&M.__k===k.__k?M.__d=l=re(M,l,t):l=be(t,M,k,J,U,l),h||n.type!=="option"?typeof n.type=="function"&&(n.__d=l):t.value=""):l&&k.__e==l&&l.parentNode!=t&&(l=R(k))}for(n.__e=$,_=q;_--;)J[_]!=null&&(typeof n.type=="function"&&J[_].__e!=null&&J[_].__e==n.__d&&(n.__d=R(r,_+1)),Fe(J[_],J[_]));if(K)for(_=0;_<K.length;_++)_e(K[_],K[++_],K[++_])}function re(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e=typeof i.type=="function"?re(i,e,n):be(n,i,i,t.__k,i.__e,e));return e}function oe(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){oe(n,e)}):e.push(t)),e}function be(t,e,n,r,i,o){var a,c,l;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(c=o,l=0;(c=c.nextSibling)&&l<r.length;l+=2)if(c==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function fe(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Y.test(e)?n:n+"px"}function pe(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||fe(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||fe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?ce:ie,o):t.removeEventListener(e,o?ce:ie,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch(a){}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function ie(t){this.l[t.type+!1](b.event?b.event(t):t)}function ce(t){this.l[t.type+!0](b.event?b.event(t):t)}function ye(t,e,n,r,i,o,a,c,l){var h,_,j,k,M,U,$,K,J,q,ne,ue=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,c=e.__e=n.__e,e.__h=null,o=[c]),(h=b.__b)&&h(e);try{e:if(typeof ue=="function"){if(K=e.props,J=(h=ue.contextType)&&r[h.__c],q=h?J?J.props.value:h.__:r,n.__c?$=(_=e.__c=n.__c).__=_.__E:("prototype"in ue&&ue.prototype.render?e.__c=_=new ue(K,q):(e.__c=_=new C(K,q),_.constructor=ue,_.render=He),J&&J.sub(_),_.props=K,_.state||(_.state={}),_.context=q,_.__n=r,j=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),ue.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=X({},_.__s)),X(_.__s,ue.getDerivedStateFromProps(K,_.__s))),k=_.props,M=_.state,j)ue.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(ue.getDerivedStateFromProps==null&&K!==k&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(K,q),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(K,_.__s,q)===!1||e.__v===n.__v){_.props=K,_.state=_.__s,e.__v!==n.__v&&(_.__d=!1),_.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(ae){ae&&(ae.__=e)}),_.__h.length&&a.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(K,_.__s,q),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(k,M,U)})}_.context=q,_.props=K,_.state=_.__s,(h=b.__r)&&h(e),_.__d=!1,_.__v=e,_.__P=t,h=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(r=X(X({},r),_.getChildContext())),j||_.getSnapshotBeforeUpdate==null||(U=_.getSnapshotBeforeUpdate(k,M)),ne=h!=null&&h.type===N&&h.key==null?h.props.children:h,ee(t,Array.isArray(ne)?ne:[ne],e,n,r,i,o,a,c,l),_.base=e.__e,e.__h=null,_.__h.length&&a.push(_),$&&(_.__E=_.__=null),_.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Pe(n.__e,e,n,r,i,o,a,l);(h=b.diffed)&&h(e)}catch(ae){e.__v=null,(l||o!=null)&&(e.__e=c,e.__h=!!l,o[o.indexOf(c)]=null),b.__e(ae,e,n)}}function he(t,e){b.__c&&b.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){b.__e(r,n.__v)}})}function Pe(t,e,n,r,i,o,a,c){var l,h,_,j=n.props,k=e.props,M=e.type,U=0;if(M==="svg"&&(i=!0),o!=null){for(;U<o.length;U++)if((l=o[U])&&(l===t||(M?l.localName==M:l.nodeType==3))){t=l,o[U]=null;break}}if(t==null){if(M===null)return document.createTextNode(k);t=i?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,k.is&&k),o=null,c=!1}if(M===null)j===k||c&&t.data===k||(t.data=k);else{if(o=o&&d.call(t.childNodes),h=(j=n.props||L).dangerouslySetInnerHTML,_=k.dangerouslySetInnerHTML,!c){if(o!=null)for(j={},U=0;U<t.attributes.length;U++)j[t.attributes[U].name]=t.attributes[U].value;(_||h)&&(_&&(h&&_.__html==h.__html||_.__html===t.innerHTML)||(t.innerHTML=_&&_.__html||""))}if(function($,K,J,q,ne){var ue;for(ue in J)ue==="children"||ue==="key"||ue in K||pe($,ue,null,J[ue],q);for(ue in K)ne&&typeof K[ue]!="function"||ue==="children"||ue==="key"||ue==="value"||ue==="checked"||J[ue]===K[ue]||pe($,ue,K[ue],J[ue],q)}(t,k,j,i,c),_)e.__k=[];else if(U=e.props.children,ee(t,Array.isArray(U)?U:[U],e,n,r,i&&M!=="foreignObject",o,a,o?o[0]:n.__k&&R(n,0),c),o!=null)for(U=o.length;U--;)o[U]!=null&&H(o[U]);c||("value"in k&&(U=k.value)!==void 0&&(U!==t.value||M==="progress"&&!U)&&pe(t,"value",U,j.value,!1),"checked"in k&&(U=k.checked)!==void 0&&U!==t.checked&&pe(t,"checked",U,j.checked,!1))}return t}function _e(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){b.__e(r,n)}}function Fe(t,e,n){var r,i;if(b.unmount&&b.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||_e(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){b.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Fe(r[i],e,typeof t.type!="function");n||t.__e==null||H(t.__e),t.__e=t.__d=void 0}function He(t,e,n){return this.constructor(t,n)}function Ie(t,e,n){var r,i,o;b.__&&b.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],ye(e,t=(!r&&n||e).__k=I(N,null,[t]),i||L,L,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?d.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),he(o,t)}function Kt(t,e){Ie(t,e,Kt)}function vn(t,e,n){var r,i,o,a=X({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];return arguments.length>2&&(a.children=arguments.length>3?d.call(arguments,2):n),F(t.type,a,r||t.key,i||t.ref,null)}d=W.slice,b={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t}},x=0,C.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=X({},this.state),typeof t=="function"&&(t=t(X({},n),this.props)),t&&X(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),z(this))},C.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),z(this))},C.prototype.render=N,E=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Z.__r=0,P=0;var rt,Ge,ht,_t=0,gn=[],kt=b.__b,or=b.__r,Jr=b.diffed,dt=b.__c,$t=b.unmount;function Zt(t,e){b.__h&&b.__h(Ge,t,_t||e),_t=0;var n=Ge.__H||(Ge.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Pr(t){return _t=1,Ar(kr,t)}function Ar(t,e,n){var r=Zt(rt++,2);return r.t=t,r.__c||(r.__=[n?n(e):kr(void 0,e),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=Ge),r.__}function ir(t,e){var n=Zt(rt++,4);!b.__s&&un(n.__H,e)&&(n.__=t,n.__H=e,Ge.__h.push(n))}function An(t,e){var n=Zt(rt++,7);return un(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Qe(){gn.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(Ne),t.__H.__h.forEach(St),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}),gn=[]}b.__b=function(t){Ge=null,kt&&kt(t)},b.__r=function(t){or&&or(t),rt=0;var e=(Ge=t.__c).__H;e&&(e.__h.forEach(Ne),e.__h.forEach(St),e.__h=[])},b.diffed=function(t){Jr&&Jr(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(gn.push(e)!==1&&ht===b.requestAnimationFrame||((ht=b.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),Tt&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);Tt&&(r=requestAnimationFrame(i))})(Qe)),Ge=void 0},b.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Ne),n.__h=n.__h.filter(function(r){return!r.__||St(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],b.__e(r,n.__v)}}),dt&&dt(t,e)},b.unmount=function(t){$t&&$t(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(Ne)}catch(n){b.__e(n,e.__v)}};var Tt=typeof requestAnimationFrame=="function";function Ne(t){var e=Ge;typeof t.__c=="function"&&t.__c(),Ge=e}function St(t){var e=Ge;t.__c=t.__(),Ge=e}function un(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function kr(t,e){return typeof e=="function"?e(t):e}function ar(t,e){for(var n in e)t[n]=e[n];return t}function cn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function ge(t){this.props=t}(ge.prototype=new C).isPureReactComponent=!0,ge.prototype.shouldComponentUpdate=function(t,e){return cn(this.props,t)||cn(this.state,e)};var we=b.__b;b.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),we&&we(t)};var De=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Me(t){function e(n,r){var i=ar({},n);return delete i.ref,t(i,(r=n.ref||r)&&(typeof r!="object"||"current"in r)?r:null)}return e.$$typeof=De,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var ot=function(t,e){return t==null?null:oe(oe(t).map(e))},Xn={map:ot,forEach:ot,count:function(t){return t?oe(t).length:0},only:function(t){var e=oe(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:oe},Tr=b.__e;b.__e=function(t,e,n){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}Tr(t,e,n)};var Ft=b.unmount;function qt(){this.__u=0,this.t=null,this.__b=null}function Qr(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function bn(){this.u=null,this.o=null}b.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ft&&Ft(t)},(qt.prototype=new C).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Qr(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(c):c())};n.__R=a;var c=function(){if(!--r.__u){if(r.state.__e){var h=r.state.__e;r.__v.__k[0]=function j(k,M,U){return k&&(k.__v=null,k.__k=k.__k&&k.__k.map(function($){return j($,M,U)}),k.__c&&k.__c.__P===M&&(k.__e&&U.insertBefore(k.__e,k.__d),k.__c.__e=!0,k.__c.__P=U)),k}(h,h.__c.__P,h.__c.__O)}var _;for(r.setState({__e:r.__b=null});_=r.t.pop();)_.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},qt.prototype.componentWillUnmount=function(){this.t=[]},qt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,c,l){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(h){typeof h.__c=="function"&&h.__c()}),a.__c.__H=null),(a=ar({},a)).__c!=null&&(a.__c.__P===l&&(a.__c.__P=c),a.__c=null),a.__k=a.__k&&a.__k.map(function(h){return o(h,c,l)})),a}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&I(N,null,t.fallback);return i&&(i.__h=null),[I(N,null,e.__e?null:t.children),i]};var Lo=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function eo(t){return this.getChildContext=function(){return t.context},t.children}function fu(t){var e=this,n=t.i;e.componentWillUnmount=function(){Ie(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Ie(I(eo,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(bn.prototype=new C).__e=function(t){var e=this,n=Qr(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),Lo(e,t,r)):i()};n?n(o):o()}},bn.prototype.render=function(t){this.u=null,this.o=new Map;var e=oe(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},bn.prototype.componentDidUpdate=bn.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Lo(t,n,e)})};var zo=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,kn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,zi=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};C.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(C.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Bo=b.event;function Bi(){}function pu(){return this.cancelBubble}function Dr(){return this.defaultPrevented}b.event=function(t){return Bo&&(t=Bo(t)),t.persist=Bi,t.isPropagationStopped=pu,t.isDefaultPrevented=Dr,t.nativeEvent=t};var ur,mn={configurable:!0,get:function(){return this.class}},Fi=b.vnode;b.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){for(var i in r={},n){var o=n[i];i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!zi(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():kn.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=oe(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=oe(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r}e&&n.class!=n.className&&(mn.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",mn)),t.$$typeof=zo,Fi&&Fi(t)};var _n=b.__r;b.__r=function(t){_n&&_n(t),ur=t.__c};function Wn(t){return!!t&&t.$$typeof===zo}function cr(t){return t&&(t.base||t.nodeType===1&&t)||null}var Mr=function(t,e){return t(e)},Fo={useState:Pr,useReducer:Ar,useEffect:function(t,e){var n=Zt(rt++,3);!b.__s&&un(n.__H,e)&&(n.__=t,n.__H=e,Ge.__H.__h.push(n))},useLayoutEffect:ir,useRef:function(t){return _t=5,An(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){_t=6,ir(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))},useMemo:An,useCallback:function(t,e){return _t=8,An(function(){return t},e)},useContext:function(t){var e=Ge.context[t.__c],n=Zt(rt++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Ge)),e.props.value):t.__},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)},version:"17.0.2",Children:Xn,render:function(t,e,n){return e.__k==null&&(e.textContent=""),Ie(t,e),typeof n=="function"&&n(),t?t.__c:null},hydrate:function(t,e,n){return Kt(t,e),typeof n=="function"&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Ie(null,t),!0)},createPortal:function(t,e){return I(fu,{__v:t,i:e})},createElement:I,createContext:function(t,e){var n={__c:e="__cC"+P++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(z)},this.sub=function(a){i.push(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),c&&c.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(t){return I.bind(null,t)},cloneElement:function(t){return Wn(t)?vn.apply(null,arguments):t},createRef:V,Fragment:N,isValidElement:Wn,findDOMNode:cr,Component:C,PureComponent:ge,memo:function(t,e){function n(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!a:cn(this.props,i)}function r(i){return this.shouldComponentUpdate=n,I(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:Me,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:Mr,StrictMode:N,Suspense:qt,SuspenseList:bn,lazy:function(t){var e,n,r;function i(o){if(e||(e=t()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw e;return I(n,o)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(t){return ur.__n[t.__c].props.value}}}}};/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function de(t){return(de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function to(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nr(t,e,n){return e&&Uo(t.prototype,e),n&&Uo(t,n),t}function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Go(t,e)}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Go(t,e){return(Go=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Vn(t,e){return!e||typeof e!="object"&&typeof e!="function"?function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t):e}function no(t,e){return t(e={exports:{}},e.exports),e.exports}var Rr,Ye=no(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,_=n?Symbol.for("react.async_mode"):60111,j=n?Symbol.for("react.concurrent_mode"):60111,k=n?Symbol.for("react.forward_ref"):60112,M=n?Symbol.for("react.suspense"):60113,U=n?Symbol.for("react.memo"):60115,$=n?Symbol.for("react.lazy"):60116;function K(q){if(typeof q=="object"&&q!==null){var ne=q.$$typeof;switch(ne){case r:switch(q=q.type){case _:case j:case o:case c:case a:return q;default:switch(q=q&&q.$$typeof){case h:case k:case l:return q;default:return ne}}case i:return ne}}}function J(q){return K(q)===j}e.typeOf=K,e.AsyncMode=_,e.ConcurrentMode=j,e.ContextConsumer=h,e.ContextProvider=l,e.Element=r,e.ForwardRef=k,e.Fragment=o,e.Profiler=c,e.Portal=i,e.StrictMode=a,e.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===o||q===j||q===c||q===a||q===M||typeof q=="object"&&q!==null&&(q.$$typeof===$||q.$$typeof===U||q.$$typeof===l||q.$$typeof===h||q.$$typeof===k)},e.isAsyncMode=function(q){return J(q)||K(q)===_},e.isConcurrentMode=J,e.isContextConsumer=function(q){return K(q)===h},e.isContextProvider=function(q){return K(q)===l},e.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===r},e.isForwardRef=function(q){return K(q)===k},e.isFragment=function(q){return K(q)===o},e.isProfiler=function(q){return K(q)===c},e.isPortal=function(q){return K(q)===i},e.isStrictMode=function(q){return K(q)===a}});(Rr=Ye)&&Rr.__esModule&&Object.prototype.hasOwnProperty.call(Rr,"default")&&Rr.default,Ye.typeOf,Ye.AsyncMode,Ye.ConcurrentMode,Ye.ContextConsumer,Ye.ContextProvider,Ye.Element,Ye.ForwardRef,Ye.Fragment,Ye.Profiler,Ye.Portal,Ye.StrictMode,Ye.isValidElementType,Ye.isAsyncMode,Ye.isConcurrentMode,Ye.isContextConsumer,Ye.isContextProvider,Ye.isElement,Ye.isForwardRef,Ye.isFragment,Ye.isProfiler,Ye.isPortal,Ye.isStrictMode;var ro=no(function(t){t.exports=Ye}),Ui={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Tn={};Tn[ro.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var Qt=Object.defineProperty,hu=Object.getOwnPropertyNames,Ut=Object.getOwnPropertySymbols,Gi=Object.getOwnPropertyDescriptor,du=Object.getPrototypeOf,Ho=Object.prototype,Hi=function t(e,n,r){if(typeof n!="string"){if(Ho){var i=du(n);i&&i!==Ho&&t(e,i,r)}var o=hu(n);Ut&&(o=o.concat(Ut(n)));for(var a=Tn[e.$$typeof]||Ui,c=Tn[n.$$typeof]||Ui,l=0;l<o.length;++l){var h=o[l];if(!(yt[h]||r&&r[h]||c&&c[h]||a&&a[h])){var _=Gi(n,h);try{Qt(e,h,_)}catch(j){}}}return e}return e},On=function(){function t(){to(this,t),this.listeners=[]}return Nr(t,[{key:"on",value:function(e){var n=this;return this.listeners.push(e),function(){var r=n.listeners.indexOf(e);r!==-1&&n.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(n){return n(e)})}}]),t}();function Xi(t){function e(r,i,o,a,c,l){for(var h=arguments.length,_=new Array(h>6?h-6:0),j=6;j<h;j++)_[j-6]=arguments[j];return Object(O.I)(function(){if(a=a||"<<anonymous>>",l=l||o,i[o]==null){if(r){var k=i[o]===null?"null":"undefined";return new Error("The "+c+" `"+l+"` is marked as required in `"+a+"`, but its value is `"+k+"`.")}return null}return t.apply(void 0,[i,o,a,c,l].concat(_))})}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function Wi(t){var e=de(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(n,r){return n==="symbol"||r["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&r instanceof Symbol}(e,t)?"symbol":e}function Dn(t,e){return Xi(function(n,r,i,o,a){return Object(O.I)(function(){if(t&&Wi(n[r])===e.toLowerCase())return null;var c;switch(e){case"Array":c=O.w;break;case"Object":c=O.y;break;case"Map":c=O.x;break;default:throw new Error("Unexpected mobxType: ".concat(e))}var l=n[r];if(!c(l)){var h=function(j){var k=Wi(j);if(k==="object"){if(j instanceof Date)return"date";if(j instanceof RegExp)return"regexp"}return k}(l),_=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+h+"` supplied to `"+i+"`, expected `mobx.Observable"+e+"`"+_+".")}return null})})}function oo(t,e){return Xi(function(n,r,i,o,a){for(var c=arguments.length,l=new Array(c>5?c-5:0),h=5;h<c;h++)l[h-5]=arguments[h];return Object(O.I)(function(){if(typeof e!="function")return new Error("Property `"+a+"` of component `"+i+"` has invalid PropType notation.");var _=Dn(t,"Array")(n,r,i);if(_ instanceof Error)return _;for(var j=n[r],k=0;k<j.length;k++)if((_=e.apply(void 0,[j,k,i,o,a+"["+k+"]"].concat(l)))instanceof Error)return _;return null})})}Dn(!1,"Array"),oo.bind(null,!1),Dn(!1,"Map"),Dn(!1,"Object"),Dn(!0,"Array"),oo.bind(null,!0);var Xo=Dn(!0,"Object"),Wo=0,Vo={};function sn(t){return Vo[t]||(Vo[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react ".concat(e," (").concat(Wo,")");return Wo++,n}(t)),Vo[t]}var Yo=sn("patchMixins"),Vi=sn("patchedDefinition");function Yi(t,e){var n=t[Yo]=t[Yo]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function Ko(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var a;return t!=null&&(a=t.apply(this,i)),a}finally{e.locks--,e.locks===0&&e.methods.forEach(function(c){c.apply(n,i)})}}function Ki(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Ko.call.apply(Ko,[this,t,e].concat(r))}}function $i(t,e){for(var n=Yi(t,e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];for(var a=0;a<i.length;a++){var c=i[a];n.methods.indexOf(c)<0&&n.methods.push(c)}var l=Object.getOwnPropertyDescriptor(t,e);if(!l||!l[Vi]){var h=t[e],_=Zi(t,e,l?l.enumerable:void 0,n,h);Object.defineProperty(t,e,_)}}function Zi(t,e,n,r,i){var o,a=Ki(i,r);return Mt(o={},Vi,!0),Mt(o,"get",function(){return a}),Mt(o,"set",function(c){if(this===t)a=Ki(c,r);else{var l=Zi(this,e,n,r,c);Object.defineProperty(this,e,l)}}),Mt(o,"configurable",!0),Mt(o,"enumerable",n),o}var $o={mobxStores:Xo};Object.seal($o);var qi={contextTypes:{get:function(){return $o},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Ji(t,e,n){var r="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");n&&(r+="-with-"+n);var i=function(o){function a(){var c,l;to(this,a);for(var h=arguments.length,_=new Array(h),j=0;j<h;j++)_[j]=arguments[j];return(l=Vn(this,(c=Cr(a)).call.apply(c,[this].concat(_)))).storeRef=function(k){l.wrappedInstance=k},l}return Jt(a,o),Nr(a,[{key:"render",value:function(){var c={};for(var l in this.props)this.props.hasOwnProperty(l)&&(c[l]=this.props[l]);var h=t(this.context.mobxStores||{},c,this.context)||{};for(var _ in h)c[_]=h[_];return function(j){return!(j.prototype&&j.prototype.render)}(e)||(c.ref=this.storeRef),I(e,c)}}]),a}(C);return i.displayName=r,Hi(i,e),i.wrappedComponent=e,Object.defineProperties(i,qi),i}function yu(t){return function(e,n){return t.forEach(function(r){if(!(r in n)){if(!(r in e))throw new Error("MobX injector: Store '"+r+"' is not available! Make sure it is provided by some Provider");n[r]=e[r]}}),n}}function Qi(){var t;if(typeof arguments[0]=="function")return t=arguments[0],function(r){var i=Ji(t,r);return i.isMobxInjector=!1,(i=st(i)).isMobxInjector=!0,i};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=yu(e),function(r){return Ji(t,r,e.join("-"))}}var Yn=O.a||"$mobx",Kn=sn("isUnmounted"),$n=!1,ea=!1,sr=typeof WeakMap!="undefined"?new WeakMap:void 0,Zo=new On,wn=sn("skipRender"),io=sn("isForcingUpdate"),ta=Me(function(t,e){}).$$typeof;function ct(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}function na(t){if(cr)try{return cr(t)}catch(e){return null}return null}function qo(t){var e=na(t);e&&sr&&sr.set(e,t),Zo.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}var vu=new On;function en(t,e){if(lr(t,e))return!0;if(de(t)!=="object"||t===null||de(e)!=="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(e,n[i])||!lr(t[n[i]],e[n[i]]))return!1;return!0}function lr(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ln(t){var e=this;function n(){var l=this;a=!1;var h=void 0,_=void 0;if(c.track(function(){$n&&(l.__$mobRenderStart=Date.now());try{_=Object(O.d)(!1,o)}catch(j){h=j}$n&&(l.__$mobRenderEnd=Date.now())}),h)throw vu.emit(h),h;return _}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;ct(this,wn,!1),ct(this,io,!1);var o=t.bind(this),a=!1,c=new O.c("".concat(r,"#").concat(i,".render()"),function(){if(!a&&(a=!0,typeof e.componentWillReact=="function"&&e.componentWillReact(),e[Kn]!==!0)){var l=!0;try{ct(e,io,!0),e[wn]||C.prototype.forceUpdate.call(e),l=!1}finally{ct(e,io,!1),l&&c.dispose()}}});return c.reactComponent=this,n[Yn]=c,this.render=n,n.call(this)}var Nt={componentWillUnmount:function(){if(this.render[Yn]&&this.render[Yn].dispose(),this[Kn]=!0,$n){var t=na(this);t&&sr&&sr.delete(t),Zo.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){$n&&qo(this)},componentDidUpdate:function(){$n&&qo(this)},shouldComponentUpdate:function(t,e){return this.state!==e||!en(this.props,t)}};function fr(t,e){var n=sn("reactProp_".concat(e,"_valueHolder")),r=sn("reactProp_".concat(e,"_atomHolder"));function i(){return this[r]||ct(this,r,Object(O.m)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(o){this[io]||en(this[n],o)?ct(this,n,o):(ct(this,n,o),ct(this,wn,!0),i.call(this).reportChanged(),ct(this,wn,!1))}})}function st(t,e){if(typeof t=="string")throw new Error("Store names should be provided as array");if(Array.isArray(t))return ea||(ea=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?Qi.apply(null,t)(st(e)):function(h){return st(t,h)};var n=t;if(n.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===ge&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),ta&&n.$$typeof===ta){var r=n.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Me(function(){var h=arguments;return Fo.createElement(Ir,null,function(){return r.apply(void 0,h)})})}if(!(typeof n!="function"||n.prototype&&n.prototype.render||n.isReactClass||C.isPrototypeOf(n))){var i,o,a=st((o=i=function(h){function _(){return to(this,_),Vn(this,Cr(_).apply(this,arguments))}return Jt(_,h),Nr(_,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),_}(C),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,o));return Hi(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var c=n.prototype||n;(function(h){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(_){(function(j,k){$i(j,k,Nt[k])})(h,_)}),h.shouldComponentUpdate?h.shouldComponentUpdate!==Nt.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):h.shouldComponentUpdate=Nt.shouldComponentUpdate})(c),n.isMobXReactObserver=!0,fr(c,"props"),fr(c,"state");var l=c.render;return c.render=function(){return ln.call(this,l)},n}var Ir=st(function(t){var e=t.children,n=t.inject,r=t.render,i=e||r;if(i===void 0)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var o=Qi(n)(i);return Fo.createElement(o,null)});Ir.displayName="Observer";var ao=function(t,e,n,r,i){var o=e==="children"?"render":"children";return typeof t[e]=="function"&&typeof t[o]=="function"?new Error("Invalid prop,do not use children and render in the same time in`"+n):typeof t[e]!="function"&&typeof t[o]!="function"?new Error("Invalid prop `"+i+"` of type `"+de(t[e])+"` supplied to `"+n+"`, expected `function`."):void 0};function pr(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Lr(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return n!=null?n:null}.bind(this))}function ra(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ir.propTypes={render:ao,children:ao},pr.__suppressDeprecationWarning=!0,Lr.__suppressDeprecationWarning=!0,ra.__suppressDeprecationWarning=!0;var Jo={children:!0,key:!0,ref:!0},zr=function(t){function e(n,r){var i;return to(this,e),(i=Vn(this,Cr(e).call(this,n,r))).state={},uo(n,i.state),i}return Jt(e,t),Nr(e,[{key:"render",value:function(){return Xn.only(this.props.children)}},{key:"getChildContext",value:function(){var n={};return uo(this.context.mobxStores,n),uo(this.props,n),{mobxStores:n}}}],[{key:"getDerivedStateFromProps",value:function(n,r){if(!n)return null;if(!r)return n;if(Object.keys(n).filter(Ct).length!==Object.keys(r).filter(Ct).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!n.suppressChangedStoreWarning)for(var i in n)Ct(i)&&r[i]!==n[i]&&console.warn("MobX Provider: Provided store '"+i+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return n}}]),e}(C);function uo(t,e){if(t)for(var n in t)Ct(n)&&(e[n]=t[n])}function Ct(t){return!Jo[t]&&t!=="suppressChangedStoreWarning"}if(zr.contextTypes={mobxStores:Xo},zr.childContextTypes={mobxStores:Xo.isRequired},function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=pr,e.componentWillReceiveProps=Lr),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=ra;var c=e.componentDidUpdate;e.componentDidUpdate=function(l,h,_){var j=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:_;c.call(this,l,h,j)}}}(zr),sn("disposeOnUnmount"),!C)throw new Error("mobx-react requires React to be available");if(!O.F)throw new Error("mobx-react requires mobx to be available");if(Object(O.l)({reactionScheduler:Mr}),(typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="undefined"?"undefined":de(__MOBX_DEVTOOLS_GLOBAL_HOOK__))==="object"){var gu={spy:O.F,extras:{getDebugName:O.r}},oa={renderReporter:Zo,componentByNodeRegistry:sr,componentByNodeRegistery:sr,trackComponents:function(){if(typeof WeakMap=="undefined")throw new Error("[mobx-react] tracking components is not supported in this browser.");$n||($n=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(oa,gu)}u(1),u(78),u(3),u(5),u(4),u(8),u(17),u(35),u(12),u(2),u(19),u(13),u(20),u(6),u(7),u(15),u(18),u(159),u(164),u(81),u(130),u(131);var ia=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Qo=function(){this.__data__=[],this.size=0},co=function(t,e){return t===e||t!=t&&e!=e},Gt=function(t,e){for(var n=t.length;n--;)if(co(t[n][0],e))return n;return-1},bu=Array.prototype.splice,Br=function(t){var e=this.__data__,n=Gt(e,t);return!(n<0)&&(n==e.length-1?e.pop():bu.call(e,n,1),--this.size,!0)},so=function(t){var e=this.__data__,n=Gt(e,t);return n<0?void 0:e[n][1]},Ht=function(t){return Gt(this.__data__,t)>-1},mu=function(t,e){var n=this.__data__,r=Gt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function xn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xn.prototype.clear=Qo,xn.prototype.delete=Br,xn.prototype.get=so,xn.prototype.has=Ht,xn.prototype.set=mu;var Rt=xn,aa=function(){this.__data__=new Rt,this.size=0},ei=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},_u=function(t){return this.__data__.get(t)},ua=function(t){return this.__data__.has(t)},fn=u(22),It=fn.a.Symbol,ca=Object.prototype,pn=ca.hasOwnProperty,hn=ca.toString,En=It?It.toStringTag:void 0,sa=function(t){var e=pn.call(t,En),n=t[En];try{t[En]=void 0;var r=!0}catch(o){}var i=hn.call(t);return r&&(e?t[En]=n:delete t[En]),i},la=Object.prototype.toString,ti=function(t){return la.call(t)},ni=It?It.toStringTag:void 0,hr=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ni&&ni in Object(t)?sa(t):ti(t)},Lt=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},g,m=function(t){if(!Lt(t))return!1;var e=hr(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},w=fn.a["__core-js_shared__"],T=(g=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",D=function(t){return!!T&&T in t},G=Function.prototype.toString,Q=function(t){if(t!=null){try{return G.call(t)}catch(e){}try{return t+""}catch(e){}}return""},se=/^\[object .+?Constructor\]$/,me=Function.prototype,Ae=Object.prototype,Oe=me.toString,ze=Ae.hasOwnProperty,Be=RegExp("^"+Oe.call(ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=function(t){return!(!Lt(t)||D(t))&&(m(t)?Be:se).test(Q(t))},qe=function(t,e){return t==null?void 0:t[e]},Xe=function(t,e){var n=qe(t,e);return Ue(n)?n:void 0},nt=Xe(fn.a,"Map"),vt=Xe(Object,"create"),ri=function(){this.__data__=vt?vt(null):{},this.size=0},mg=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_g=Object.prototype.hasOwnProperty,Og=function(t){var e=this.__data__;if(vt){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return _g.call(e,t)?e[t]:void 0},wg=Object.prototype.hasOwnProperty,xg=function(t){var e=this.__data__;return vt?e[t]!==void 0:wg.call(e,t)},Eg=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vt&&e===void 0?"__lodash_hash_undefined__":e,this};function lo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lo.prototype.clear=ri,lo.prototype.delete=mg,lo.prototype.get=Og,lo.prototype.has=xg,lo.prototype.set=Eg;var Is=lo,Sg=function(){this.size=0,this.__data__={hash:new Is,map:new(nt||Rt),string:new Is}},jg=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},fa=function(t,e){var n=t.__data__;return jg(e)?n[typeof e=="string"?"string":"hash"]:n.map},Pg=function(t){var e=fa(this,t).delete(t);return this.size-=e?1:0,e},Ag=function(t){return fa(this,t).get(t)},kg=function(t){return fa(this,t).has(t)},Tg=function(t,e){var n=fa(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function fo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fo.prototype.clear=Sg,fo.prototype.delete=Pg,fo.prototype.get=Ag,fo.prototype.has=kg,fo.prototype.set=Tg;var pa=fo,Dg=function(t,e){var n=this.__data__;if(n instanceof Rt){var r=n.__data__;if(!nt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new pa(r)}return n.set(t,e),this.size=n.size,this};function po(t){var e=this.__data__=new Rt(t);this.size=e.size}po.prototype.clear=aa,po.prototype.delete=ei,po.prototype.get=_u,po.prototype.has=ua,po.prototype.set=Dg;var oi=po,Mg=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ng=function(t){return this.__data__.has(t)};function ha(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new pa;++e<n;)this.add(t[e])}ha.prototype.add=ha.prototype.push=Mg,ha.prototype.has=Ng;var Cg=ha,Rg=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Ig=function(t,e){return t.has(e)},Ls=function(t,e,n,r,i,o){var a=1&n,c=t.length,l=e.length;if(c!=l&&!(a&&l>c))return!1;var h=o.get(t),_=o.get(e);if(h&&_)return h==e&&_==t;var j=-1,k=!0,M=2&n?new Cg:void 0;for(o.set(t,e),o.set(e,t);++j<c;){var U=t[j],$=e[j];if(r)var K=a?r($,U,j,e,t,o):r(U,$,j,t,e,o);if(K!==void 0){if(K)continue;k=!1;break}if(M){if(!Rg(e,function(J,q){if(!Ig(M,q)&&(U===J||i(U,J,n,r,o)))return M.push(q)})){k=!1;break}}else if(U!==$&&!i(U,$,n,r,o)){k=!1;break}}return o.delete(t),o.delete(e),k},da=fn.a.Uint8Array,Lg=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},zg=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},zs=It?It.prototype:void 0,Ou=zs?zs.valueOf:void 0,Bg=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new da(t),new da(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return co(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Lg;case"[object Set]":var l=1&r;if(c||(c=zg),t.size!=e.size&&!l)return!1;var h=a.get(t);if(h)return h==e;r|=2,a.set(t,e);var _=Ls(c(t),c(e),r,i,o,a);return a.delete(t),_;case"[object Symbol]":if(Ou)return Ou.call(t)==Ou.call(e)}return!1},wu=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},tn=Array.isArray,Bs=function(t,e,n){var r=e(t);return tn(t)?r:wu(r,n(t))},Fg=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Fs=function(){return[]},Ug=Object.prototype.propertyIsEnumerable,Us=Object.getOwnPropertySymbols,xu=Us?function(t){return t==null?[]:(t=Object(t),Fg(Us(t),function(e){return Ug.call(t,e)}))}:Fs,Gg=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},dr=function(t){return t!=null&&typeof t=="object"},Gs=function(t){return dr(t)&&hr(t)=="[object Arguments]"},Hs=Object.prototype,Hg=Hs.hasOwnProperty,Xg=Hs.propertyIsEnumerable,Eu=Gs(function(){return arguments}())?Gs:function(t){return dr(t)&&Hg.call(t,"callee")&&!Xg.call(t,"callee")},ya=u(48),Wg=/^(?:0|[1-9]\d*)$/,va=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Wg.test(t))&&t>-1&&t%1==0&&t<e},Su=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Je={};Je["[object Float32Array]"]=Je["[object Float64Array]"]=Je["[object Int8Array]"]=Je["[object Int16Array]"]=Je["[object Int32Array]"]=Je["[object Uint8Array]"]=Je["[object Uint8ClampedArray]"]=Je["[object Uint16Array]"]=Je["[object Uint32Array]"]=!0,Je["[object Arguments]"]=Je["[object Array]"]=Je["[object ArrayBuffer]"]=Je["[object Boolean]"]=Je["[object DataView]"]=Je["[object Date]"]=Je["[object Error]"]=Je["[object Function]"]=Je["[object Map]"]=Je["[object Number]"]=Je["[object Object]"]=Je["[object RegExp]"]=Je["[object Set]"]=Je["[object String]"]=Je["[object WeakMap]"]=!1;var Vg=function(t){return dr(t)&&Su(t.length)&&!!Je[hr(t)]},ju=function(t){return function(e){return t(e)}},ho=u(42),Xs=ho.a&&ho.a.isTypedArray,Ws=Xs?ju(Xs):Vg,Yg=Object.prototype.hasOwnProperty,Vs=function(t,e){var n=tn(t),r=!n&&Eu(t),i=!n&&!r&&Object(ya.a)(t),o=!n&&!r&&!i&&Ws(t),a=n||r||i||o,c=a?Gg(t.length,String):[],l=c.length;for(var h in t)!e&&!Yg.call(t,h)||a&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||va(h,l))||c.push(h);return c},Kg=Object.prototype,ga=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Kg)},Ys=function(t,e){return function(n){return t(e(n))}},$g=Ys(Object.keys,Object),Zg=Object.prototype.hasOwnProperty,qg=function(t){if(!ga(t))return $g(t);var e=[];for(var n in Object(t))Zg.call(t,n)&&n!="constructor"&&e.push(n);return e},yo=function(t){return t!=null&&Su(t.length)&&!m(t)},vo=function(t){return yo(t)?Vs(t):qg(t)},Pu=function(t){return Bs(t,vo,xu)},Jg=Object.prototype.hasOwnProperty,Qg=function(t,e,n,r,i,o){var a=1&n,c=Pu(t),l=c.length;if(l!=Pu(e).length&&!a)return!1;for(var h=l;h--;){var _=c[h];if(!(a?_ in e:Jg.call(e,_)))return!1}var j=o.get(t),k=o.get(e);if(j&&k)return j==e&&k==t;var M=!0;o.set(t,e),o.set(e,t);for(var U=a;++h<l;){var $=t[_=c[h]],K=e[_];if(r)var J=a?r(K,$,_,e,t,o):r($,K,_,t,e,o);if(!(J===void 0?$===K||i($,K,n,r,o):J)){M=!1;break}U||(U=_=="constructor")}if(M&&!U){var q=t.constructor,ne=e.constructor;q==ne||!("constructor"in t)||!("constructor"in e)||typeof q=="function"&&q instanceof q&&typeof ne=="function"&&ne instanceof ne||(M=!1)}return o.delete(t),o.delete(e),M},Au=Xe(fn.a,"DataView"),ku=Xe(fn.a,"Promise"),Tu=Xe(fn.a,"Set"),Du=Xe(fn.a,"WeakMap"),eb=Q(Au),tb=Q(nt),nb=Q(ku),rb=Q(Tu),ob=Q(Du),Fr=hr;(Au&&Fr(new Au(new ArrayBuffer(1)))!="[object DataView]"||nt&&Fr(new nt)!="[object Map]"||ku&&Fr(ku.resolve())!="[object Promise]"||Tu&&Fr(new Tu)!="[object Set]"||Du&&Fr(new Du)!="[object WeakMap]")&&(Fr=function(t){var e=hr(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Q(n):"";if(r)switch(r){case eb:return"[object DataView]";case tb:return"[object Map]";case nb:return"[object Promise]";case rb:return"[object Set]";case ob:return"[object WeakMap]"}return e});var ii=Fr,Ks=Object.prototype.hasOwnProperty,ib=function(t,e,n,r,i,o){var a=tn(t),c=tn(e),l=a?"[object Array]":ii(t),h=c?"[object Array]":ii(e),_=(l=l=="[object Arguments]"?"[object Object]":l)=="[object Object]",j=(h=h=="[object Arguments]"?"[object Object]":h)=="[object Object]",k=l==h;if(k&&Object(ya.a)(t)){if(!Object(ya.a)(e))return!1;a=!0,_=!1}if(k&&!_)return o||(o=new oi),a||Ws(t)?Ls(t,e,n,r,i,o):Bg(t,e,l,n,r,i,o);if(!(1&n)){var M=_&&Ks.call(t,"__wrapped__"),U=j&&Ks.call(e,"__wrapped__");if(M||U){var $=M?t.value():t,K=U?e.value():e;return o||(o=new oi),i($,K,n,r,o)}}return!!k&&(o||(o=new oi),Qg(t,e,n,r,i,o))},Mu=function t(e,n,r,i,o){return e===n||(e==null||n==null||!dr(e)&&!dr(n)?e!=e&&n!=n:ib(e,n,r,i,t,o))},ab=function(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var c=n[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var l=(c=n[i])[0],h=t[l],_=c[1];if(a&&c[2]){if(h===void 0&&!(l in t))return!1}else{var j=new oi;if(r)var k=r(h,_,l,t,e,j);if(!(k===void 0?Mu(_,h,3,r,j):k))return!1}}return!0},$s=function(t){return t==t&&!Lt(t)},ub=function(t){for(var e=vo(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$s(i)]}return e},Zs=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},cb=function(t){var e=ub(t);return e.length==1&&e[0][2]?Zs(e[0][0],e[0][1]):function(n){return n===t||ab(n,t,e)}},ba=function(t){return typeof t=="symbol"||dr(t)&&hr(t)=="[object Symbol]"},sb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lb=/^\w*$/,Nu=function(t,e){if(tn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!ba(t))||lb.test(t)||!sb.test(t)||e!=null&&t in Object(e)};function Cu(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Cu.Cache||pa),n}Cu.Cache=pa;var fb=Cu,pb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hb=/\\(\\)?/g,db=function(t){var e=fb(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pb,function(n,r,i,o){e.push(i?o.replace(hb,"$1"):r||n)}),e}),qs=It?It.prototype:void 0,Js=qs?qs.toString:void 0,yb=function t(e){if(typeof e=="string")return e;if(tn(e))return ia(e,t)+"";if(ba(e))return Js?Js.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},vb=function(t){return t==null?"":yb(t)},ma=function(t,e){return tn(t)?t:Nu(t,e)?[t]:db(vb(t))},ai=function(t){if(typeof t=="string"||ba(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Ru=function(t,e){for(var n=0,r=(e=ma(e,t)).length;t!=null&&n<r;)t=t[ai(e[n++])];return n&&n==r?t:void 0},Qs=function(t,e,n){var r=t==null?void 0:Ru(t,e);return r===void 0?n:r},gb=function(t,e){return t!=null&&e in Object(t)},bb=function(t,e,n){for(var r=-1,i=(e=ma(e,t)).length,o=!1;++r<i;){var a=ai(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&Su(i)&&va(a,i)&&(tn(t)||Eu(t))},el=function(t,e){return t!=null&&bb(t,e,gb)},mb=function(t,e){return Nu(t)&&$s(e)?Zs(ai(t),e):function(n){var r=Qs(n,t);return r===void 0&&r===e?el(n,t):Mu(e,r,3)}},Iu=function(t){return t},_b=function(t){return function(e){return e==null?void 0:e[t]}},Ob=function(t){return function(e){return Ru(e,t)}},wb=function(t){return Nu(t)?_b(ai(t)):Ob(t)},xb=function(t){return typeof t=="function"?t:t==null?Iu:typeof t=="object"?tn(t)?mb(t[0],t[1]):cb(t):wb(t)},Eb=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),c=a.length;c--;){var l=a[t?c:++i];if(n(o[l],l,o)===!1)break}return e}}(),Sb=function(t,e){return function(n,r){if(n==null)return n;if(!yo(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}(function(t,e){return t&&Eb(t,e,vo)}),jb=function(t,e){var n=-1,r=yo(t)?Array(t.length):[];return Sb(t,function(i,o,a){r[++n]=e(i,o,a)}),r},_a=function(t,e){return(tn(t)?ia:jb)(t,xb(e))},Oa=function(){try{var t=Xe(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),tl=function(t,e,n){e=="__proto__"&&Oa?Oa(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Pb=Object.prototype.hasOwnProperty,wa=function(t,e,n){var r=t[e];Pb.call(t,e)&&co(r,n)&&(n!==void 0||e in t)||tl(t,e,n)},ui=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],l=r?r(n[c],t[c],c,n,t):void 0;l===void 0&&(l=t[c]),i?tl(n,c,l):wa(n,c,l)}return n},Ab=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},nl=Math.max,rl=function(t,e,n){return e=nl(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=nl(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(a),Ab(t,this,c)}},kb=function(t){return function(){return t}},Tb=Oa?function(t,e){return Oa(t,"toString",{configurable:!0,enumerable:!1,value:kb(e),writable:!0})}:Iu,Db=Date.now,ol=function(t){var e=0,n=0;return function(){var r=Db(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Tb),Mb=function(t,e){return ol(rl(t,e,Iu),t+"")},Nb=function(t,e,n){if(!Lt(n))return!1;var r=typeof e;return!!(r=="number"?yo(n)&&va(e,n.length):r=="string"&&e in n)&&co(n[e],t)},Cb=function(t){return Mb(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Nb(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,o)}return e})},Rb=Object.prototype.hasOwnProperty,it=Cb(function(t,e){if(ga(e)||yo(e))ui(e,vo(e),t);else for(var n in e)Rb.call(e,n)&&wa(t,n,e[n])}),Ib=function(t,e,n,r){if(!Lt(t))return t;for(var i=-1,o=(e=ma(e,t)).length,a=o-1,c=t;c!=null&&++i<o;){var l=ai(e[i]),h=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var _=c[l];(h=r?r(_,l,c):void 0)===void 0&&(h=Lt(_)?_:va(e[i+1])?[]:{})}wa(c,l,h),c=c[l]}return t},Lb=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],c=Ru(t,a);n(c,a)&&Ib(o,ma(a,t),c)}return o},zb=function(t,e){return Lb(t,e,function(n,r){return el(t,r)})},il=It?It.isConcatSpreadable:void 0,Bb=function(t){return tn(t)||Eu(t)||!!(il&&t&&t[il])},Fb=function t(e,n,r,i,o){var a=-1,c=e.length;for(r||(r=Bb),o||(o=[]);++a<c;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):wu(o,l):i||(o[o.length]=l)}return o},Ub=function(t){return(t==null?0:t.length)?Fb(t,1):[]},Ot,al,ul,cl,sl,ll,fl,pl,hl,dl,yl,vl,gl,bl,ml,Mn=function(t){return ol(rl(t,void 0,Ub),t+"")}(function(t,e){return t==null?{}:zb(t,e)});function Xt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ve,Ol,Le,gt,Re,at,Hb={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},Lu=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"],wl=(al=zt((Ot=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Xt(this,"stopZoomGraph",al,this),Xt(this,"stopScrollGraph",ul,this),Xt(this,"stopMoveGraph",cl,this),Xt(this,"adjustEdge",sl,this),Xt(this,"adjustNodePosition",ll,this),Xt(this,"hideAnchors",fl,this),Xt(this,"hoverOutline",pl,this),Xt(this,"nodeSelectedOutline",hl,this),Xt(this,"edgeSelectedOutline",dl,this),Xt(this,"nodeTextEdit",yl,this),Xt(this,"edgeTextEdit",vl,this),Xt(this,"nodeTextDraggable",gl,this),Xt(this,"edgeTextDraggable",bl,this),Xt(this,"metaKeyMultipleSelected",ml,this),_l(this,"extraConf",{}),_l(this,"defaultConfig",{}),it(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);it(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,a={};if(i===!1&&it(a,this.defaultConfig),i===!0){var c=Mn(Hb,Lu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},it(a,c)}o===!1&&it(a,{nodeTextEdit:!1,edgeTextEdit:!1});var l=Mn(r,Lu);return it(a,l)}},{key:"getConfig",value:function(){return Mn(this,Lu)}}])&&Gb(e.prototype,n),t}()).prototype,"stopZoomGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ul=zt(Ot.prototype,"stopScrollGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cl=zt(Ot.prototype,"stopMoveGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sl=zt(Ot.prototype,"adjustEdge",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ll=zt(Ot.prototype,"adjustNodePosition",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fl=zt(Ot.prototype,"hideAnchors",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pl=zt(Ot.prototype,"hoverOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hl=zt(Ot.prototype,"nodeSelectedOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dl=zt(Ot.prototype,"edgeSelectedOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yl=zt(Ot.prototype,"nodeTextEdit",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vl=zt(Ot.prototype,"edgeTextEdit",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gl=zt(Ot.prototype,"nodeTextDraggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=zt(Ot.prototype,"edgeTextDraggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ml=zt(Ot.prototype,"metaKeyMultipleSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zt(Ot.prototype,"updateEditConfig",[O.i],Object.getOwnPropertyDescriptor(Ot.prototype,"updateEditConfig"),Ot.prototype),Ot);(function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Ve||(Ve={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(Ol||(Ol={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Le||(Le={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(gt||(gt={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform"}(Re||(Re={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(at||(at={}));var Nn,lt,xl,El,Sl,jl,Pl,Al,kl;function xa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Tl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Tl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ur(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Nn||(Nn={}));var Wb=(xl=Sn((lt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),zu(this,"MINI_SCALE_SIZE",.2),zu(this,"MAX_SCALE_SIZE",16),Ur(this,"SCALE_X",xl,this),Ur(this,"SKEW_Y",El,this),Ur(this,"SKEW_X",Sl,this),Ur(this,"SCALE_Y",jl,this),Ur(this,"TRANSLATE_X",Pl,this),Ur(this,"TRANSLATE_Y",Al,this),Ur(this,"ZOOM_SIZE",kl,this),zu(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=xa(r,2),o=i[0],a=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=xa(r,2),o=i[0],a=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var a=xa(r,2),c=a[0],l=a[1];return[c+i/this.SCALE_X,l+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=r?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(o<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||o>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=o,this.SCALE_Y+=o,i&&(this.TRANSLATE_X-=o*i[0],this.TRANSLATE_Y-=o*i[1]),this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(Re.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,a){var c=xa(this.CanvasPointToHtmlPoint([r,i]),2),l=o/2-c[0],h=a/2-c[1];this.TRANSLATE_X+=l,this.TRANSLATE_Y+=h,this.emitGraphTransform("focusOn")}}])&&Xb(e.prototype,n),t}()).prototype,"SCALE_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),El=Sn(lt.prototype,"SKEW_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sl=Sn(lt.prototype,"SKEW_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jl=Sn(lt.prototype,"SCALE_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pl=Sn(lt.prototype,"TRANSLATE_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Al=Sn(lt.prototype,"TRANSLATE_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kl=Sn(lt.prototype,"ZOOM_SIZE",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Sn(lt.prototype,"zoom",[O.i],Object.getOwnPropertyDescriptor(lt.prototype,"zoom"),lt.prototype),Sn(lt.prototype,"resetZoom",[O.i],Object.getOwnPropertyDescriptor(lt.prototype,"resetZoom"),lt.prototype),Sn(lt.prototype,"translate",[O.i],Object.getOwnPropertyDescriptor(lt.prototype,"translate"),lt.prototype),Sn(lt.prototype,"focusOn",[O.i],Object.getOwnPropertyDescriptor(lt.prototype,"focusOn"),lt.prototype),lt),Vb=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Yb=function(t,e){return t&&ui(e,vo(e),t)},Kb=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},$b=Object.prototype.hasOwnProperty,Zb=function(t){if(!Lt(t))return Kb(t);var e=ga(t),n=[];for(var r in t)(r!="constructor"||!e&&$b.call(t,r))&&n.push(r);return n},Bu=function(t){return yo(t)?Vs(t,!0):Zb(t)},qb=function(t,e){return t&&ui(e,Bu(e),t)},Jb=u(139),Qb=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},em=function(t,e){return ui(t,xu(t),e)},Dl=Ys(Object.getPrototypeOf,Object),Ml=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)wu(e,xu(t)),t=Dl(t);return e}:Fs,tm=function(t,e){return ui(t,Ml(t),e)},nm=function(t){return Bs(t,Bu,Ml)},rm=Object.prototype.hasOwnProperty,om=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&rm.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Fu=function(t){var e=new t.constructor(t.byteLength);return new da(e).set(new da(t)),e},im=function(t,e){var n=e?Fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},am=/\w*$/,um=function(t){var e=new t.constructor(t.source,am.exec(t));return e.lastIndex=t.lastIndex,e},Nl=It?It.prototype:void 0,Cl=Nl?Nl.valueOf:void 0,cm=function(t){return Cl?Object(Cl.call(t)):{}},sm=function(t,e){var n=e?Fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},lm=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Fu(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return im(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return sm(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return um(t);case"[object Set]":return new r;case"[object Symbol]":return cm(t)}},Rl=Object.create,fm=function(){function t(){}return function(e){if(!Lt(e))return{};if(Rl)return Rl(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),pm=function(t){return typeof t.constructor!="function"||ga(t)?{}:fm(Dl(t))},hm=function(t){return dr(t)&&ii(t)=="[object Map]"},Il=ho.a&&ho.a.isMap,dm=Il?ju(Il):hm,ym=function(t){return dr(t)&&ii(t)=="[object Set]"},Ll=ho.a&&ho.a.isSet,vm=Ll?ju(Ll):ym,Ke={};Ke["[object Arguments]"]=Ke["[object Array]"]=Ke["[object ArrayBuffer]"]=Ke["[object DataView]"]=Ke["[object Boolean]"]=Ke["[object Date]"]=Ke["[object Float32Array]"]=Ke["[object Float64Array]"]=Ke["[object Int8Array]"]=Ke["[object Int16Array]"]=Ke["[object Int32Array]"]=Ke["[object Map]"]=Ke["[object Number]"]=Ke["[object Object]"]=Ke["[object RegExp]"]=Ke["[object Set]"]=Ke["[object String]"]=Ke["[object Symbol]"]=Ke["[object Uint8Array]"]=Ke["[object Uint8ClampedArray]"]=Ke["[object Uint16Array]"]=Ke["[object Uint32Array]"]=!0,Ke["[object Error]"]=Ke["[object Function]"]=Ke["[object WeakMap]"]=!1;var gm=function t(e,n,r,i,o,a){var c,l=1&n,h=2&n,_=4&n;if(r&&(c=o?r(e,i,o,a):r(e)),c!==void 0)return c;if(!Lt(e))return e;var j=tn(e);if(j){if(c=om(e),!l)return Qb(e,c)}else{var k=ii(e),M=k=="[object Function]"||k=="[object GeneratorFunction]";if(Object(ya.a)(e))return Object(Jb.a)(e,l);if(k=="[object Object]"||k=="[object Arguments]"||M&&!o){if(c=h||M?{}:pm(e),!l)return h?tm(e,qb(c,e)):em(e,Yb(c,e))}else{if(!Ke[k])return o?e:{};c=lm(e,k,l)}}a||(a=new oi);var U=a.get(e);if(U)return U;a.set(e,c),vm(e)?e.forEach(function(K){c.add(t(K,n,r,K,e,a))}):dm(e)&&e.forEach(function(K,J){c.set(J,t(K,n,r,J,e,a))});var $=j?void 0:(_?h?nm:Pu:h?Bu:vo)(e);return Vb($||e,function(K,J){$&&(K=e[J=K]),wa(c,J,t(K,n,r,J,e,a))}),c},Uu=function(t){return gm(t,5)};function zl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zl(Object(n),!0).forEach(function(r){bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var go={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},mm=wt(wt({},go),{},{width:100,height:80,radius:0}),_m=wt(wt({},go),{},{r:50}),Om=wt(wt({},go),{},{rx:55,ry:45}),wm=wt(wt({},go),{},{rx:50,ry:50}),xm=wt({},go),Em=wt(wt({},go),{},{stroke:"#000000",strokeWidth:1,r:4}),Gu={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},Sm=wt({},Gu),jm=wt(wt({},Gu),{},{offset:30}),Pm=wt(wt({},Gu),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),Bl={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},Wt={rect:mm,circle:_m,diamond:wm,ellipse:Om,polygon:xm,anchor:Em,text:Bl,nodeText:wt(wt({},Bl),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:Sm,polyline:jm,bezier:Pm,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1}};function Fl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fl(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Am(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gl=function(t){var e=Uu(Wt);return t&&Object.keys(t).forEach(function(n){e[n]=Ul(Ul({},e[n]),t[n])}),e};function Ea(t,e){return e*Math.round(t/e)||t}function Hl(t,e){return t%e}function Hu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Xl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xu,Wu=function(t,e,n){var r=Hu(t,2),i=r[0],o=r[1],a=Hu(e,2),c=a[0],l=a[1],h=Hu(n,2),_=h[0],j=h[1];return i>c&&i<_&&o>l&&o<j},km=(u(31),u(41),u(52),u(63),u(136),u(137),u(64),u(9),u(10),u(11),u(38),new Uint8Array(16));function Tm(){if(!Xu&&!(Xu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xu(km)}for(var Dm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Mm=function(t){return typeof t=="string"&&Dm.test(t)},jt=[],Vu=0;Vu<256;++Vu)jt.push((Vu+256).toString(16).substr(1));var Nm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(jt[t[e+0]]+jt[t[e+1]]+jt[t[e+2]]+jt[t[e+3]]+"-"+jt[t[e+4]]+jt[t[e+5]]+"-"+jt[t[e+6]]+jt[t[e+7]]+"-"+jt[t[e+8]]+jt[t[e+9]]+"-"+jt[t[e+10]]+jt[t[e+11]]+jt[t[e+12]]+jt[t[e+13]]+jt[t[e+14]]+jt[t[e+15]]).toLowerCase();if(!Mm(n))throw TypeError("Stringified UUID is invalid");return n},Yu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Tm)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Nm(r)},bo=function(){return Yu()},Cm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+Yu(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+Yu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},ci=(u(102),u(176),function(t,e,n){var r=t.x,i=t.y;return(r-e.x)*(r-n.x)<=0&&(i-e.y)*(i-n.y)<=0});function Wl(t){return(Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var le,Vl,Yl,Kl,$l,Zl,ql,Jl,Ql,ef,tf,nf,rf,of,af,uf,cf,sf,lf,ff,pf,hf,df,yf,Ku=function(t){return t.anchors},vf=function(t,e){for(var n,r=e.length-1;r>=0;r--)if(Im(t,e[r])){var i=Rm(t,e[r]);if(i){n={node:e[r],anchorIndex:i.index,anchor:i.anchor};break}}return n},Rm=function(t,e){for(var n,r=Ku(e),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var a=Cn(t.x,t.y,r[o].x,r[o].y);a<i&&(i=a,n={index:o,anchor:{x:r[o].x,y:r[o].y,id:r[o].id}})}return n},Cn=function(t,e,n,r){return Math.hypot(t-n,e-r)},yr=function(t,e){var n=!1,r=nn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Im=function(t,e){var n=!1,r=nn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},nn=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},gf=function(t,e,n){var r,i=function(a){var c=a,l=c.x,h=c.y,_=c.width,j=c.height,k=c.radius;return[{x:l-_/2+k,y:h-j/2+k,r:k},{x:l+_/2-k,y:h-j/2+k,r:k},{x:l-_/2+k,y:h+j/2-k,r:k},{x:l+_/2-k,y:h+j/2-k,r:k}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(a){var c=Cn(t.x,t.y,a.x,a.y);c<o&&(o=c,r=a)}),$u(t,e,r)},$u=function(t,e,n){var r,i=n,o=i.x,a=i.y,c=i.r;if(e===at.HORIZONTAL){var l=o-Math.sqrt(c*c-(t.y-a)*(t.y-a)),h=o+Math.sqrt(c*c-(t.y-a)*(t.y-a));r={x:Math.abs(l-t.x)<Math.abs(h-t.x)?l:h,y:t.y}}else if(e===at.VERTICAL){var _=a-Math.sqrt(c*c-(t.x-o)*(t.x-o)),j=a+Math.sqrt(c*c-(t.x-o)*(t.x-o)),k=Math.abs(_-t.y)<Math.abs(j-t.y)?_:j;r={x:t.x,y:k}}return r},bf=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,c=n.y+n.height/2-n.radius,l=n.x,h=n.y,_=n.width,j=n.height;return t.y===h+j/2||t.y===h-j/2?r=t.x>i&&t.x<o:t.x!==l+_/2&&t.x!==l-_/2||(r=t.y>a&&t.y<c),r},mf=function(t,e,n){var r,i=n,o=i.x,a=i.y,c=i.rx,l=i.ry;if(e===at.HORIZONTAL){var h=o-Math.sqrt(c*c-(t.y-a)*(t.y-a)*c*c/(l*l)),_=o+Math.sqrt(c*c-(t.y-a)*(t.y-a)*c*c/(l*l));r={x:Math.abs(h-t.x)<Math.abs(_-t.x)?h:_,y:t.y}}else if(e===at.VERTICAL){var j=a-Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(c*c)),k=a+Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(c*c)),M=Math.abs(j-t.y)<Math.abs(k-t.y)?j:k;r={x:t.x,y:M}}return r},_f=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,a=[],c=0;c<i.length;c++)a.push({start:i[c],end:i[(c+1)%i.length]});return a.forEach(function(l){var h=l.start,_=l.end,j=h,k=_;h.x>_.x&&(j=_,k=h);var M,U=(k.y-j.y)/(k.x-j.x),$=(j.x*k.y-k.x*j.y)/(j.x-k.x);if(U>Number.MAX_SAFE_INTEGER||$>Number.MAX_SAFE_INTEGER?M={x:t.x,y:t.y}:e===at.HORIZONTAL?M={x:(t.y-$)/U,y:t.y}:e===at.VERTICAL&&(M={x:t.x,y:U*t.x+$}),ci(M,h,_)){var K=Cn(M.x,M.y,t.x,t.y);K<o&&(o=K,r=M)}}),r},Of=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},wf=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(c){var l=document.createElement("div");l.textContent=c,o.appendChild(l)}):o.textContent=e,document.body.appendChild(o);var a=o.clientHeight;return document.body.removeChild(o),a},Sa=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var a=cc(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},xf=function(t){return Wl(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},jn=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Lm=1e3,zm=999,Zu=function(){return++Lm};function Ef(t){return(Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function tt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Bm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ke(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}function Sf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ut=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sf(Object(n),!0).forEach(function(r){Rn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},Wt.line),qu=(Vl=ke((le=function(){function t(r,i,o){(function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Rn(this,"id",bo()),Rn(this,"BaseType",gt.EDGE),tt(this,"state",Vl,this),Rn(this,"modelType",Le.EDGE),Rn(this,"additionStateData",void 0),Rn(this,"graphModel",void 0),Rn(this,"menu",void 0),Rn(this,"sourceAnchorId",ut.sourceAnchorId),Rn(this,"targetAnchorId",ut.targetAnchorId),Rn(this,"customTextPosition",!1),tt(this,"text",Yl,this),tt(this,"type",Kl,this),tt(this,"properties",$l,this),tt(this,"sourceNodeId",Zl,this),tt(this,"targetNodeId",ql,this),tt(this,"startPoint",Jl,this),tt(this,"endPoint",Ql,this),tt(this,"strokeWidth",ef,this),tt(this,"stroke",tf,this),tt(this,"strokeDashArray",nf,this),tt(this,"outlineColor",rf,this),tt(this,"outlineStrokeDashArray",of,this),tt(this,"strokeOpacity",af,this),tt(this,"zIndex",uf,this),tt(this,"isSelected",cf,this),tt(this,"isHovered",sf,this),tt(this,"isHitable",lf,this),tt(this,"hoverStroke",ff,this),tt(this,"selectedStroke",pf,this),tt(this,"points",hf,this),tt(this,"pointsList",df,this),tt(this,"draggable",yf,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var e,n;return e=t,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i();o&&(r.id=o);var a=this.createId();a&&(r.id=a)}it(this,Qm(r)),this.graphModel.overlapMode===Nn.INCREASE&&(this.zIndex=r.zIndex||Zu())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(r,i){var o,a;return Ku(r).forEach(function(c){var l=Vf(c,i);a?l<a&&(a=l,o=c):(a=l,o=c)}),o}},{key:"getEndAnchor",value:function(r){var i,o,a=this;return Ku(r).forEach(function(c){var l=Vf(c,a.startPoint);o?l<o&&(o=l,i=c):(o=l,i=c)}),i}},{key:"getProperties",value:function(){return Object(O.G)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,c={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(O.G)(this.properties)};return a&&(c.text={x:i,y:o,value:a}),this.graphModel.overlapMode===Nn.INCREASE&&(c.zIndex=this.zIndex),c}},{key:"setProperty",value:function(r,i){this.properties[r]=jn(i)}},{key:"setProperties",value:function(r){Object.assign(this.properties,r)}},{key:"updateData",value:function(r){var i=jn(Mn(r,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),o=this.text,a=o.x,c=o.y,l=o.draggable,h=o.editable;if(i.text&&typeof i.text=="string"){var _={value:i.text,draggable:l,editable:h},j=this.textPosition;i.text=a||c?Object.assign({},_,{x:a,y:c}):Object.assign({},_,j)}else if(Ef(i.text)==="object"){var k=Object.assign({},this.text,i.text);i.text=Mn(k,"x","y","value","draggable","editable")}it(this,i)}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,a=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||a,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,a=o.x,c=o.y,l=o.value,h=o.draggable,_=o.editable;this.text={value:l,draggable:h,x:a+r,y:c+i,editable:_}}}},{key:"setText",value:function(r){r&&it(this.text,r)}},{key:"updateText",value:function(r){var i=this.text,o=i.x,a=i.y,c=i.draggable,l=i.editable;this.text={x:o,y:a,draggable:c,editable:l,value:r}}},{key:"setAnchors",value:function(){if(!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=r}if(!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint=i}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateStrokeWidth",value:function(r){this.strokeWidth=r}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&it(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ut.zIndex;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){it(this,r)}}])&&Bm(e.prototype,n),t}()).prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Yl=ke(le.prototype,"text",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.text}}),Kl=ke(le.prototype,"type",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$l=ke(le.prototype,"properties",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Zl=ke(le.prototype,"sourceNodeId",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.sourceNodeId}}),ql=ke(le.prototype,"targetNodeId",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.targetNodeId}}),Jl=ke(le.prototype,"startPoint",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.startPoint}}),Ql=ke(le.prototype,"endPoint",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.endPoint}}),ef=ke(le.prototype,"strokeWidth",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.strokeWidth}}),tf=ke(le.prototype,"stroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.stroke}}),nf=ke(le.prototype,"strokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.strokeDashArray}}),rf=ke(le.prototype,"outlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.outlineColor}}),of=ke(le.prototype,"outlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.outlineStrokeDashArray}}),af=ke(le.prototype,"strokeOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.strokeOpacity}}),uf=ke(le.prototype,"zIndex",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.zIndex}}),cf=ke(le.prototype,"isSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.isSelected}}),sf=ke(le.prototype,"isHovered",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.isHovered}}),lf=ke(le.prototype,"isHitable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ff=ke(le.prototype,"hoverStroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.hoverStroke}}),pf=ke(le.prototype,"selectedStroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.selectedStroke}}),hf=ke(le.prototype,"points",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.points}}),df=ke(le.prototype,"pointsList",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.pointsList}}),yf=ke(le.prototype,"draggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ke(le.prototype,"sourceNode",[O.k],Object.getOwnPropertyDescriptor(le.prototype,"sourceNode"),le.prototype),ke(le.prototype,"targetNode",[O.k],Object.getOwnPropertyDescriptor(le.prototype,"targetNode"),le.prototype),ke(le.prototype,"textPosition",[O.k],Object.getOwnPropertyDescriptor(le.prototype,"textPosition"),le.prototype),ke(le.prototype,"setProperty",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setProperty"),le.prototype),ke(le.prototype,"setProperties",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setProperties"),le.prototype),ke(le.prototype,"updateData",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"updateData"),le.prototype),ke(le.prototype,"formatText",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"formatText"),le.prototype),ke(le.prototype,"resetTextPosition",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"resetTextPosition"),le.prototype),ke(le.prototype,"moveText",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"moveText"),le.prototype),ke(le.prototype,"setText",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setText"),le.prototype),ke(le.prototype,"updateText",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"updateText"),le.prototype),ke(le.prototype,"setAnchors",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setAnchors"),le.prototype),ke(le.prototype,"setSelected",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setSelected"),le.prototype),ke(le.prototype,"setHovered",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setHovered"),le.prototype),ke(le.prototype,"setHitable",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setHitable"),le.prototype),ke(le.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setElementState"),le.prototype),ke(le.prototype,"updateStroke",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"updateStroke"),le.prototype),ke(le.prototype,"updateStrokeWidth",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"updateStrokeWidth"),le.prototype),ke(le.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"updateStartPoint"),le.prototype),ke(le.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"updateEndPoint"),le.prototype),ke(le.prototype,"setStyleFromTheme",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setStyleFromTheme"),le.prototype),ke(le.prototype,"setZIndex",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"setZIndex"),le.prototype),ke(le.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"initPoints"),le.prototype),ke(le.prototype,"updateAttributes",[O.i],Object.getOwnPropertyDescriptor(le.prototype,"updateAttributes"),le.prototype),le),Ju=qu;function jf(t){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pf(t,e){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Um(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qu(t);if(e){var i=Qu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gm(this,n)}}function Gm(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Af(t)}function Af(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qu(t){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var $e,kf,ec=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Pf(o,a)})(i,t);var e,n,r=Um(i);function i(o,a){var c,l,h,_;return function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"line"),l=Af(c),h="modelType",_=Le.LINE_EDGE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,c}return e=i,(n=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Fm(e.prototype,n),i}(Ju);u(36),u(83);function Tf(t){return(Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Hm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Df(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Df(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Df(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mf(t,e,n){return(Mf=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=si(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Nf(t,e){return(Nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Wm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=si(t);if(e){var i=si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vm(this,n)}}function Vm(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mo(t)}function mo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function si(t){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function tc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var nc=(kf=Zn(($e=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Nf(o,a)})(i,t);var e,n,r=Wm(i);function i(o,a){var c;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),tc(mo(c=r.call(this,o,a,"polyline")),"modelType",Le.POLYLINE_EDGE),tc(mo(c),"offset",Wt.polyline.offset),tc(mo(c),"draginngPointList",void 0),function(l,h,_,j){_&&Object.defineProperty(l,h,{enumerable:_.enumerable,configurable:_.configurable,writable:_.writable,value:_.initializer?_.initializer.call(j):void 0})}(mo(c),"dbClickPosition",kf,mo(c)),c}return e=i,(n=[{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var c=this.dbClickPosition;return{x:c.x,y:c.y}}var l=_o(this.points),h=Hm(qm(l),2),_=h[0],j=h[1];return{x:(_.x+j.x)/2,y:(_.y+j.y)/2}}},{key:"getAfterAnchor",value:function(o,a,c){var l,h;return c.forEach(function(_){var j;o===at.HORIZONTAL?j=Math.abs(a.y-_.y):o===at.VERTICAL&&(j=Math.abs(a.x-_.x)),(!h||h>j)&&(h=j,l=_)}),l}},{key:"getCorssPoint",value:function(o,a,c){var l;return o===at.HORIZONTAL?l={x:c.x,y:a.y}:o===at.VERTICAL&&(l={x:a.x,y:c.y}),l}},{key:"removeCrossPoints",value:function(o,a,c){var l=c.map(function(J){return J});if(o===1){var h=l[o],_=l[a],j=l[o-1];if(Uf(j,h,this.sourceNode)){if(Gf(h,_,this.sourceNode)){var k=Hf(h,_,this.sourceNode);k&&(l[o]=k,l.splice(o-1,1),o--,a--)}}else this.sourceNode.anchors.forEach(function(J){(J.x===j.x&&J.x===h.x||J.y===j.y&&J.y===h.y)&&Cn(J.x,J.y,h.x,h.y)<Cn(j.x,j.y,h.x,h.y)&&(l[o-1]=J)})}if(a===c.length-2){var M=l[o],U=l[a],$=l[a+1];if(Uf(U,$,this.targetNode)){if(Gf(M,U,this.targetNode)){var K=Hf(M,U,this.targetNode);K&&(l[a]=K,l.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(J){(J.x===$.x&&J.x===U.x||J.y===$.y&&J.y===U.y)&&Cn(J.x,J.y,U.x,U.y)<Cn($.x,$.y,U.x,U.y)&&(l[a+1]=J)})}return l}},{key:"getDragingPoints",value:function(o,a,c,l,h){var _=h.map(function(M){return M}),j=this.getAfterAnchor(o,c,l),k=this.getCorssPoint(o,c,j);return a==="start"?(_.unshift(k),_.unshift(j)):(_.push(k),_.push(j)),_}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(ne){return ne}),c=o[0],l=o[1],h=o[a.length-2],_=o[a.length-1],j=this.sourceNode,k=this.targetNode,M=j.modelType,U=k.modelType,$=Da(c,l),K=a[0];switch(M){case Le.RECT_NODE:j.radius!==0&&(bf(c,j)||(K=gf(c,$,j)));break;case Le.CIRCLE_NODE:K=$u(c,$,j);break;case Le.ELLIPSE_NODE:K=mf(c,$,j);break;case Le.DIAMOND_NODE:case Le.POLYGON_NODE:K=_f(c,$,j)}a[0]=K;var J=Da(h,_),q=a[a.length-1];switch(U){case Le.RECT_NODE:k.radius!==0&&(bf(_,k)||(q=gf(_,J,k)));break;case Le.CIRCLE_NODE:q=$u(_,J,k);break;case Le.ELLIPSE_NODE:q=mf(_,J,k);break;case Le.DIAMOND_NODE:case Le.POLYGON_NODE:q=_f(_,J,k)}return a[a.length-1]=q,a}},{key:"getData",value:function(){var o=Mf(si(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(c){return{x:c.x,y:c.y}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Zm({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppend",value:function(o,a){var c=o.start,l=o.end,h=o.startIndex,_=o.endIndex,j=o.direction,k=this.pointsList;if(j===at.HORIZONTAL){k[h]={x:c.x,y:c.y+a.y},k[_]={x:l.x,y:l.y+a.y};var M=this.pointsList.map(function(Se){return Se});if(h!==0&&_!==this.pointsList.length-1&&(M=this.removeCrossPoints(h,_,M)),h===0){var U={x:c.x,y:c.y+a.y};if(!yr(U,this.sourceNode)){var $=this.sourceNode.anchors;M=this.getDragingPoints(j,"start",U,$,M)}}if(_===this.pointsList.length-1){var K={x:l.x,y:l.y+a.y};if(!yr(K,this.targetNode)){var J=this.targetNode.anchors;M=this.getDragingPoints(j,"end",K,J,M)}}M=uc(M),this.updatePointsAfterDrage(M),this.draginngPointList=M}else if(j===at.VERTICAL){k[h]={x:c.x+a.x,y:c.y},k[_]={x:l.x+a.x,y:l.y};var q=this.pointsList.map(function(Se){return Se});if(h!==0&&_!==this.pointsList.length-1&&(q=this.removeCrossPoints(h,_,q)),h===0){var ne={x:c.x+a.x,y:c.y};if(!yr(ne,this.sourceNode)){var ue=this.sourceNode.anchors;q=this.getDragingPoints(j,"start",ne,ue,q)}}if(_===this.pointsList.length-1){var ae={x:l.x+a.x,y:l.y};if(!yr(ae,this.targetNode)){var Ee=this.targetNode.anchors;q=this.getDragingPoints(j,"end",ae,Ee,q)}}q=uc(q),this.updatePointsAfterDrage(q),this.draginngPointList=q}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},k[h]),end:Object.assign({},k[_]),startIndex:h,endIndex:_,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=_o(this.points);this.pointsList=o.map(function(l){return l}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var c=o[o.length-1];this.endPoint=Object.assign({},c)}}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}}])&&Xm(e.prototype,n),i}(Ju)).prototype,"dbClickPosition",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn($e.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor($e.prototype,"initPoints"),$e.prototype),Zn($e.prototype,"updatePoints",[O.i],Object.getOwnPropertyDescriptor($e.prototype,"updatePoints"),$e.prototype),Zn($e.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor($e.prototype,"updateStartPoint"),$e.prototype),Zn($e.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor($e.prototype,"updateEndPoint"),$e.prototype),Zn($e.prototype,"dragAppendStart",[O.i],Object.getOwnPropertyDescriptor($e.prototype,"dragAppendStart"),$e.prototype),Zn($e.prototype,"dragAppend",[O.i],Object.getOwnPropertyDescriptor($e.prototype,"dragAppend"),$e.prototype),Zn($e.prototype,"dragAppendEnd",[O.i],Object.getOwnPropertyDescriptor($e.prototype,"dragAppendEnd"),$e.prototype),Zn($e.prototype,"updatePointsAfterDrage",[O.i],Object.getOwnPropertyDescriptor($e.prototype,"updatePointsAfterDrage"),$e.prototype),$e),li=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((n.y-e.y)/(n.x-e.x)),l=Math.atan(r/i),h=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(a.leftX=e.x+h*Math.sin(c+l),a.leftY=e.y-h*Math.cos(c+l),a.rightX=e.x-h*Math.sin(c-l),a.rightY=e.y+h*Math.cos(c-l)):(a.leftX=e.x-h*Math.sin(c+l),a.leftY=e.y+h*Math.cos(c+l),a.rightX=e.x+h*Math.sin(c-l),a.rightY=e.y-h*Math.cos(c-l)):o==="end"&&(n.x>=e.x?(a.leftX=n.x+h*Math.sin(c-l),a.leftY=n.y-h*Math.cos(c-l),a.rightX=n.x-h*Math.sin(c+l),a.rightY=n.y+h*Math.cos(c+l)):(a.leftX=n.x-h*Math.sin(c-l),a.leftY=n.y+h*Math.cos(c-l),a.rightX=n.x+h*Math.sin(c+l),a.rightY=n.y-h*Math.cos(c+l))),a};function Cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cf(Object(n),!0).forEach(function(r){Ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ym(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Km(t){return function(e){if(Array.isArray(e))return oc(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||If(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rf(t){return(Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||If(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function If(t,e){if(t){if(typeof t=="string")return oc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oc(t,e):void 0}}function oc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ic=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Pa=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Aa=function(t,e){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?at.HORIZONTAL:at.VERTICAL}(e,t)===at.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Lf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},fi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(_){n.push(_.x),r.push(_.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),a=Math.min.apply(Math,r),c=Math.max.apply(Math,r),l=o-i,h=c-a;return e&&(l+=e,h+=e),{centerX:(i+o)/2,centerY:(a+c)/2,maxX:o,maxY:c,minX:i,minY:a,x:(i+o)/2,y:(a+c)/2,height:h,width:l}},ka=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},Ta=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},ac=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},zf=function(t,e,n,r,i){return ac(t,e)+ac(t,n)+function(o,a){var c=0;return a.forEach(function(l){l&&(o.x===l.x&&(c+=-2),o.y===l.y&&(c+=-2))}),c}(t,[e,n,r,i])},pi=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,c=r.y-n.y,l=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*c),h=(a*(t.y-n.y)-c*(t.x-n.x))/(-a*o+i*c);return l>=0&&l<=1&&h>=0&&h<=1},Bf=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=rc(ka(n),4),i=r[0],o=r[1],a=r[2],c=r[3];return pi(t,e,i,o)||pi(t,e,i,c)||pi(t,e,o,a)||pi(t,e,a,c)},$m=function(t,e,n,r,i,o,a){var c=[],l=[e],h={},_={},j={};_[e.id]=0,j[e.id]=zf(e,n,e);var k={};t.forEach(function($){k[$.id]=$});for(var M=function(){var $,K,J,q=void 0,ne=1/0;if(l.forEach(function(ae){j[ae.id]<ne&&(ne=j[ae.id],q=ae)}),q===n){var ue=[];return function ae(Ee,Se,Te,We,Ze){Ze||(Ze=0),Ee.unshift(Se[We]),Te[We]&&Te[We]!==We&&Ze<=100&&ae(Ee,Se,Te,Te[We],Ze+1)}(ue,k,h,n.id),{v:ue}}K=q,(J=($=l).indexOf(K))>-1&&$.splice(J,1),c.push(q),function(ae,Ee,Se,Te){var We=[];return ae.forEach(function(Ze){Ze!==Ee&&(Ze.x!==Ee.x&&Ze.y!==Ee.y||Bf(Ze,Ee,Se)||Bf(Ze,Ee,Te)||We.push(Ze))}),ic(We)}(t,q,r,i).forEach(function(ae){if(c.indexOf(ae)===-1){l.indexOf(ae)===-1&&l.push(ae);var Ee=j[q.id]+ac(q,ae);_[ae.id]&&Ee>=_[ae.id]||(h[ae.id]=q.id,_[ae.id]=Ee,j[ae.id]=_[ae.id]+zf(ae,n,e,o,a))}})};l.length;){var U=M();if(Rf(U)==="object")return U.v}return[e,n]},Ff=function(t){return nn(t)},uc=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],i=e[n],o=e[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?e.splice(n,1):n++}return e},Zm=function(t,e,n,r,i){var o,a,c=Ff(n),l=Ff(r),h=Pa(c,i),_=Pa(l,i),j=Aa(h,t),k=Aa(_,e);if(o=h,a=_,2*Math.abs(o.centerX-a.centerX)<o.width+a.width&&2*Math.abs(o.centerY-a.centerY)<o.height+a.height){var M=Jm(t,e,j,k);return[t,j].concat(Km(M),[k,e])}var U=fi([j,k]),$=Lf(h,U),K=Lf(_,U),J=[];J=(J=J.concat(ka($))).concat(ka(K));var q={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[U,$,K].forEach(function(ue){J=J.concat(function(ae,Ee){return function(Se,Te){return Te<Se.minX||Te>Se.maxX?[]:[{x:Te,y:Se.minY},{x:Te,y:Se.maxY}]}(ae,Ee.x).concat(function(Se,Te){return Te<Se.minY||Te>Se.maxY?[]:[{x:Se.minX,y:Te},{x:Se.maxX,y:Te}]}(ae,Ee.y))}(ue,q).filter(function(ae){return Ta(ae,h)&&Ta(ae,_)}))}),[{x:j.x,y:k.y},{x:k.x,y:j.y}].forEach(function(ue){Ta(ue,h)&&Ta(ue,_)&&J.push(ue)}),J.unshift(j),J.push(k),J=ic(J);var ne=$m(J,j,k,c,l,t,e);return ne.unshift(t),ne.push(e),ne.length>2&&(ne=uc(ne)),ic(ne)},qm=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=Cn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var a=t[o],c=t[o+1],l=Cn(a.x,a.y,c.x,c.y);l>i&&(i=l,n=a,r=c)}e=[n,r]}return e},Uf=function(t,e,n){var r=yr(t,n),i=yr(e,n);return r&&i},Gf=function(t,e,n){var r=yr(t,n),i=yr(e,n);return!(r&&i)&&(r||i)},Hf=function(t,e,n){for(var r,i,o=nn(n),a=ka(o),c=0;c<a.length;c++)pi(t,e,a[c],a[(c+1)%a.length])&&(i=[a[c],a[(c+1)%a.length]]);return i&&(r=function(l,h,_,j){var k=(h.y-l.y)*(j.x-_.x)-(l.x-h.x)*(_.y-j.y);if(k===0)return!1;var M=((h.x-l.x)*(j.x-_.x)*(_.y-l.y)+(h.y-l.y)*(j.x-_.x)*l.x-(j.y-_.y)*(h.x-l.x)*_.x)/k,U=-((h.y-l.y)*(j.y-_.y)*(_.x-l.x)+(h.x-l.x)*(j.y-_.y)*l.y-(j.x-_.x)*(h.y-l.y)*_.y)/k;return(M-l.x)*(M-h.x)<=0&&(U-l.y)*(U-h.y)<=0&&(M-_.x)*(M-j.x)<=0&&(U-_.y)*(U-j.y)<=0&&{x:M,y:U}}(t,e,i[0],i[1])),r},Da=function(t,e){var n;return t.x===e.x?n=at.VERTICAL:t.y===e.y&&(n=at.HORIZONTAL),n},_o=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=rc(r.split(","),2),o=i[0],a=i[1];n.push({x:Number(o),y:Number(a)})}),n},Jm=function(t,e,n,r){var i=[];if(Da(t,n)===Da(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},a=ci(o,t,n),c=ci(o,e,r);if(a||c)o={x:r.x,y:n.y};else{var l=Xf(o,t,n),h=Xf(o,e,r);l&&h&&(o={x:r.x,y:n.y})}i.push(o)}return i},Xf=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},cc=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Ma=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Na(e[0]),Na(e[1]),Na(e[2]),Na(e[3])]},Na=function(t){var e=rc(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Wf=function(t,e){for(var n,r=t.x,i=t.y,o=_o(e),a=Number.MAX_SAFE_INTEGER,c=[],l=0;l<o.length;l++)c.push({start:o[l],end:o[(l+1)%o.length]});if(c.forEach(function(k){var M=k.start,U=k.end;if(M.x===U.x){var $={x:M.x,y:i};if(ci($,M,U)){var K=Math.abs(M.x-r);K<a&&(a=K,n=$)}}else if(M.y===U.y){var J={x:r,y:M.y};if(ci(J,M,U)){var q=Math.abs(M.y-i);q<a&&(a=q,n=J)}}}),!n){var h=c[0],_=h.start,j=h.end;n={x:_.x+(j.x-_.x)/2,y:_.y+(j.y-_.y)/2}}return n},Qm=function(t){return Mn(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Vf=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Oo=function(){};function e0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vr=window.document;function Ca(t){var e=t.onDragStart,n=e===void 0?Oo:e,r=t.onDraging,i=r===void 0?Oo:r,o=t.onDragEnd,a=o===void 0?Oo:o,c=t.step,l=c===void 0?1:c,h=t.isStopPropagation,_=h===void 0||h,j=!1,k=!1,M=0,U=0,$=0,K=0;function J(ne){if(_&&ne.stopPropagation(),k&&(j=!0,$+=ne.clientX-M,K+=ne.clientY-U,M=ne.clientX,U=ne.clientY,Math.abs($)>l||Math.abs(K)>l)){var ue=$%l,ae=K%l,Ee=$-ue,Se=K-ae;$=ue,K=ae,i({deltaX:Ee,deltaY:Se,event:ne})}}function q(ne){if(_&&ne.stopPropagation(),k=!1,vr.removeEventListener("mousemove",J,!1),vr.removeEventListener("mouseup",q,!1),j)return j=!1,a({event:ne})}return function(ne){if(ne.button===0)return _&&ne.stopPropagation(),k=!0,M=ne.clientX,U=ne.clientY,vr.addEventListener("mousemove",J,!1),vr.addEventListener("mouseup",q,!1),n({event:ne})}}var te,Yf,Kf,$f,Zf,qf,Jf,Qf,ep,tp,np,rp,op,ip,ap,up,cp,sp,hi=function(){function t(r){var i=this,o=r.onDragStart,a=o===void 0?Oo:o,c=r.onDraging,l=c===void 0?Oo:c,h=r.onDragEnd,_=h===void 0?Oo:h,j=r.eventType,k=j===void 0?"":j,M=r.eventCenter,U=M===void 0?null:M,$=r.step,K=$===void 0?1:$,J=r.isStopPropagation,q=J===void 0||J,ne=r.model,ue=ne===void 0?null:ne;(function(ae,Ee){if(!(ae instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,t),bt(this,"onDragStart",void 0),bt(this,"onDraging",void 0),bt(this,"onDragEnd",void 0),bt(this,"step",void 0),bt(this,"isStopPropagation",void 0),bt(this,"isDraging",!1),bt(this,"isStartDraging",!1),bt(this,"startX",0),bt(this,"startY",0),bt(this,"sumDeltaX",0),bt(this,"sumDeltaY",0),bt(this,"eventType",void 0),bt(this,"eventCenter",void 0),bt(this,"model",void 0),bt(this,"startTime",void 0),bt(this,"isGrag",void 0),bt(this,"handleMouseDown",function(ae){var Ee,Se,Te;if(ae.button===0){i.isStopPropagation&&ae.stopPropagation(),i.isStartDraging=!0,i.startX=ae.clientX,i.startY=ae.clientY,vr.addEventListener("mousemove",i.handleMouseMove,!1),vr.addEventListener("mouseup",i.handleMouseUp,!1),i.onDragStart({event:ae});var We=(Ee=i.model)===null||Ee===void 0?void 0:Ee.getData();(Se=i.eventCenter)===null||Se===void 0||Se.emit(Re["".concat(i.eventType,"_MOUSEDOWN")],{e:ae,data:We}),(Te=i.eventCenter)===null||Te===void 0||Te.emit(Re["".concat(i.eventType,"_DRAGSTART")],{e:ae,data:We}),i.startTime=new Date().getTime()}}),bt(this,"handleMouseMove",function(ae){if(i.isStopPropagation&&ae.stopPropagation(),i.isStartDraging&&(i.isDraging=!0,i.sumDeltaX+=ae.clientX-i.startX,i.sumDeltaY+=ae.clientY-i.startY,i.startX=ae.clientX,i.startY=ae.clientY,Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Ee,Se,Te,We=i.sumDeltaX%i.step,Ze=i.sumDeltaY%i.step,Gn=i.sumDeltaX-We,Kr=i.sumDeltaY-Ze;i.sumDeltaX=We,i.sumDeltaY=Ze,i.onDraging({deltaX:Gn,deltaY:Kr,event:ae});var wr=(Ee=i.model)===null||Ee===void 0?void 0:Ee.getData();(Se=i.eventCenter)===null||Se===void 0||Se.emit(Re["".concat(i.eventType,"_MOUSEMOVE")],{e:ae,data:wr}),(Te=i.eventCenter)===null||Te===void 0||Te.emit(Re["".concat(i.eventType,"_DRAG")],{e:ae,data:wr})}}),bt(this,"handleMouseUp",function(ae){var Ee,Se,Te;if(i.isStartDraging=!1,i.isStopPropagation&&ae.stopPropagation(),vr.removeEventListener("mousemove",i.handleMouseMove,!1),vr.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging){i.isDraging=!1,i.onDragEnd({event:ae});var We=(Ee=i.model)===null||Ee===void 0?void 0:Ee.getData();(Se=i.eventCenter)===null||Se===void 0||Se.emit(Re["".concat(i.eventType,"_MOUSEUP")],{e:ae,data:We}),(Te=i.eventCenter)===null||Te===void 0||Te.emit(Re["".concat(i.eventType,"_DROP")],{e:ae,data:We})}}),this.onDragStart=a,this.onDraging=l,this.onDragEnd=_,this.step=K,this.isStopPropagation=q,this.eventType=k,this.eventCenter=U,this.model=ue}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&e0(e.prototype,n),t}();function lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lp(Object(n),!0).forEach(function(r){rn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return pp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function t0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xe(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var hp=(Yf=xe((te=function(){function t(r){(function(U,$){if(!(U instanceof $))throw new TypeError("Cannot call a class as a function")})(this,t),rn(this,"BaseType",gt.GRAPH),rn(this,"modelType",Le.GRAPH),rn(this,"rootEl",void 0),rn(this,"theme",void 0),rn(this,"eventCenter",void 0),rn(this,"modelMap",new Map),rn(this,"width",void 0),rn(this,"height",void 0),rn(this,"topElement",void 0),rn(this,"selectElement",void 0),rn(this,"idGenerator",void 0),rn(this,"nodeMoveRules",[]),Pt(this,"edgeType",Yf,this),Pt(this,"nodes",Kf,this),Pt(this,"activeElement",$f,this),Pt(this,"activeElementState",Zf,this),Pt(this,"state",qf,this),Pt(this,"additionStateData",Jf,this),Pt(this,"edges",Qf,this),Pt(this,"isSlient",ep,this),Pt(this,"overlapMode",tp,this),Pt(this,"plugins",np,this),Pt(this,"tools",rp,this),Pt(this,"background",op,this),Pt(this,"transformMatrix",ip,this),Pt(this,"editConfig",ap,this),Pt(this,"gridSize",up,this),Pt(this,"partial",cp,this),Pt(this,"fakerNode",sp,this);var i=r.container,o=r.background,a=o===void 0?{}:o,c=r.grid,l=(c=c===void 0?{}:c).size,h=l===void 0?1:l,_=r.isSilentMode,j=_!==void 0&&_,k=r.eventCenter,M=r.idGenerator;this.background=a,this.isSlient=j,this.gridSize=h,this.rootEl=i,this.editConfig=new wl(r),this.eventCenter=k,this.transformMatrix=new Wb(k),this.theme=Gl(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=M}var e,n;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(j){return r.push(j)}),this.edges.forEach(function(j){return r.push(j)}),r=r.sort(function(j,k){return j.zIndex-k.zIndex});for(var i=[],o=-1,a=[-200,-200],c=[this.width+200,this.height+200],l=0;l<r.length;l++){var h=r[l];this.partial&&!this.isElementInArea(h,a,c,!1)||(h.zIndex===9999&&(o=i.length),i.push(h))}if(o!==-1){var _=i[i.length-1];i[i.length-1]=i[o],i[o]=_}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===Ve.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===Ve.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],a=[];this.nodes.forEach(function(h){return a.push(h)}),this.edges.forEach(function(h){return a.push(h)});for(var c=0;c<a.length;c++){var l=a[c];this.isElementInArea(l,r,i)&&o.push(l)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModel",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,a=this.rootEl.getBoundingClientRect(),c={x:i-a.left,y:o-a.top},l=fp(this.transformMatrix.HtmlPointToCanvasPoint([c.x,c.y]),2);return{domOverlayPosition:c,canvasOverlayPosition:{x:l[0],y:l[1]}}}},{key:"isElementInArea",value:function(r,i,o){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===gt.NODE){for(var c=nn(r=r),l=c.minX,h=c.minY,_=c.maxX,j=c.maxY,k=[{x:l,y:h},{x:_,y:h},{x:_,y:j},{x:l,y:j}],M=!0,U=0;U<k.length;U++){var $=k[U],K=$.x,J=$.y,q=this.transformMatrix.CanvasPointToHtmlPoint([K,J]),ne=fp(q,2);if(K=ne[0],J=ne[1],!Wu([K,J],i,o)){M=!1;break}}return M}if(r.BaseType===gt.EDGE){var ue=r=r,ae=ue.startPoint,Ee=ue.endPoint,Se=this.transformMatrix.CanvasPointToHtmlPoint([ae.x,ae.y]),Te=this.transformMatrix.CanvasPointToHtmlPoint([Ee.x,Ee.y]),We=Wu(Se,i,o),Ze=Wu(Te,i,o);return a?We&&Ze:We||Ze}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=_a(r.nodes,function(o){var a=i.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var c=o.x,l=o.y;return c&&l&&(o.x=Ea(c,i.gridSize),o.y=Ea(l,i.gridSize),Object.prototype.toString.call(o.text)==="[object Object]"&&(o.text.x-=Hl(c,i.gridSize),o.text.y-=Hl(l,i.gridSize))),new a(o,i)}),this.edges=_a(r.edges,function(o){var a=i.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,i)})}},{key:"modelToGraphData",value:function(){var r=this.edges.map(function(i){return i.getData()});return{nodes:this.nodes.map(function(i){return i.getData()}),edges:r}}},{key:"getEdgeModel",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){var i=this.getNodeModel(r);return i||this.getEdgeModel(r)}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var a=this.edges[o],c=this.edges[o].sourceNodeId===r,l=this.edges[o].targetNodeId===r;(c||l)&&i.push(a)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(a){if(a.BaseType===gt.NODE&&o.nodes.push(a.getData()),a.BaseType===gt.EDGE){var c=a.getData(),l=i.get(c.sourceNodeId)&&i.get(c.targetNodeId);(r||l)&&o.edges.push(c)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=bo()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"changeEdgeId",value:function(r,i){return i||(i=bo()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"updateEdgeByIndex",value:function(r,i){this.edges[r]=wo(wo({},this.edges[r]),i)}},{key:"toFront",value:function(r){var i,o,a,c=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);c&&((a=this.topElement)===null||a===void 0||a.setZIndex(),this.topElement=c,c.setZIndex(9999))}},{key:"setElementZIndex",value:function(r,i){var o,a,c,l=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[r])===null||a===void 0?void 0:a.model);l&&(typeof i=="number"&&(c=i),i==="top"&&(c=Zu()),i==="bottom"&&(c=--zm),l.setZIndex(c))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.removeEdgeBySource(r),this.removeEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(Re.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=jn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new o(i,this);this.nodes.push(a);var c=a.getData();return this.eventCenter.emit(Re.NODE_ADD,{data:c}),a}},{key:"cloneNode",value:function(r){var i=this.getNodeModel(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),i.setSelected(!1),a.getData()}},{key:"moveNode",value:function(r,i,o){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],c=this.nodesMap[r];if(c){var l=c.model;l.move(i,o,a),this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var a=this.nodesMap[r];if(a){var c=a.model,l=i-c.x,h=o-c.y;this.moveNode(r,l,h)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTextEditable",value:function(r){this.setElementStateById(r,Ve.TEXT_EDIT)}},{key:"createEdge",value:function(r){var i=jn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FDE\u7EBF\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FDE\u7EBF\u3002"));var c=new a(wo(wo({},i),{},{type:o}),this),l=c.getData();return this.edges.push(c),this.eventCenter.emit(Re.EDGE_ADD,{data:l}),c}},{key:"moveEdge",value:function(r,i,o){for(var a=0;a<this.edges.length;a++){var c,l=this.edges[a],h=l.textPosition,_=h.x,j=h.y,k=this.edges[a].sourceNodeId===r,M=this.edges[a].targetNodeId===r;if(k&&l.updateStartPoint({x:l.startPoint.x+i,y:l.startPoint.y+o}),M&&l.updateEndPoint({x:l.endPoint.x+i,y:l.endPoint.y+o}),k||M)if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===Le.POLYLINE_EDGE&&(c=l.text)!==null&&c!==void 0&&c.value){var U=l.text,$=Wf(U,l.points);l.moveText($.x-U.x,$.y-U.y)}else{var K=l.textPosition,J=K.x,q=K.y;l.moveText(J-_,q-j)}}}},{key:"removeEdge",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Re.EDGE_DELETE,{data:a})}}},{key:"removeEdgeById",value:function(r){var i=this.edgesMap[r].index;if(this.edgesMap[r]){var o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(Re.EDGE_DELETE,{data:o})}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"removeEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Re.EDGE_DELETE,{data:o})}}},{key:"removeEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Re.EDGE_DELETE,{data:o})}}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setElementStateById",value:function(r,i,o){this.resetElementState(),this.nodes.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState(Ve.DEFAULT)}),this.edges.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState(Ve.DEFAULT)})}},{key:"setElementTextById",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(r){var i,o,a,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o,a,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectElementById",value:function(r){var i,o,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||((o=this.selectElement)===null||o===void 0||o.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(r),(i=this.selectElement)===null||i===void 0||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode!==Nn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveElements",value:function(r,i,o){var a=this;r.nodes.forEach(function(c){return a.moveNode(c.id,i,o)})}},{key:"moveNodes",value:function(r,i,o){var a=this,c=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(l){return a.moveNode(l,i,o,c)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"changeEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModel(r);if(o){var a=o.getData();a.type=i;var c=this.getModel(i);if(!c)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var l=new c(a,this);this.nodes.splice(this.nodesMap[r].index,1,l),this.getNodeEdges(r).forEach(function(h){if(h.sourceNodeId===r){var _=Of(l,h.startPoint,l.width,l.height);h.updateStartPoint(_)}if(h.targetNodeId===r){var j=Of(l,h.endPoint,l.width,l.height);h.updateEndPoint(j)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTheme",value:function(r){this.theme=Gl(wo(wo({},this.theme),r))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&t0(e.prototype,n),t}()).prototype,"edgeType",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kf=xe(te.prototype,"nodes",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$f=xe(te.prototype,"activeElement",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zf=xe(te.prototype,"activeElementState",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qf=xe(te.prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jf=xe(te.prototype,"additionStateData",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qf=xe(te.prototype,"edges",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ep=xe(te.prototype,"isSlient",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tp=xe(te.prototype,"overlapMode",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),np=xe(te.prototype,"plugins",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rp=xe(te.prototype,"tools",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),op=xe(te.prototype,"background",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ip=xe(te.prototype,"transformMatrix",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ap=xe(te.prototype,"editConfig",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up=xe(te.prototype,"gridSize",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),cp=xe(te.prototype,"partial",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sp=xe(te.prototype,"fakerNode",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe(te.prototype,"nodesMap",[O.k],Object.getOwnPropertyDescriptor(te.prototype,"nodesMap"),te.prototype),xe(te.prototype,"edgesMap",[O.k],Object.getOwnPropertyDescriptor(te.prototype,"edgesMap"),te.prototype),xe(te.prototype,"sortElements",[O.k],Object.getOwnPropertyDescriptor(te.prototype,"sortElements"),te.prototype),xe(te.prototype,"textEditElement",[O.k],Object.getOwnPropertyDescriptor(te.prototype,"textEditElement"),te.prototype),xe(te.prototype,"selectElements",[O.k],Object.getOwnPropertyDescriptor(te.prototype,"selectElements"),te.prototype),xe(te.prototype,"setFakerNode",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"setFakerNode"),te.prototype),xe(te.prototype,"removeFakerNode",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"removeFakerNode"),te.prototype),xe(te.prototype,"setModel",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"setModel"),te.prototype),xe(te.prototype,"updateEdgeByIndex",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"updateEdgeByIndex"),te.prototype),xe(te.prototype,"toFront",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"toFront"),te.prototype),xe(te.prototype,"setElementZIndex",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"setElementZIndex"),te.prototype),xe(te.prototype,"deleteNode",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"deleteNode"),te.prototype),xe(te.prototype,"addNode",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"addNode"),te.prototype),xe(te.prototype,"cloneNode",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"cloneNode"),te.prototype),xe(te.prototype,"moveNode",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"moveNode"),te.prototype),xe(te.prototype,"moveNode2Coordinate",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"moveNode2Coordinate"),te.prototype),xe(te.prototype,"setTextEditable",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"setTextEditable"),te.prototype),xe(te.prototype,"createEdge",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"createEdge"),te.prototype),xe(te.prototype,"moveEdge",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"moveEdge"),te.prototype),xe(te.prototype,"removeEdge",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"removeEdge"),te.prototype),xe(te.prototype,"removeEdgeById",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"removeEdgeById"),te.prototype),xe(te.prototype,"removeEdgeBySource",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"removeEdgeBySource"),te.prototype),xe(te.prototype,"removeEdgeByTarget",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"removeEdgeByTarget"),te.prototype),xe(te.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"setElementState"),te.prototype),xe(te.prototype,"setElementStateById",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"setElementStateById"),te.prototype),xe(te.prototype,"setElementTextById",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"setElementTextById"),te.prototype),xe(te.prototype,"resetElementState",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"resetElementState"),te.prototype),xe(te.prototype,"selectNodeById",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"selectNodeById"),te.prototype),xe(te.prototype,"selectEdgeById",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"selectEdgeById"),te.prototype),xe(te.prototype,"selectElementById",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"selectElementById"),te.prototype),xe(te.prototype,"clearSelectElements",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"clearSelectElements"),te.prototype),xe(te.prototype,"moveElements",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"moveElements"),te.prototype),xe(te.prototype,"moveNodes",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"moveNodes"),te.prototype),xe(te.prototype,"changeEdgeType",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"changeEdgeType"),te.prototype),xe(te.prototype,"changeNodeType",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"changeNodeType"),te.prototype),xe(te.prototype,"setTheme",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"setTheme"),te.prototype),xe(te.prototype,"clearData",[O.i],Object.getOwnPropertyDescriptor(te.prototype,"clearData"),te.prototype),te),n0=hp;function dp(t){return(dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function yp(){return(yp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function r0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vp(t,e){return(vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function i0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sc(t);if(e){var i=sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a0(this,n)}}function a0(t,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function sc(t){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function gp(t){return(gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bp(){return(bp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mp(t,e){return(mp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function c0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lc(t);if(e){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}function In(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lc(t){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _p,Op,l0=Un((_p=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&mp(o,a)})(i,t);var e,n,r=c0(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),qn(In(a=r.call(this)),"stepDrag",void 0),qn(In(a),"stepScrollX",0),qn(In(a),"stepScrollY",0),qn(In(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY;a.setState({isDraging:!0});var k=a.props.graphModel,M=k.transformMatrix;k.editConfig.stopMoveGraph||M.translate(_,j)}),qn(In(a),"onDragEnd",function(){a.setState({isDraging:!1})}),qn(In(a),"zoomHandler",function(h){var _=a.props,j=_.graphModel,k=j.editConfig,M=j.transformMatrix,U=j.gridSize,$=_.graphModel,K=h.deltaX,J=h.deltaY;if(k.stopScrollGraph||h.ctrlKey===!0){if(!k.stopZoomGraph){h.preventDefault();var q=$.getPointByClient({x:h.clientX,y:h.clientY}).canvasOverlayPosition,ne=q.x,ue=q.y;M.zoom(h.deltaY<0,[ne,ue])}}else{if(h.preventDefault(),a.stepScrollX+=K,a.stepScrollY+=J,Math.abs(a.stepScrollX)>=U){var ae=a.stepScrollX%U,Ee=a.stepScrollX-ae;M.translate(-Ee*M.SCALE_X,0),a.stepScrollX=ae}if(Math.abs(a.stepScrollY)>=U){var Se=a.stepScrollY%U,Te=a.stepScrollY-Se;M.translate(0,-Te*M.SCALE_Y),a.stepScrollY=Se}}}),qn(In(a),"clickHandler",function(h){if(h.target.getAttribute("name")==="canvas-overlay"){var _=a.props,j=_.graphModel,k=_.eventCenter,M=j.textEditElement;j.selectElements.size>0&&j.clearSelectElements(),M&&M.setElementState(Ve.DEFAULT),k.emit(Re.BLANK_CLICK,{e:h})}}),qn(In(a),"handleContextMenu",function(h){if(h.target.getAttribute("name")==="canvas-overlay"){h.preventDefault();var _=a.props,j=_.graphModel,k=_.eventCenter,M=j.getPointByClient({x:h.clientX,y:h.clientY});j.setElementState(Ve.SHOW_MENU,M.domOverlayPosition),k.emit(Re.BLANK_CONTEXTMENU,{e:h,position:M})}}),qn(In(a),"mouseDownHandler",function(h){var _=a.props,j=_.eventCenter,k=_.graphModel,M=k.editConfig,U=k.transformMatrix.SCALE_X,$=k.gridSize;M.stopMoveGraph?j.emit(Re.BLANK_MOUSEDOWN,{e:h}):(a.stepDrag.setStep($*U),a.stepDrag.handleMouseDown(h)),a.clickHandler(h)});var c=o.graphModel.gridSize,l=o.eventCenter;return a.stepDrag=new hi({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:c,eventType:"BLANK",eventCenter:l,model:null}),a.state={isDraging:!1},a}return e=i,(n=[{key:"InjectedProps",get:function(){return this.props}},{key:"render",value:function(){var o=this.InjectedProps.transformStyle.transform,a=this.props,c=a.children,l=a.dnd,h=this.state.isDraging;return I("svg",bp({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:h?"lf-dragging":"lf-drag-able"},l.eventMap()),I("g",{transform:o},c))}}])&&u0(e.prototype,n),i}(C),function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&vp(o,a)})(i,t);var e,n,r=i0(i);function i(){return r0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getMatrixString",value:function(){var o=this.props.graphModel.transformMatrix,a=[o.SCALE_X,o.SKEW_Y,o.SKEW_X,o.SCALE_Y,o.TRANSLATE_X,o.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(a,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return I(_p,yp({},this.props,{transformStyle:this.getMatrixString()}))}}])&&o0(e.prototype,n),i}(C)));function wp(t){return(wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function f0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xp(t,e){return(xp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function h0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fc(t);if(e){var i=fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d0(this,n)}}function d0(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ep(t)}function Ep(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fc(t){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function y0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v0=Un(Op=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&xp(o,a)})(i,t);var e,n,r=h0(i);function i(){var o;f0(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return y0(Ep(o=r.call.apply(r,[this].concat(c))),"setToolOverlayRef",function(h){var _=o.props.tool.getInstance();_.components.forEach(function(j){return j(_,h)}),_.components=[]}),o}return e=i,(n=[{key:"getTools",value:function(){var o=this.props,a=o.tool,c=o.graphModel,l=a.getTools().map(function(h){return I(h,{graphModel:c,logicFlow:a.instance})});return a.components=l,l}},{key:"render",value:function(){return I("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&p0(e.prototype,n),i}(C))||Op;u(178);function Sp(t){return(Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function g0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jp(t,e){return(jp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function m0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pc(t);if(e){var i=pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _0(this,n)}}function _0(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function pc(t){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Pp,O0=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&jp(o,a)})(i,t);var e,n,r=m0(i);function i(){return g0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.background,a=o.image,c=a===void 0?"":a,l=o.color,h=l===void 0?"":l,_=o.repeat,j=_===void 0?"no-repeat":_,k=o.position,M=k===void 0?"center":k,U=o.size,$=U===void 0?"auto auto":U,K=o.opacity,J=K===void 0?1:K;return h?{color:h,opacity:J,image:"none"}:c?{image:"url(".concat(c,")"),repeat:j,position:M,size:$,opacity:J}:{}}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.image,c=o.color,l=o.repeat,h=o.size;return I("div",{className:"lf-background"},I("div",{style:{backgroundImage:a,backgroundColor:c,backgroundRepeat:l,backgroundPosition:o.position,backgroundSize:h,opacity:o.opacity},className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&b0(e.prototype,n),i}(C);function Ap(t){return(Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function w0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kp(t,e){return(kp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function E0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hc(t);if(e){var i=hc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S0(this,n)}}function S0(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tp(t)}function Tp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hc(t){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function j0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dp=Un(Pp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&kp(o,a)})(i,t);var e,n,r=E0(i);function i(){var o;w0(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return j0(Tp(o=r.call.apply(r,[this].concat(c))),"id",bo()),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,a=o.config,c=a.color,l=a.thickness,h=l===void 0?2:l,_=o.size,j=o.visible,k=Math.min(Math.max(2,h),_/2),M=1;return j||(M=0),I("rect",{width:k,height:k,rx:k/2,ry:k/2,fill:c,opacity:M})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,c=a.color,l=a.thickness,h=l===void 0?1:l,_=o.size,j=o.visible,k=Math.min(Math.max(1,h),_/2),M=1;return j||(M=0),I("path",{d:"M ".concat(_," 0 H0 M0 0 V0 ").concat(_),stroke:c,strokeWidth:k,opacity:M})}},{key:"render",value:function(){var o=this.props,a=o.type,c=o.size,l=o.graphModel.transformMatrix,h=[l.SCALE_X,l.SKEW_Y,l.SKEW_X,l.SCALE_Y,l.TRANSLATE_X,l.TRANSLATE_Y].join(","),_="matrix(".concat(h,")");return I("div",{className:"lf-grid"},I("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},I("defs",null,I("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:_,x:"0",y:"0",width:c,height:c,style:{transition:"all 0.1s ease"}},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),I("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&x0(e.prototype,n),i}(C))||Pp;Dp.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},u(44);function Mp(t){return(Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function P0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Np(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Np(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Np(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cp,xo=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=P0(n,2),i=r[0],o=r[1];Mp(o)!=="object"&&(e[i]=o)}),I("line",e)};function Rp(t){return(Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function A0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ip(t,e){return(Ip=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function T0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=dc(t);if(e){var i=dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D0(this,n)}}function D0(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function dc(t){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Lp,M0=Un(Cp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ip(o,a)})(i,t);var e,n,r=T0(i);function i(){return A0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,c=o.isShowHorizontal,l=o.isShowVertical,h=o.stroke,_=o.strokeWidth,j=a.x,k=j===void 0?0:j,M=a.y,U=M===void 0?0:M,$={x1:k,y1:-1e5,x2:k,y2:1e5,stroke:l?h:"none",strokeWidth:_};return I("g",{className:"lf-snapline"},I(xo,{x1:-1e5,y1:U,x2:1e5,y2:U,stroke:c?h:"none",strokeWidth:_}),I(xo,$))}}])&&k0(e.prototype,n),i}(C))||Cp;function zp(t){return(zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function N0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Bp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gr(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,a=t.className,c=e-r/2,l=n-i/2,h={width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(a),x:0,y:0};return Object.entries(t).forEach(function(_){var j=N0(_,2),k=j[0],M=j[1];zp(M)!=="object"&&(h[k]=M)}),h.x=c,h.y=l,I("rect",h)}function Fp(t){return(Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function C0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Up(t,e){return(Up=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function I0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=yc(t);if(e){var i=yc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L0(this,n)}}function L0(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function yc(t){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}gr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Gp,z0=Un(Lp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Up(o,a)})(i,t);var e,n,r=I0(i);function i(){return C0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodeOutline",value:function(){var o=this.props.graphModel,a=o.selectElements,c=o.editConfig,l=c.hoverOutline,h=c.nodeSelectedOutline,_=[];return a.forEach(function(j){if(j.BaseType===gt.NODE){var k=j.isHovered,M=j.isSelected,U=j.x,$=j.y,K=j.width,J=j.height,q=j.outlineColor,ne=j.hoverOutlineColor,ue=j.outlineStrokeDashArray,ae=j.hoverOutlineStrokeDashArray;if(h||l&&k){var Ee=M?q:ne,Se=M?ue:ae;_.push(I(gr,{className:"lf-outline-node",x:U,y:$,width:K+10,height:J+10,radius:0,fill:"none",stroke:Ee,strokeDasharray:Se}))}}}),_}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,c=o.editConfig.edgeSelectedOutline,l=[],h=0;h<a.length;h++){var _=a[h];_.isSelected&&c&&(_.modelType===Le.LINE_EDGE?l.push(this.getLineOutline(_)):_.modelType===Le.POLYLINE_EDGE?l.push(this.getPolylineOutline(_)):_.modelType===Le.BEZIER_EDGE&&l.push(this.getBezierOutline(_)))}return l}},{key:"getLineOutline",value:function(o){var a=o.startPoint,c=o.endPoint,l=(a.x+c.x)/2,h=(a.y+c.y)/2,_=Math.abs(a.x-c.x)+10,j=Math.abs(a.y-c.y)+10,k=this.props.graphModel.theme.line;return I(gr,{className:"lf-outline-edge",x:l,y:h,width:_,height:j,radius:0,fill:"none",stroke:k.outlineColor,strokeDasharray:k.outlineStrokeDashArray})}},{key:"getPolylineOutline",value:function(o){var a=o.points,c=_o(a),l=fi(c,8),h=l.x,_=l.y,j=l.width,k=l.height,M=this.props.graphModel.theme.polyline;return I(gr,{className:"lf-outline",x:h,y:_,width:j,height:k,radius:0,fill:"none",stroke:M.outlineColor,strokeDasharray:M.outlineStrokeDashArray})}},{key:"getBezierOutline",value:function(o){var a=o.path,c=Ma(a),l=fi(c,8),h=l.x,_=l.y,j=l.width,k=l.height,M=this.props.graphModel.theme.bezier;return I(gr,{className:"lf-outline",x:h,y:_,width:j,height:k,radius:0,fill:"none",stroke:M.outlineColor,strokeDasharray:M.outlineStrokeDashArray})}},{key:"render",value:function(){return I("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&R0(e.prototype,n),i}(C))||Lp;function Hp(t){return(Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function B0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Xp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ra(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,a={cx:n,cy:i,r:o===void 0?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(t).forEach(function(c){var l=B0(c,2),h=l[0],_=l[1];Hp(_)!=="object"&&(a[h]=_)}),I("circle",a)}function Wp(t){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Yp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zp(t,e,n){return e&&$p(t.prototype,e),n&&$p(t,n),t}function qp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jp(t,e)}function Jp(t,e){return(Jp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Qp(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vc(t);if(e){var i=vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F0(this,n)}}function F0(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(t)}function Ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vc(t){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function gc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eh,th=function(t){qp(n,t);var e=Qp(n);function n(r){var i;Kp(this,n),gc(Ia(i=e.call(this)),"dragHandler",void 0),gc(Ia(i),"onDraging",function(a){var c=a.deltaX,l=a.deltaY,h=i.props,_=h.graphModel,j=h.bezierModel,k=h.type,M=_.transformMatrix,U=i.state,$=U.endX,K=U.endY,J=Vp(M.moveCanvasPointByHtml([$,K],c,l),2),q=J[0],ne=J[1];i.setState({endX:q,endY:ne}),j.updateAdjustAnchor({x:q,y:ne},k)}),gc(Ia(i),"onDragEnd",function(){var a=i.state,c=a.endX,l=a.endY,h=i.props,_=h.bezierModel,j=h.type;_.updateAdjustAnchor({x:c,y:l},j)}),i.dragHandler=Ca({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return Zp(n,[{key:"render",value:function(){var r,i,o,a=this.props.position,c=a.x,l=a.y,h=(r=this.props)===null||r===void 0||(i=r.graphModel)===null||i===void 0||(o=i.theme)===null||o===void 0?void 0:o.bezier;return I(Ra,{className:"lf-bezier-adjust-anchor",x:c,y:l,r:4,stroke:h.adjustAnchorStroke,fill:h.adjustAnchorFill,fillOpacity:h.adjustAnchorFillOpacity,onMouseDown:this.dragHandler})}}]),n}(C),U0=Un(Gp=function(t){qp(n,t);var e=Qp(n);function n(){return Kp(this,n),e.apply(this,arguments)}return Zp(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,a=r.id,c=Vp(Ma(o),4),l=c[0],h=c[1],_=c[2],j=c[3],k=i.theme.bezier.adjustLineColor,M=[];return M.push(I(xo,{x1:l.x,y1:l.y,x2:h.x,y2:h.y,stroke:k})),M.push(I(th,{position:h,bezierModel:r,graphModel:i,key:"".concat(a,"_ePre"),type:"sNext"})),M.push(I(xo,{x1:j.x,y1:j.y,x2:_.x,y2:_.y,stroke:k})),M.push(I(th,{position:_,bezierModel:r,graphModel:i,key:"".concat(a,"_sNext"),type:"ePre"})),M}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],a=0;a<i.length;a++){var c=i[a];c.isSelected&&c.modelType===Le.BEZIER_EDGE&&c.draggable&&o.push(this.getBezierAdjust(c,r))}return o}},{key:"render",value:function(){return I("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(C))||Gp;function nh(t){return(nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rh(){return(rh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function G0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oh(t,e){return(oh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function X0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bc(t);if(e){var i=bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W0(this,n)}}function W0(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bc(t){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var V0=Un(eh=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&oh(o,a)})(i,t);var e,n,r=X0(i);function i(){return G0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getComponent",value:function(o,a,c){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"canvas-overlay",h=this.props.getView,_=h(o.type);return I(_,{key:o.id,model:o,graphModel:a,overlay:l,eventCenter:c})}},{key:"render",value:function(){var o=this,a=this.props,c=a.graphModel,l=a.tool,h=a.options,_=a.eventCenter,j=a.dnd,k=a.snaplineModel,M={};h.width&&(M.width="".concat(h.width,"px")),h.height&&(M.height="".concat(h.height,"px"));var U=c.fakerNode,$=c.editConfig.adjustEdge;return I("div",{className:"lf-graph",style:M},I(l0,{graphModel:c,eventCenter:_,dnd:j},I("g",{className:"lf-base"},_a(c.sortElements,function(K){return o.getComponent(K,c,_)})),U?this.getComponent(U,c,_):"",h.hideOutline?"":I(z0,{graphModel:c}),$?I(U0,{graphModel:c}):"",h.isSilentMode||h.snapline===!1?"":I(M0,{snaplineModel:k})),I(v0,{graphModel:c,tool:l}),h.background&&I(O0,{background:h.background}),h.grid&&I(Dp,rh({},h.grid,{graphModel:c})))}}])&&H0(e.prototype,n),i}(C))||eh;function ih(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ih(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K0=function(){function t(r){var i=this;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),Ln(this,"nodeConfig",void 0),Ln(this,"lf",void 0),Ln(this,"options",void 0),Ln(this,"fakerNode",void 0),Ln(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),Ln(this,"dragEnter",function(c){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(La(La({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),Ln(this,"onDragOver",function(c){if(c.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:c.clientX,y:c.clientY}),h=l.x,_=l.y;i.fakerNode.moveTo(h,_);var j=i.fakerNode.getData();i.lf.setNodeSnapLine(j),i.lf.eventCenter.emit(Re.NODE_DND_DRAG,{data:j})}return!1}),Ln(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),Ln(this,"onDrop",function(c){if(i.lf.graphModel&&c&&i.nodeConfig){var l=i.lf.addNode(La(La({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY})));c.preventDefault(),c.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var h=l.getData();i.lf.eventCenter.emit(Re.NODE_DND_ADD,{data:h})}});var o=r.options,a=r.lf;this.lf=a,this.options=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,a=Qs(this.lf.options,["grid","size"]),c=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,l=c.x,h=c.y;return{x:Ea(l,a),y:Ea(h,a)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Y0(e.prototype,n),t}();function ah(t){var e=t.container,n=t.grid;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");return n&&(t.grid=it({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),it({},ch,t)}var ft,uh,ch={background:!1,grid:!1,textEdit:!0};function sh(t){return(sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function lh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return fh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ph(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ph(Object(n),!0).forEach(function(r){mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dh(t,e,n){return(dh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=yi(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function yh(t,e){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Z0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=yi(t);if(e){var i=yi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q0(this,n)}}function q0(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(t)}function di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yi(t){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function mc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ve,vh,gh,bh,mh,_h,Oh,wh,xh,Eh,Sh,jh,Ph,Ah,kh,Th,Dh,Mh,Nh,Ch,Rh,Ih,Lh,zh,Bh,_c=(uh=Gr((ft=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&yh(o,a)})(i,t);var e,n,r=Z0(i);function i(o,a){var c;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),mc(di(c=r.call(this,o,a,"bezier")),"modelType",Le.BEZIER_EDGE),mc(di(c),"offset",Wt.bezier.offset),function(l,h,_,j){_&&Object.defineProperty(l,h,{enumerable:_.enumerable,configurable:_.configurable,writable:_.writable,value:_.initializer?_.initializer.call(j):void 0})}(di(c),"path",uh,di(c)),c}return e=i,(n=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(c){var l=c.x,h=c.y;o+=l,a+=h}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=dh(yi(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(c){return{x:c.x,y:c.y}});return hh(hh({},o),{},{pointsList:a})}},{key:"getControls",value:function(){return function(o){var a=o.start,c=o.end,l=o.sourceNode,h=o.targetNode,_=o.offset,j=nn(l),k=nn(h),M=Pa(j,_),U=Pa(k,_);return{sNext:Aa(M,a),ePre:Aa(U,c)}}({start:this.startPoint,end:this.endPoint,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var a=lh(o,4),c=a[0],l=a[1],h=a[2],_=a[3];return"M ".concat(c.x," ").concat(c.y,`
    C `).concat(l.x," ").concat(l.y,`,
    `).concat(h.x," ").concat(h.y,`,
    `).concat(_.x," ").concat(_.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},c=this.getControls(),l=c.sNext,h=c.ePre;this.pointsList=[o,l,h,a],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},c=lh(this.pointsList,3),l=c[1],h=c[2];this.pointsList=[o,l,h,a],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePath()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePath()}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}}])&&$0(e.prototype,n),i}(Ju)).prototype,"path",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gr(ft.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(ft.prototype,"initPoints"),ft.prototype),Gr(ft.prototype,"updatePoints",[O.i],Object.getOwnPropertyDescriptor(ft.prototype,"updatePoints"),ft.prototype),Gr(ft.prototype,"updatePath",[O.i],Object.getOwnPropertyDescriptor(ft.prototype,"updatePath"),ft.prototype),Gr(ft.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(ft.prototype,"updateStartPoint"),ft.prototype),Gr(ft.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(ft.prototype,"updateEndPoint"),ft.prototype),Gr(ft.prototype,"updateAdjustAnchor",[O.i],Object.getOwnPropertyDescriptor(ft.prototype,"updateAdjustAnchor"),ft.prototype),ft);u(39);function Fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fh(Object(n),!0).forEach(function(r){dn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uh(t){return(Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Gh(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(l,h){if(!!l){if(typeof l=="string")return Hh(l,h);var _=Object.prototype.toString.call(l).slice(8,-1);if(_==="Object"&&l.constructor&&(_=l.constructor.name),_==="Map"||_==="Set")return Array.from(l);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Hh(l,h)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){c=!0,o=l},f:function(){try{a||n.return==null||n.return()}finally{if(c)throw o}}}}function Hh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function et(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function J0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ce(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Pn,Xh,At=it({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},Wt.rect,Wt.circle),Jn=(vh=Ce((ve=function(){function t(r,i,o){(function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),dn(this,"id",""),dn(this,"BaseType",gt.NODE),dn(this,"modelType",Le.NODE),dn(this,"additionStateData",void 0),dn(this,"targetRules",[]),dn(this,"sourceRules",[]),dn(this,"moveRules",[]),dn(this,"hasSetTargetRules",!1),dn(this,"hasSetSourceRules",!1),et(this,"properties",vh,this),et(this,"type",gh,this),et(this,"x",bh,this),et(this,"y",mh,this),et(this,"_width",_h,this),dn(this,"graphModel",void 0),et(this,"_height",Oh,this),et(this,"fill",wh,this),et(this,"fillOpacity",xh,this),et(this,"strokeWidth",Eh,this),et(this,"stroke",Sh,this),et(this,"strokeOpacity",jh,this),et(this,"opacity",Ph,this),et(this,"outlineColor",Ah,this),et(this,"hoverOutlineColor",kh,this),et(this,"outlineStrokeDashArray",Th,this),et(this,"hoverOutlineStrokeDashArray",Dh,this),et(this,"isSelected",Mh,this),et(this,"isHovered",Nh,this),et(this,"isHitable",Ch,this),et(this,"zIndex",Rh,this),et(this,"anchorsOffset",Ih,this),et(this,"state",Lh,this),et(this,"text",zh,this),et(this,"draggable",Bh,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initNodeData(r),this.setAttributes()}var e,n;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i();o&&(r.id=o),r.id=this.createId()}this.formatText(r),it(this,function(a){return Mn(a,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===Nn.INCREASE&&(this.zIndex=r.zIndex||Zu())}},{key:"createId",value:function(){return bo()}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,c=this.properties;Object(O.v)(c)&&(c=Object(O.G)(c));var l={id:this.id,type:this.type,x:this.x,y:this.y,properties:c};return this.graphModel.overlapMode===Nn.INCREASE&&(l.zIndex=this.zIndex),a&&(l.text={x:i,y:o,value:a}),l}},{key:"getProperties",value:function(){return Object(O.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(r){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,a=!0,c=0;c<i.length;c++){var l=i[c];if(!l.validate.call(this,this,r)){a=!1,o=l.message;break}}return{isAllPass:a,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,a=!0,c=0;c<i.length;c++){var l=i[c];if(!l.validate.call(this,r,this)){a=!1,o=l.message;break}}return{isAllPass:a,msg:o}}},{key:"isAllowMoveNode",value:function(r,i){var o,a=Gh(this.moveRules);try{for(a.s();!(o=a.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(h){a.e(h)}finally{a.f()}var c,l=Gh(this.graphModel.nodeMoveRules);try{for(l.s();!(c=l.n()).done;)if(!(0,c.value)(this,r,i))return!1}catch(h){l.e(h)}finally{l.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.x,o=this.y,a=this.id;return r.map(function(c,l){return c.length?{id:"".concat(a,"_").concat(l),x:i+c[0],y:o+c[1]}:{x:i+c.x,y:o+c.y,id:c.id||"".concat(a,"_").concat(l)}})}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.anchorsOffset;return r&&r.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o||this.isAllowMoveNode(r,i)){var a=this.x+r,c=this.y+i;this.x=a,this.y=c,this.text&&this.moveText(r,i)}}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=r-this.x,c=i-this.y;(o||this.isAllowMoveNode(a,c))&&(this.text&&this.text&&this.moveText(a,c),this.x=r,this.y=i)}},{key:"moveText",value:function(r,i){var o=this.text,a=o.x,c=o.y,l=o.value,h=o.draggable,_=o.editable;this.text={value:l,editable:_,draggable:h,x:a+r,y:c+i}}},{key:"updateText",value:function(r){this.text.value=r}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateData",value:function(r){var i=jn(Mn(r,"type","x","y","text","properties")),o=this.text,a=o.x,c=o.y,l=o.draggable,h=o.editable;if(i.text&&typeof i.text=="string")i.text={x:a,y:c,value:i.text,draggable:l,editable:h};else if(Uh(i.text)==="object"){var _=Eo(Eo({},this.text),i.text);i.text=Mn(_,"x","y","value","draggable","editable")}it(this,i)}},{key:"setProperty",value:function(r,i){this.properties=Eo(Eo({},this.properties),{},dn({},r,jn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Eo(Eo({},this.properties),jn(r)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&it(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:At.zIndex;this.zIndex=r}},{key:"updateAttributes",value:function(r){it(this,r)}}])&&J0(e.prototype,n),t}()).prototype,"properties",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gh=Ce(ve.prototype,"type",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bh=Ce(ve.prototype,"x",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.x}}),mh=Ce(ve.prototype,"y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.y}}),_h=Ce(ve.prototype,"_width",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.width}}),Oh=Ce(ve.prototype,"_height",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.height}}),wh=Ce(ve.prototype,"fill",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.fill}}),xh=Ce(ve.prototype,"fillOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.fillOpacity}}),Eh=Ce(ve.prototype,"strokeWidth",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.strokeWidth}}),Sh=Ce(ve.prototype,"stroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.stroke}}),jh=Ce(ve.prototype,"strokeOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.strokeOpacity}}),Ph=Ce(ve.prototype,"opacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.opacity}}),Ah=Ce(ve.prototype,"outlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.outlineColor}}),kh=Ce(ve.prototype,"hoverOutlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.hoverOutlineColor}}),Th=Ce(ve.prototype,"outlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.outlineStrokeDashArray}}),Dh=Ce(ve.prototype,"hoverOutlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.hoverOutlineStrokeDashArray}}),Mh=Ce(ve.prototype,"isSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nh=Ce(ve.prototype,"isHovered",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ch=Ce(ve.prototype,"isHitable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rh=Ce(ve.prototype,"zIndex",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.zIndex}}),Ih=Ce(ve.prototype,"anchorsOffset",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lh=Ce(ve.prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),zh=Ce(ve.prototype,"text",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At.text}}),Bh=Ce(ve.prototype,"draggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ce(ve.prototype,"addNodeMoveRules",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"addNodeMoveRules"),ve.prototype),Ce(ve.prototype,"move",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"move"),ve.prototype),Ce(ve.prototype,"moveTo",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"moveTo"),ve.prototype),Ce(ve.prototype,"moveText",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"moveText"),ve.prototype),Ce(ve.prototype,"updateText",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"updateText"),ve.prototype),Ce(ve.prototype,"setSelected",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setSelected"),ve.prototype),Ce(ve.prototype,"setHovered",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setHovered"),ve.prototype),Ce(ve.prototype,"setHitable",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setHitable"),ve.prototype),Ce(ve.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setElementState"),ve.prototype),Ce(ve.prototype,"updateStroke",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"updateStroke"),ve.prototype),Ce(ve.prototype,"updateData",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"updateData"),ve.prototype),Ce(ve.prototype,"setProperty",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setProperty"),ve.prototype),Ce(ve.prototype,"setProperties",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setProperties"),ve.prototype),Ce(ve.prototype,"setStyleFromTheme",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setStyleFromTheme"),ve.prototype),Ce(ve.prototype,"setZIndex",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setZIndex"),ve.prototype),Ce(ve.prototype,"updateAttributes",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"updateAttributes"),ve.prototype),ve);function Wh(t){return(Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Q0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vh(t,e){return(Vh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function e_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oc(t);if(e){var i=Oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return t_(this,n)}}function t_(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return za(t)}function za(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oc(t){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ba(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var xt,Yh,Kh,wc=(Xh=Ba((Pn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Vh(o,a)})(i,t);var e,n,r=e_(i);function i(o,a){var c,l,h,_;return function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"circle"),l=za(c),h="modelType",_=Le.CIRCLE_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,k,M,U){M&&Object.defineProperty(j,k,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(U):void 0})}(za(c),"r",Xh,za(c)),c}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,l=this.r;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-l,id:"".concat(this.id,"_0")},{x:a+l,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+l,id:"".concat(this.id,"_2")},{x:a-l,y:c,id:"".concat(this.id,"_3")}]}}])&&Q0(e.prototype,n),i}(Jn)).prototype,"r",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.circle.r}}),Ba(Pn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(Pn.prototype,"width"),Pn.prototype),Ba(Pn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(Pn.prototype,"height"),Pn.prototype),Ba(Pn.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(Pn.prototype,"anchors"),Pn.prototype),Pn);u(103);function $h(t){return($h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function xc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Zh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Zh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qh(Object(n),!0).forEach(function(r){nd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function n_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ed(t,e,n){return(ed=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=vi(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function td(t,e){return(td=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function r_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vi(t);if(e){var i=vi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o_(this,n)}}function o_(t,e){if(e&&($h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(t)}function So(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function nd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var yn,rd,od,Ec=(Yh=Hr((xt=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&td(o,a)})(i,t);var e,n,r=r_(i);function i(o,a){var c;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),nd(So(c=r.call(this,o,a,"diamond")),"modelType",Le.DIAMOND_NODE),Qh(So(c),"rx",Yh,So(c)),Qh(So(c),"ry",Kh,So(c)),c}return e=i,(n=[{key:"getData",value:function(){var o=this.rx,a=this.ry;return Jh(Jh({},ed(vi(i.prototype),"getData",this).call(this)),{},{rx:o,ry:a})}},{key:"points",get:function(){var o=this.x,a=this.y,c=this.rx,l=this.ry;return[[o,a-l],[o+c,a],[o,a+l],[o-c,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var l=xc(c,1)[0];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var l=xc(c,2)[1];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,c=this.points;return a&&a.length>0?this.getAnchorsByOffset():c.map(function(l,h){var _=xc(l,2);return{x:_[0],y:_[1],id:"".concat(o.id,"_").concat(h)}})}}])&&n_(e.prototype,n),i}(Jn)).prototype,"rx",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=Hr(xt.prototype,"ry",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr(xt.prototype,"points",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"points"),xt.prototype),Hr(xt.prototype,"pointsPosition",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"pointsPosition"),xt.prototype),Hr(xt.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"width"),xt.prototype),Hr(xt.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"height"),xt.prototype),Hr(xt.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"anchors"),xt.prototype),xt);function id(t){return(id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ad(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ud(t,e){return(ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function a_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sc(t);if(e){var i=Sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u_(this,n)}}function u_(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jo(t)}function jo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sc(t){return(Sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function gi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Vt,cd,jc=(rd=gi((yn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ud(o,a)})(i,t);var e,n,r=a_(i);function i(o,a){var c,l,h,_;return function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"ellipse"),l=jo(c),h="modelType",_=Le.ELLIPSE_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,ad(jo(c),"rx",rd,jo(c)),ad(jo(c),"ry",od,jo(c)),c}return e=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,l=this.rx,h=this.ry;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-h,id:"".concat(this.id,"_0")},{x:a+l,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+h,id:"".concat(this.id,"_2")},{x:a-l,y:c,id:"".concat(this.id,"_3")}]}}])&&i_(e.prototype,n),i}(Jn)).prototype,"rx",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.ellipse.rx}}),od=gi(yn.prototype,"ry",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.ellipse.ry}}),gi(yn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(yn.prototype,"width"),yn.prototype),gi(yn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(yn.prototype,"height"),yn.prototype),gi(yn.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(yn.prototype,"anchors"),yn.prototype),yn);function sd(t){return(sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Pc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ld(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ld(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ld(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fd(t,e){return(fd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function s_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ac(t);if(e){var i=Ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l_(this,n)}}function l_(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fa(t)}function Fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ac(t){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function bi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var mi,pd,kc=(cd=bi((Vt=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&fd(o,a)})(i,t);var e,n,r=s_(i);function i(o,a){var c,l,h,_;return function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"polygon"),l=Fa(c),h="modelType",_=Le.POLYGON_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,k,M,U){M&&Object.defineProperty(j,k,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(U):void 0})}(Fa(c),"points",cd,Fa(c)),c}return e=i,(n=[{key:"pointsPosition",get:function(){var o=this.x,a=this.y,c=this.width,l=this.height;return this.points.map(function(h){return{x:h[0]+o-c/2,y:h[1]+a-l/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var l=Pc(c,1)[0];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var l=Pc(c,2)[1];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,c=this.x,l=this.y,h=this.width,_=this.height,j=this.points;return a&&a.length>0?this.getAnchorsByOffset():j.map(function(k,M){var U=Pc(k,2),$=U[0],K=U[1];return{x:c+$-h/2,y:l+K-_/2,id:"".concat(o.id,"_").concat(M)}})}}])&&c_(e.prototype,n),i}(Jn)).prototype,"points",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),bi(Vt.prototype,"pointsPosition",[O.k],Object.getOwnPropertyDescriptor(Vt.prototype,"pointsPosition"),Vt.prototype),bi(Vt.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(Vt.prototype,"width"),Vt.prototype),bi(Vt.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(Vt.prototype,"height"),Vt.prototype),bi(Vt.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(Vt.prototype,"anchors"),Vt.prototype),Vt);function hd(t){return(hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function f_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dd(t,e){return(dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function p_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Tc(t);if(e){var i=Tc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h_(this,n)}}function h_(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ua(t)}function Ua(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tc(t){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function yd(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var zn,vd,gd,bd,Dc=(pd=yd((mi=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&dd(o,a)})(i,t);var e,n,r=p_(i);function i(o,a){var c,l,h,_;return function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"rect"),l=Ua(c),h="modelType",_=Le.RECT_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,k,M,U){M&&Object.defineProperty(j,k,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(U):void 0})}(Ua(c),"radius",pd,Ua(c)),c}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,l=this.width,h=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-h/2,id:"".concat(this.id,"_0")},{x:a+l/2,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+h/2,id:"".concat(this.id,"_2")},{x:a-l/2,y:c,id:"".concat(this.id,"_3")}]}}])&&f_(e.prototype,n),i}(Jn)).prototype,"radius",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.rect.radius}}),yd(mi.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(mi.prototype,"anchors"),mi.prototype),mi);function md(t){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _d(t,e){return(_d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function y_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Nc(t);if(e){var i=Nc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v_(this,n)}}function v_(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return br(t)}function br(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nc(t){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function _i(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ga,Cc=(vd=_i((zn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&_d(o,a)})(i,t);var e,n,r=y_(i);function i(o,a){var c,l,h,_;return function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"text"),l=br(c),h="modelType",_=Le.TEXT_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,Mc(br(c),"fontSize",vd,br(c)),Mc(br(c),"fontFamily",gd,br(c)),Mc(br(c),"fontWeight",bd,br(c)),c}return e=i,(n=[{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=Sa({rows:o,fontSize:this.fontSize,rowsLength:o.length}).width;return a>100?a:100}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=Sa({rows:o,fontSize:this.fontSize,rowsLength:o.length}).height;return a>20?a:20}}])&&d_(e.prototype,n),i}(Jn)).prototype,"fontSize",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.text.fontSize}}),gd=_i(zn.prototype,"fontFamily",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.text.fontFamily}}),bd=_i(zn.prototype,"fontWeight",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.text.fontWeight}}),_i(zn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(zn.prototype,"width"),zn.prototype),_i(zn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(zn.prototype,"height"),zn.prototype),zn);function Od(t){return(Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function g_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wd(t,e){return(wd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function b_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Rc(t);if(e){var i=Rc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m_(this,n)}}function m_(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xd(t)}function xd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rc(t){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Dt,Ed,Sd,jd,Ic=(function(t,e,n,r,i){var o={};Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null)}((Ga=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&wd(o,a)})(i,t);var e,n,r=b_(i);function i(o,a){var c,l,h,_;return function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"html"),l=xd(c),h="modelType",_=Le.HTML_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,c}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,l=this.width,h=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-h/2,id:"".concat(this.id,"_0")},{x:a+l/2,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+h/2,id:"".concat(this.id,"_2")},{x:a-l/2,y:c,id:"".concat(this.id,"_3")}]}}])&&g_(e.prototype,n),i}(Jn)).prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(Ga.prototype,"anchors"),Ga.prototype),Ga);function Lc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function __(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Pd=Wt.snapline,Ad=(Ed=Xr((Dt=function(){function t(r){var i,o,a;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),a=void 0,(o="graphModel")in(i=this)?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,Lc(this,"isShowHorizontal",Ed,this),Lc(this,"isShowVertical",Sd,this),Lc(this,"position",jd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,(n=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||Pd.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||Pd.strokeWidth}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,a=r.y,c=!1,l=!1,h=0;h<i.length;h++){var _=i[h];if(_.id!==r.id&&(o===_.x&&(c=!0),a===_.y&&(l=!0),c&&l))break}return{isShowVertical:c,isShowHorizontal:l,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,a,c=!1,l=r.id;if(l){var h=this.graphModel.fakerNode;if(h&&h.id===l)a=nn(h);else{var _=this.graphModel.getNodeModel(l);a=nn(_)}}for(var j=0;j<i.length;j++){var k=i[j];if(k.id!==r.id){var M=nn(k);if(M.minY===a.minY||M.maxY===a.minY){c=!0,o=a.minY;break}if(M.minY===a.maxY||M.maxY===a.maxY){c=!0,o=a.maxY;break}}}return it({isShowHorizontal:c,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,a,c=!1,l=r.id;if(l){var h=this.graphModel.fakerNode;if(h&&h.id===l)a=nn(h);else{var _=this.graphModel.getNodeModel(l);a=nn(_)}}for(var j=0;j<i.length;j++){var k=i[j];if(k.id!==r.id){var M=nn(k);if(M.minX===a.minX||M.maxX===a.minX){c=!0,o=a.minX;break}if(M.minX===a.maxX||M.maxX===a.maxX){c=!0,o=a.maxX;break}}}return it({isShowVertical:c,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),a=o.isShowHorizontal,c=o.isShowVertical;if(!a){var l=this.getHorizontalSnapline(r,i);l.isShowHorizontal&&(o.isShowHorizontal=l.isShowHorizontal,o.position.y=l.position.y)}if(!c){var h=this.getVerticalSnapline(r,i);h.isShowVertical&&(o.isShowVertical=h.isShowVertical,o.position.x=h.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,a=r.position;this.position=a,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&__(e.prototype,n),t}()).prototype,"isShowHorizontal",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sd=Xr(Dt.prototype,"isShowVertical",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jd=Xr(Dt.prototype,"position",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xr(Dt.prototype,"stroke",[O.k],Object.getOwnPropertyDescriptor(Dt.prototype,"stroke"),Dt.prototype),Xr(Dt.prototype,"strokeWidth",[O.k],Object.getOwnPropertyDescriptor(Dt.prototype,"strokeWidth"),Dt.prototype),Xr(Dt.prototype,"clearSnapline",[O.i],Object.getOwnPropertyDescriptor(Dt.prototype,"clearSnapline"),Dt.prototype),Xr(Dt.prototype,"setNodeSnapLine",[O.i],Object.getOwnPropertyDescriptor(Dt.prototype,"setNodeSnapLine"),Dt.prototype),Dt);function kd(t){return(kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ha(){return(Ha=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function O_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Td(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Td(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Td(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dd(t,e){return(Dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function x_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zc(t);if(e){var i=zc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E_(this,n)}}function E_(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}function Qn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zc(t){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S_=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Dd(o,a)})(i,t);var e,n,r=x_(i);function i(){var o;return function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),mr(Qn(o=r.call(this)),"preTargetNode",void 0),mr(Qn(o),"dragHandler",void 0),mr(Qn(o),"sourceRuleResults",void 0),mr(Qn(o),"targetRuleResults",void 0),mr(Qn(o),"onDragStart",function(){var a=o.props,c=a.x,l=a.y,h=a.nodeModel,_=a.graphModel,j=_.overlapMode;_.selectNodeById(h.id),j!==Nn.INCREASE&&_.toFront(h.id),o.setState({startX:c,startY:l,endX:c,endY:l})}),mr(Qn(o),"onDraging",function(a){var c=a.deltaX,l=a.deltaY,h=o.state,_=h.endX,j=h.endY,k=o.props,M=k.graphModel,U=k.nodeModel,$=M.transformMatrix,K=M.nodes,J=O_($.moveCanvasPointByHtml([_,j],c,l),2),q=J[0],ne=J[1];o.setState({endX:q,endY:ne,draging:!0});var ue=vf({x:_,y:j},K);if(ue){var ae=ue.node;if(o.preTargetNode=ae,!o.targetRuleResults.has(ae.id)){var Ee=U.isAllowConnectedAsSource(ae),Se=ae.isAllowConnectedAsTarget(U);o.sourceRuleResults.set(ae.id,xf(Ee)),o.targetRuleResults.set(ae.id,xf(Se))}var Te=o.sourceRuleResults.get(ae.id).isAllPass,We=o.targetRuleResults.get(ae.id).isAllPass;Te&&We?ae.setElementState(Ve.ALLOW_CONNECT):ae.setElementState(Ve.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==Ve.DEFAULT&&o.preTargetNode.setElementState(Ve.DEFAULT)}),mr(Qn(o),"onDragEnd",function(){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1})}),mr(Qn(o),"checkEnd",function(){var a=o.props,c=a.graphModel,l=a.nodeModel,h=a.x,_=a.y,j=a.eventCenter,k=a.id,M=c.nodes,U=c.edgeType,$=o.state,K=$.endX,J=$.endY,q=$.draging,ne=vf({x:K,y:J},M);if(o.preTargetNode&&o.preTargetNode.state!==Ve.DEFAULT&&o.preTargetNode.setElementState(Ve.DEFAULT),q&&ne&&ne.node){var ue=ne.node,ae=o.sourceRuleResults.get(ue.id)||{},Ee=ae.isAllPass,Se=ae.msg,Te=o.targetRuleResults.get(ue.id)||{},We=Te.isAllPass,Ze=Te.msg;if(Ee&&We)ue.setElementState(Ve.ALLOW_CONNECT),h===ne.anchor.x&&_===ne.anchor.y||c.createEdge({type:U,sourceNodeId:l.id,sourceAnchorId:k,startPoint:{x:h,y:_},targetNodeId:ne.node.id,targetAnchorId:ne.anchor.id,endPoint:{x:ne.anchor.x,y:ne.anchor.y}});else{var Gn=ue.getData();j.emit(Re.CONNECTION_NOT_ALLOWED,{data:Gn,msg:Ze||Se})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=Ca({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"isShowLine",value:function(){var o=this.state,a=o.startX,c=o.startY,l=o.endX,h=o.endY;return Cn(a,c,l,h)>10}},{key:"render",value:function(){var o=this.state,a=o.startX,c=o.startY,l=o.endX,h=o.endY,_=this.props,j=_.x,k=_.y,M=_.style,U=_.edgeStyle;return I("g",{className:"lf-anchor"},I(Ra,Ha({className:"lf-node-anchor-hover",x:j,y:k},_.hoverStyle,{onMouseDown:this.dragHandler})),I(Ra,Ha({className:"lf-node-anchor",x:j,y:k},M,{onMouseDown:this.dragHandler})),this.isShowLine()&&I(xo,Ha({x1:a,y1:c,x2:l,y2:h,"pointer-events":"none"},U)))}}])&&w_(e.prototype,n),i}(C);function Md(t){return(Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function j_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Nd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Nd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bc(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,a=t.color,c=a===void 0?"#000000":a,l=t.fontSize,h=t.fill,_=h===void 0?"currentColor":h,j=t.model,k=t.fontFamily,M=k===void 0?"":k,U=t.lineHeight,$=t.autoWrap,K=$!==void 0&&$,J=t.wrapPadding,q=J===void 0?"0, 0":J,ne={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:_};if(Object.entries(t).forEach(function(xr){var $r=j_(xr,2),vs=$r[0],Ja=$r[1];Md(Ja)!=="object"&&(ne[vs]=Ja)}),o){var ue=String(o).split(/[\r\n]/g),ae=ue.length,Ee=j.BaseType,Se=j.width,Te=j.textWidth,We=j.modelType;if(Ee===gt.NODE&&We!==Le.TEXT_NODE&&K||Ee===gt.EDGE&&K&&Te){var Ze=Te||Se,Gn=wf({rows:ue,style:{fontSize:"".concat(l,"px"),width:"".concat(Ze,"px"),fontFamily:M,lineHeight:U,padding:q},rowsLength:ae,className:"lf-get-text-height"}),Kr=j.height>Gn?j.height:Gn;return I("g",null,I("foreignObject",{width:Ze,height:Kr,x:ne.x-Ze/2,y:ne.y-Kr/2},I("div",{className:"lf-node-text-auto-wrap",style:{boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid transparent",minHeight:j.height,width:Ze,color:c,padding:q}},I("div",{className:"lf-node-text-auto-wrap-content",style:{fontSize:l,fontFamily:M,lineHeight:U,background:"transparent",textAlign:"center",wordBreak:"break-all"}},ue.map(function(xr){return I("div",null,xr)})))))}if(ae>1){var wr=ue.map(function(xr,$r){return I("tspan",{className:"lf-text-tspan",x:n,y:i+($r-(ae-1)/2)*(l+2)},xr)});return I("text",ne,wr)}return I("text",ne,o)}}function Cd(t){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Rd(){return(Rd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function P_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Id(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Id(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Id(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ld(t,e){return(Ld=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function k_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fc(t);if(e){var i=Fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T_(this,n)}}function T_(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(t)}function _r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fc(t){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Wr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zd=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ld(o,a)})(i,t);var e,n,r=k_(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Wr(_r(a=r.call(this)),"dragHandler",void 0),Wr(_r(a),"sumDeltaX",0),Wr(_r(a),"sumDeltaY",0),Wr(_r(a),"stepDrag",void 0),Wr(_r(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY,k=a.props,M=k.model,U=P_(k.graphModel.transformMatrix.fixDeltaXY(_,j),2),$=U[0],K=U[1];M.moveText($,K)}),Wr(_r(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState(Ve.TEXT_EDIT)}),Wr(_r(a),"mouseDownHandle",function(h){var _=a.props,j=_.draggable,k=_.graphModel.editConfig.nodeTextDraggable;(j||k)&&a.stepDrag.handleMouseDown(h)});var c=o.model,l=o.draggable;return a.stepDrag=new hi({onDraging:a.onDraging,step:1,model:c,isStopPropagation:l}),a}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,a=o.model,c=o.style,l=a.text,h=l.value;return I(Bc,Rd({},{x:l.x,y:l.y,className:"lf-element-text",value:h},c,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return I("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&A_(e.prototype,n),i}(C),D_=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Bd(t){return(Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Fd(){return(Fd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ud(Object(n),!0).forEach(function(r){an(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Gd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Gd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xd(t,e){return(Xd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function N_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uc(t);if(e){var i=Uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C_(this,n)}}function C_(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return on(t)}function on(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uc(t){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function an(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var er=function(t){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&Xd(a,c)})(o,t);var e,n,r,i=N_(o);function o(a){var c;(function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")})(this,o),an(on(c=i.call(this)),"stepDrag",void 0),an(on(c),"contextMenuTime",void 0),an(on(c),"startTime",void 0),an(on(c),"clickTimer",void 0),an(on(c),"onDraging",function(j){var k=j.deltaX,M=j.deltaY,U=c.props,$=U.model,K=U.graphModel;c.state.isDraging||c.setState({isDraging:!0});var J=M_(K.transformMatrix.fixDeltaXY(k,M),2),q=J[0],ne=J[1];K.moveNode($.id,q,ne)}),an(on(c),"onDragEnd",function(){c.setState({isDraging:!1})}),an(on(c),"handleClick",function(j){if(c.startTime&&!(new Date().getTime()-c.startTime>200)){var k=c.props,M=k.model,U=k.eventCenter,$=k.graphModel,K={data:M.getData(),e:j,position:$.getPointByClient({x:j.clientX,y:j.clientY})},J=j.button===2,q=j.detail===2;if(!J){var ne=$.editConfig.metaKeyMultipleSelected;$.selectNodeById(M.id,j.metaKey&&ne),c.toFront(),q?($.editConfig.nodeTextEdit&&M.text.editable&&(M.setSelected(!1),$.setElementStateById(M.id,Ve.TEXT_EDIT)),U.emit(Re.NODE_DBCLICK,K)):(U.emit(Re.ELEMENT_CLICK,K),U.emit(Re.NODE_CLICK,K))}}}),an(on(c),"handleContextMenu",function(j){j.preventDefault();var k=c.props,M=k.model,U=k.eventCenter,$=k.graphModel,K=M.getData(),J=$.getPointByClient({x:j.clientX,y:j.clientY});$.setElementStateById(M.id,Ve.SHOW_MENU,J.domOverlayPosition),$.selectNodeById(M.id),U.emit(Re.NODE_CONTEXTMENU,{data:K,e:j,position:J}),c.toFront()}),an(on(c),"handleMouseDown",function(j){var k=c.props,M=k.model,U=k.graphModel;c.toFront(),c.startTime=new Date().getTime(),U.editConfig.adjustNodePosition&&M.draggable&&c.stepDrag&&c.stepDrag.handleMouseDown(j)}),an(on(c),"setHoverON",function(j){if(!c.state.isHovered){c.setState({isHovered:!0});var k=c.props,M=k.model,U=k.eventCenter,$=M.getData();M.setHovered(!0),U.emit(Re.NODE_MOUSEENTER,{data:$,e:j})}}),an(on(c),"setHoverOFF",function(j){c.setState({isHovered:!1});var k=c.props,M=k.model,U=k.eventCenter,$=M.getData();M.setHovered(!1),U.emit(Re.NODE_MOUSELEAVE,{data:$,e:j})}),an(on(c),"onMouseOut",function(j){D_&&c.setHoverOFF(j)});var l=a.graphModel.gridSize,h=a.eventCenter,_=a.model;return c.stepDrag=new hi({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:l,eventType:"NODE",eventCenter:h,model:_}),c.state={isDraging:!1,isHovered:!1},c}return e=o,r=[{key:"getModel",value:function(a){return a}}],(n=[{key:"getShapeStyle",value:function(){var a=this.props.model;return{width:a.width,height:a.height,fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,opacity:a.opacity,outlineColor:a.outlineColor}}},{key:"getAttributes",value:function(){var a=this.props.model,c=a.id,l=a.properties,h=l===void 0?{}:l,_=a.type,j=a.x,k=a.y,M=a.isSelected,U=a.isHovered,$=a.text,K=this.getShapeStyle();return Vr({id:c,properties:Vr({},h),type:_,x:j,y:k,isSelected:M,isHovered:U,text:Vr({},$)},K)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return Vr({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return Vr({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return Vr({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var a=this,c=this.props,l=c.model,h=c.graphModel,_=c.eventCenter,j=l.isSelected,k=l.isHitable,M=this.state,U=M.isHovered,$=M.isDraging;if(k&&(j||U)){var K=this.getAnchorStyle(),J=this.getAnchorHoverStyle(),q=this.getNewEdgeStyle();return _a(l.anchors,function(ne,ue){return I(S_,Fd({},ne,{nodeDraging:$,style:K,hoverStyle:J,edgeStyle:q,anchorIndex:ue,nodeModel:l,eventCenter:_,graphModel:h,setHoverOFF:a.setHoverOFF}))})}return[]}},{key:"getTextStyle",value:function(){return Vr({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var a=this.props,c=a.model,l=a.graphModel;if(c.state===Ve.TEXT_EDIT)return"";var h=this.getTextStyle();if(c.text){var _=l.editConfig,j=!1;return(c.text.draggable||_.nodeTextDraggable)&&(j=!0),I(zd,{editable:_.nodeTextEdit&&c.text.editable,style:h,model:c,graphModel:l,draggable:j})}}},{key:"getStateClassName",value:function(){var a="lf-node";switch(this.props.model.state){case Ve.ALLOW_CONNECT:a+=" lf-node-allow";break;case Ve.NOT_ALLOW_CONNECT:a+=" lf-node-not-allow";break;default:a+=" lf-node-default"}return this.state.isDraging&&(a+=" lf-dragging"),a}},{key:"toFront",value:function(){var a=this.props,c=a.model,l=a.graphModel;l.overlapMode!==Nn.INCREASE&&l.toFront(c.id)}},{key:"render",value:function(){var a,c=this.props,l=c.model,h=c.graphModel,_=h.editConfig,j=_.hideAnchors,k=_.adjustNodePosition,M=h.gridSize,U=h.transformMatrix.SCALE_X,$=l.isHitable,K=l.draggable,J=I("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return $?(k&&K&&this.stepDrag.setStep(M*U),a=I("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},J)):a=I("g",{className:this.getStateClassName()},J),a}}])&&Hd(e.prototype,n),r&&Hd(e,r),o}(C);function Wd(t){return(Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vd(Object(n),!0).forEach(function(r){R_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gc(t,e,n){return(Gc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Po(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Yd(t,e){return(Yd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function z_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Po(t);if(e){var i=Po(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B_(this,n)}}function B_(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Po(t){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Hc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Yd(o,a)})(i,t);var e,n,r=z_(i);function i(){return I_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Gc(Po(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.radius;return Xa(Xa({},o),{},{radius:a})}},{key:"getAttributes",value:function(){var o=Gc(Po(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Xa(Xa({},o),a)}},{key:"getShape",value:function(){return I(gr,this.getAttributes())}}])&&L_(e.prototype,n),i}(er);function Kd(t){return(Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$d(Object(n),!0).forEach(function(r){F_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xc(t,e,n){return(Xc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Ao(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Zd(t,e){return(Zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function H_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ao(t);if(e){var i=Ao(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Wc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Zd(o,a)})(i,t);var e,n,r=H_(i);function i(){return U_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Xc(Ao(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.r;return Wa(Wa({},o),{},{r:a})}},{key:"getAttributes",value:function(){var o=Xc(Ao(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Wa(Wa({},o),a)}},{key:"getShape",value:function(){return I(Ra,this.getAttributes())}}])&&G_(e.prototype,n),i}(er);function qd(t){return(qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function W_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Jd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qd(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(t).forEach(function(i){var o=W_(i,2),a=o[0],c=o[1];qd(c)!=="object"&&(r[a]=c)}),r.points=e.map(function(i){return i.join(",")}).join(" "),I("polygon",r)}function ey(t){return(ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ty(Object(n),!0).forEach(function(r){V_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vc(t,e,n){return(Vc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=ko(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function ny(t,e){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function $_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ko(t);if(e){var i=ko(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z_(this,n)}}function Z_(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Yc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ny(o,a)})(i,t);var e,n,r=$_(i);function i(){return Y_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Vc(ko(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.points;return Va(Va({},o),{},{points:a})}},{key:"getAttributes",value:function(){var o=Vc(ko(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Va(Va({},o),a)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.width,c=o.height,l=o.x,h=o.y,_=o.fill,j=o.fillOpacity,k=o.strokeWidth,M=o.stroke,U=o.strokeOpacity,$=o.points;return I("g",{transform:"matrix(1 0 0 1 ".concat(l-a/2," ").concat(h-c/2,")")},I(Qd,{fill:_,fillOpacity:j,strokeWidth:k,stroke:M,strokeOpacity:U,points:$}))}}])&&K_(e.prototype,n),i}(er);function ry(t){return(ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oy(Object(n),!0).forEach(function(r){q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kc(t,e,n){return(Kc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=To(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function iy(t,e){return(iy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function eO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=To(t);if(e){var i=To(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tO(this,n)}}function tO(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var $c=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&iy(o,a)})(i,t);var e,n,r=eO(i);function i(){return J_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=this.props.model.points;return Ya(Ya({},Kc(To(i.prototype),"getShapeStyle",this).call(this)),{},{points:o})}},{key:"getAttributes",value:function(){var o=Kc(To(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Ya(Ya({},o),a)}},{key:"getShape",value:function(){var o=this.props.model.points,a=this.getAttributes();return I("g",null,I(Qd,{fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,points:o}))}}])&&Q_(e.prototype,n),i}(er);function ay(t){return(ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return uy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return uy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rO(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,a=o===void 0?4:o,c=t.ry,l={cx:n,cy:i,rx:a,ry:c===void 0?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(h){var _=nO(h,2),j=_[0],k=_[1];ay(k)!=="object"&&(l[j]=k)}),I("ellipse",l)}function cy(t){return(cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function sy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sy(Object(n),!0).forEach(function(r){oO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fy(t,e,n){return(fy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Oi(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function py(t,e){return(py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function uO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oi(t);if(e){var i=Oi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cO(this,n)}}function cO(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Oi(t){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Zc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&py(o,a)})(i,t);var e,n,r=uO(i);function i(){return iO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=fy(Oi(i.prototype),"getAttributes",this).call(this),a=this.props.model,c=a.rx,l=a.ry;return ly(ly({},o),{},{rx:c,ry:l})}},{key:"getShape",value:function(){return I(rO,this.getAttributes())}}])&&aO(e.prototype,n),i}(er);function hy(t){return(hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dy(Object(n),!0).forEach(function(r){sO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vy(t,e){return(vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function pO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qc(t);if(e){var i=qc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hO(this,n)}}function hO(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qc(t){return(qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Jc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&vy(o,a)})(i,t);var e,n,r=pO(i);function i(){return lO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.getAttributes().text,a=this.getTextStyle();if(o&&o.value&&a.backgroundStyle&&a.backgroundStyle.fill!=="transparnet"){var c=a.fontSize,l=o.value,h=o.x,_=o.y,j=String(l).split(/[\r\n]/g),k=j.length;j&&j.forEach(function(K){cc(K)});var M=Sa({rows:j,fontSize:c,rowsLength:k}),U=M.width,$=M.height;return I(gr,yy(yy({},a.backgroundStyle),{},{x:h-1,y:_-1,width:U,height:$}))}}},{key:"getShape",value:function(){var o=this.getAttributes();return I("g",null,this.getBackgroud(),I(Bc,o))}}])&&fO(e.prototype,n),i}(er);function gy(t){return(gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function by(t,e){return(by=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=es(t);if(e){var i=es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gO(this,n)}}function gO(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qc(t)}function Qc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function es(t){return(es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function my(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ts=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&by(o,a)})(i,t);var e,n,r=vO(i);function i(){var o;dO(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return my(Qc(o=r.call.apply(r,[this].concat(c))),"ref",void 0),my(Qc(o),"setRef",function(h){o.ref=h}),o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.x,c=o.y,l=o.width,h=o.height;return I("foreignObject",{x:a-l/2,y:c-h/2,width:l,height:h,ref:this.setRef})}}])&&yO(e.prototype,n),i}(er);function _y(t){return(_y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Oy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Oy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wy(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=bO(n,2),i=r[0],o=r[1];_y(o)!=="object"&&(e[i]=o)}),I("path",e)}wy.defaultProps={strokeDasharray:""};var wi=wy;function xy(t){return(xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sy(t,e){return(Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function wO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ns(t);if(e){var i=ns(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xO(this,n)}}function xO(t,e){if(e&&(xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ns(t){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var jy=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Sy(o,a)})(i,t);var e,n,r=wO(i);function i(){return _O(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getArrowAttibutes",value:function(){var o=this.props,a=o.arrowInfo,c=o.style,l=a.start,h=a.end,_={start:l,end:h,offset:c.offset,verticalLength:c.verticalLength,type:"end"},j=li(_),k=j.leftX,M=j.leftY,U=j.rightX,$=j.rightY;return function(K){for(var J=1;J<arguments.length;J++){var q=arguments[J]!=null?arguments[J]:{};J%2?Ey(Object(q),!0).forEach(function(ne){mO(K,ne,q[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(q)):Ey(Object(q)).forEach(function(ne){Object.defineProperty(K,ne,Object.getOwnPropertyDescriptor(q,ne))})}return K}({d:"M".concat(k," ").concat(M," L").concat(h.x," ").concat(h.y," L").concat(U," ").concat($," z")},c)}},{key:"getShape",value:function(){var o=this.getArrowAttibutes(),a=o.d,c=o.strokeWidth,l=o.stroke,h=o.fill;return I(wi,{d:a,fill:h,strokeWidth:c,stroke:l})}},{key:"render",value:function(){return I("g",{className:"lf-arrow"},this.getShape())}}])&&OO(e.prototype,n),i}(C);function Py(t){return(Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ay(){return(Ay=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ky(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ky(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ty(t,e){return(Ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function SO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(t,e){if(e&&(Py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rs(t)}function rs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function is(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PO=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ty(o,a)})(i,t);var e,n,r=SO(i);function i(o){var a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),is(rs(a=r.call(this,o)),"setHoverON",function(){a.setState({isHoverd:!0})}),is(rs(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,a=this.props.style,c=o.text,l=o.textWidth,h=Mn(a.background,"fill","stroke","radius","height");if(this.state.isHoverd&&a.hoverBackground&&(h=Yr(Yr({},h),a.hoverBackground)),c&&c.value&&h.fill!=="transparnet"){var _,j=a.fontSize,k=a.autoWrap,M=a.lineHeight,U=a.wrapPadding,$=c.value,K=c.x,J=c.y,q=String($).split(/[\r\n]/g),ne=q.length;if(k&&l){var ue=wf({rows:q,style:{fontSize:"".concat(j,"px"),width:"".concat(l,"px"),lineHeight:M,padding:U},rowsLength:ne,className:"lf-get-text-height"});_=Yr(Yr({},h),{},{x:K-1,y:J-1,width:l,height:ue})}else{q&&q.forEach(function(Te){cc(Te)});var ae=Sa({rows:q,fontSize:j,rowsLength:ne}),Ee=ae.width,Se=ae.height;_=Yr(Yr({},h),{},{x:K-1,y:J-1,width:Ee,height:Se})}return I(gr,_)}}},{key:"getShape",value:function(){var o=this.props,a=o.model,c=o.style,l=a.text,h=l.value,_=Yr({x:l.x,y:l.y,className:"lf-element-text",value:h},c);return I("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),I(Bc,Ay({},_,{model:a})))}}])&&EO(e.prototype,n),i}(zd);function Dy(t){return(Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function My(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?My(Object(n),!0).forEach(function(r){Fn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ny(t,e){return(Ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function DO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=as(t);if(e){var i=as(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MO(this,n)}}function MO(t,e){if(e&&(Dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bn(t)}function Bn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return(as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xi=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ny(o,a)})(i,t);var e,n,r=DO(i);function i(){var o;kO(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return Fn(Bn(o=r.call.apply(r,[this].concat(c))),"startTime",void 0),Fn(Bn(o),"contextMenuTime",void 0),Fn(Bn(o),"clickTimer",void 0),Fn(Bn(o),"handleHover",function(h,_){var j=o.props,k=j.model,M=j.eventCenter;k.setHovered(h);var U=h?Re.EDGE_MOUSEENTER:Re.EDGE_MOUSELEAVE,$=k.getData();M.emit(U,{data:$,e:_})}),Fn(Bn(o),"setHoverON",function(h){o.handleHover(!0,h)}),Fn(Bn(o),"setHoverOFF",function(h){o.handleHover(!1,h)}),Fn(Bn(o),"handleContextMenu",function(h){h.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var _=o.props,j=_.model,k=_.graphModel,M=_.eventCenter,U=k.getPointByClient({x:h.clientX,y:h.clientY});k.setElementStateById(j.id,Ve.SHOW_MENU,U.domOverlayPosition),o.toFront(),k.selectEdgeById(j.id);var $=j==null?void 0:j.getData();M.emit(Re.EDGE_CONTEXTMENU,{data:$,e:h,position:U})}),Fn(Bn(o),"handleMouseDown",function(h){h.stopPropagation(),o.startTime=new Date().getTime()}),Fn(Bn(o),"handleMouseUp",function(h){if(o.startTime&&!(new Date().getTime()-o.startTime>200||h.button===2)){var _=h.detail===2,j=o.props,k=j.model,M=j.graphModel,U=j.eventCenter,$=k==null?void 0:k.getData(),K=M.getPointByClient({x:h.clientX,y:h.clientY});if(_){var J=M.editConfig,q=M.textEditElement;if(q&&q.id===k.id&&M.setElementStateById(k.id,Ve.DEFAULT),J.edgeTextEdit&&k.text.editable&&M.setElementStateById(k.id,Ve.TEXT_EDIT),k.modelType===Le.POLYLINE_EDGE){var ne=k,ue=M.getPointByClient({x:h.x,y:h.y}).canvasOverlayPosition,ae=ue.x,Ee=ue.y,Se=Wf({x:ae,y:Ee},ne.points);ne.dbClickPosition=Se}U.emit(Re.EDGE_DBCLICK,{data:$,e:h,position:K})}else U.emit(Re.ELEMENT_CLICK,{data:$,e:h,position:K}),U.emit(Re.EDGE_CLICK,{data:$,e:h,position:K});var Te=M.editConfig.metaKeyMultipleSelected;M.selectEdgeById(k.id,h.metaKey&&Te),o.toFront()}}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.strokeWidth,c=o.strokeOpacity,l=o.strokeDashArray,h=o.isSelected,_=o.isHovered,j=o.hoverStroke,k=o.selectedStroke,M=o.properties,U=this.props.model.stroke;return _?U=j:h&&(U=k),{stroke:U,strokeWidth:a,strokeOpacity:c,strokeDashArray:l,isSelected:h,isHovered:_,hoverStroke:j,selectedStroke:k,properties:AO({},M)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,c=o.graphModel;if(a.state===Ve.TEXT_EDIT)return"";var l=c.theme.edgeText,h=this.getTextStyle(),_=it({},l,h),j=!1,k=c.editConfig;return(a.text.draggable||k.edgeTextDraggable)&&(j=!0),I(PO,{editable:k.edgeTextEdit&&a.text.editable,model:a,graphModel:c,style:_,draggable:j})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,c=o.endPoint,l=o.isSelected;return{start:a,end:c,hover:this.state.hover,isSelected:l}}},{key:"getArrowStyle",value:function(){var o=this.getAttributes().stroke,a=this.props.graphModel.theme.arrow;return{stroke:o,strokeWidth:1,fill:o,offset:a.offset,verticalLength:a.verticalLength}}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),a=o.start,c=o.end;if(a&&c&&(a.x!==c.x||a.y!==c.y)){var l=this.getArrowStyle();return I(jy,{arrowInfo:o,style:l})}}},{key:"getAppendWidth",value:function(){return I("g",null)}},{key:"getAppend",value:function(){return I("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,c=o.model;a.overlapMode!==Nn.INCREASE&&a.toFront(c.id)}},{key:"render",value:function(){return I("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow())}}])&&TO(e.prototype,n),i}(C);function Cy(t){return(Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ry(Object(n),!0).forEach(function(r){NO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ly(t,e,n){return(Ly=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Ei(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function zy(t,e){return(zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function IO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ei(t);if(e){var i=Ei(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return LO(this,n)}}function LO(t,e){if(e&&(Cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ei(t){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var us=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&zy(o,a)})(i,t);var e,n,r=IO(i);function i(){return CO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.startPoint,c=o.endPoint;return Iy(Iy({},Ly(Ei(i.prototype),"getAttributes",this).call(this)),{},{startPoint:a,endPoint:c})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.stroke,c=o.startPoint,l=o.endPoint,h=o.strokeWidth,_=o.strokeOpacity,j=o.strokeDashArray;return I(xo,{x1:c.x,y1:c.y,x2:l.x,y2:l.y,strokeOpacity:_,strokeWidth:h,stroke:a,strokeDasharray:j})}},{key:"getShape",value:function(){return I("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=function(k){var M,U=k.start,$=k.end;if(U.x===$.x&&U.y===$.y)M="";else{var K={start:U,end:$,offset:10,verticalLength:5},J=li(ja(ja({},K),{},{type:"start"})),q=li(ja(ja({},K),{},{type:"end"}));M="M".concat(J.leftX," ").concat(J.leftY,` 
    L`).concat(J.rightX," ").concat(J.rightY,` 
    L`).concat(q.rightX," ").concat(q.rightY,`
    L`).concat(q.leftX," ").concat(q.leftY," z")}return{d:M,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),c=a.d,l=a.strokeWidth,h=a.fill,_=a.strokeDasharray,j=a.stroke;return I(wi,{d:c,fill:h,strokeWidth:l,stroke:j,strokeDasharray:_})}}])&&RO(e.prototype,n),i}(xi);function By(t){return(By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Fy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var BO=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=zO(n,2),i=r[0],o=r[1];By(o)!=="object"&&(e[i]=o)}),I("polyline",e)};function Uy(t){return(Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Gy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gy(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Hy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xy(t,e,n){return(Xy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Si(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Wy(t,e){return(Wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function GO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Si(t);if(e){var i=Si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return HO(this,n)}}function HO(t,e){if(e&&(Uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(t)}function tr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Si(t){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cs=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Wy(o,a)})(i,t);var e,n,r=GO(i);function i(){var o;return function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),nr(tr(o=r.call(this)),"drag",void 0),nr(tr(o),"isDraging",void 0),nr(tr(o),"appendInfo",void 0),nr(tr(o),"dragHandler",void 0),nr(tr(o),"onDragStart",function(){o.props.model.dragAppendStart()}),nr(tr(o),"onDraging",function(a){var c=a.deltaX,l=a.deltaY,h=o.props,_=h.model,j=h.graphModel;o.isDraging=!0;var k=FO(j.transformMatrix.fixDeltaXY(c,l),2),M=k[0],U=k[1],$=_;o.appendInfo=$.dragAppend(o.appendInfo,{x:M,y:U})}),nr(tr(o),"onDragEnd",function(){o.props.model.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0}),nr(tr(o),"beforeDragStart",function(a,c){o.dragHandler(a),o.appendInfo=c}),o.drag=Ca({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=Xy(Si(i.prototype),"getAttributes",this).call(this),a=this.props.model.points;return Do(Do({},o),{},{points:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.points,c=o.strokeWidth,l=o.stroke,h=o.strokeDashArray;return I(BO,{points:a,strokeWidth:c,stroke:l,strokeDasharray:h})}},{key:"getShape",value:function(){return I("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,c=o.isSelected,l={start:null,end:null,hover:this.state.hover,isSelected:c},h=_o(a);return h.length>=2&&(l.start=h[h.length-2],l.end=h[h.length-1]),l}},{key:"getAppendAttibutes",value:function(o){var a,c=o.start,l=o.end;if(c.x===l.x&&c.y===l.y)a="";else{var h={start:c,end:l,offset:10,verticalLength:5},_=li(Do(Do({},h),{},{type:"start"})),j=li(Do(Do({},h),{},{type:"end"}));a="M".concat(_.leftX," ").concat(_.leftY,` 
      L`).concat(_.rightX," ").concat(_.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttibutes(o),c=a.d,l=a.strokeWidth,h=a.fill,_=a.strokeDasharray,j=a.stroke;return I(wi,{d:c,fill:h,strokeWidth:l,stroke:j,strokeDasharray:_})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,c=a.model,l=a.graphModel,h=c.pointsList,_=c.draggable,j=[],k=function(U){var $="lf-polyline-append",K={start:{x:h[U].x,y:h[U].y},end:{x:h[U+1].x,y:h[U+1].y},startIndex:U,endIndex:U+1,direction:""},J=I("g",{className:$},o.getAppendShape(K));l.editConfig.adjustEdge&&_?(o.dragHandler=o.drag,K.start.x===K.end.x?($+="-ew-resize",K.direction=at.VERTICAL):K.start.y===K.end.y&&($+="-ns-resize",K.direction=at.HORIZONTAL),J=I("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(q){return o.beforeDragStart(q,K)}},I("g",{className:$},o.getAppendShape(K)))):o.dragHandler=function(){},j.push(J)},M=0;M<h.length-1;M++)k(M);return I("g",null,j)}}])&&UO(e.prototype,n),i}(xi);function Vy(t){return(Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function XO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Yy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ky(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ky(Object(n),!0).forEach(function(r){WO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zy(t,e,n){return(Zy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=ji(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function qy(t,e){return(qy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function KO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ji(t);if(e){var i=ji(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $O(this,n)}}function $O(t,e){if(e&&(Vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ji(t){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ss=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&qy(o,a)})(i,t);var e,n,r=KO(i);function i(){return VO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=Zy(ji(i.prototype),"getAttributes",this).call(this),a=this.props.model.path;return $y($y({},o),{},{path:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.path,c=o.strokeWidth,l=o.stroke,h=o.strokeDashArray;return I(wi,{d:a,strokeWidth:c,stroke:l,fill:"none",strokeDasharray:h})}},{key:"getShape",value:function(){return I("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.getAttributes().path;return I(wi,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state.hover,c=o,l=c.path,h=c.isSelected,_=XO(function(j){var k=Ma(j);return[k[2],k[3]]}(l),2);return{start:_[0],end:_[1],hover:a,isSelected:h}}}])&&YO(e.prototype,n),i}(xi),Jy=function(t,e){return Mu(t,e)},ZO=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},ls=function(){return fn.a.Date.now()},qO=/\s/,JO=function(t){for(var e=t.length;e--&&qO.test(t.charAt(e)););return e},QO=/^\s+/,ew=function(t){return t&&t.slice(0,JO(t)+1).replace(QO,"")},tw=/^[-+]0x[0-9a-f]+$/i,nw=/^0b[01]+$/i,rw=/^0o[0-7]+$/i,ow=parseInt,Qy=function(t){if(typeof t=="number")return t;if(ba(t))return NaN;if(Lt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Lt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ew(t);var n=nw.test(t);return n||rw.test(t)?ow(t.slice(2),n?2:8):tw.test(t)?NaN:+t},iw=Math.max,aw=Math.min,uw=function(t,e,n){var r,i,o,a,c,l,h=0,_=!1,j=!1,k=!0;if(typeof t!="function")throw new TypeError("Expected a function");function M(ne){var ue=r,ae=i;return r=i=void 0,h=ne,a=t.apply(ae,ue)}function U(ne){return h=ne,c=setTimeout(K,e),_?M(ne):a}function $(ne){var ue=ne-l;return l===void 0||ue>=e||ue<0||j&&ne-h>=o}function K(){var ne=ls();if($(ne))return J(ne);c=setTimeout(K,function(ue){var ae=e-(ue-l);return j?aw(ae,o-(ue-h)):ae}(ne))}function J(ne){return c=void 0,k&&r?M(ne):(r=i=void 0,a)}function q(){var ne=ls(),ue=$(ne);if(r=arguments,i=this,l=ne,ue){if(c===void 0)return U(l);if(j)return clearTimeout(c),c=setTimeout(K,e),M(l)}return c===void 0&&(c=setTimeout(K,e)),a}return e=Qy(e)||0,Lt(n)&&(_=!!n.leading,o=(j="maxWait"in n)?iw(Qy(n.maxWait)||0,e):o,k="trailing"in n?!!n.trailing:k),q.cancel=function(){c!==void 0&&clearTimeout(c),h=0,r=l=i=c=void 0},q.flush=function(){return c===void 0?a:J(ls())},q},cw=u(140);function sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ev,lw=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Or(this,"undos",[]),Or(this,"redos",[]),Or(this,"callbacks",[]),Or(this,"stopWatch",null),Or(this,"curData",null),Or(this,"maxSize",50),Or(this,"waitTime",100),Or(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){Jy(ZO(this.undos),r)||(this.undos.push(r),Jy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(Re.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Uu(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Uu(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(cw.a)(r,uw(function(){var o=r.modelToGraphData();i.add(o)},this.waitTime))}}])&&sw(e.prototype,n),t}();function tv(t){return(tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function fw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return nv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rv(Object(n),!0).forEach(function(r){$a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ov(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iv(t,e){return(iv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function pw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fs(t);if(e){var i=fs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hw(this,n)}}function hw(t,e){if(e&&(tv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ka(t)}function Ka(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function $a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var av,dw=Un(ev=function(t){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&iv(a,c)})(o,t);var e,n,r,i=pw(o);function o(){var a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),$a(Ka(a=i.call(this)),"ref",{current:null}),$a(Ka(a),"__prevText",{type:"",text:"",id:""}),$a(Ka(a),"keyupHandler",function(c){var l=c.target.innerText,h=a.props.graphModel.textEditElement;c.keyCode===13&&c.altKey&&h.setElementState(0),a.__prevText={type:h.type,text:l,id:h.id}}),a.state={style:{left:0,top:0}},a}return e=o,r=[{key:"getDerivedStateFromProps",value:function(a){var c,l=a.graphModel,h=l.transformMatrix,_=l.theme,j=l.textEditElement;if(j){var k;if((k=j.text)===null||k===void 0||!k.value)if(j.BaseType===gt.EDGE){var M=(j=j).text,U=j.textPosition,$=U.x,K=U.y;M.x=$,M.y=K,j.setText(M)}else j=j;var J={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===gt.EDGE){var q=_.edgeText,ne=q.autoWrap,ue=q.lineHeight,ae=q.wrapPadding,Ee=j.textWidth;ne&&Ee&&(c=Mo(Mo({},J),{},{width:Ee,minWidth:Ee,lineHeight:ue,padding:ae}))}else if(j.BaseType===gt.NODE){var Se=_.nodeText,Te=Se.autoWrap,We=Se.lineHeight,Ze=Se.wrapPadding,Gn=j,Kr=Gn.width,wr=Gn.textWidth,xr=Gn.modelType;(xr!==Le.TEXT_NODE&&Te||xr===Le.TEXT_NODE&&Te&&wr)&&(c=Mo(Mo({},J),{},{width:wr||Kr,minWidth:wr||Kr,lineHeight:We,padding:Ze}))}var $r=j.text,vs=$r.x,Ja=$r.y,bv=fw(h.CanvasPointToHtmlPoint([vs,Ja]),2);return{style:Mo({left:bv[0],top:bv[1]},c)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var a=this.props.graphModel,c=a.eventCenter,l=a.editConfig,h=l.edgeTextEdit,_=l.nodeTextEdit;(h||_)&&c.on(Re.GRAPH_TRANSFORM,function(){a.textEditElement&&a.textEditElement.setElementState(Ve.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var a=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var c=this.__prevText,l=c.text,h=c.id;a.setElementTextById(h,l),a.eventCenter.emit(Re.TEXT_UPDATE,Mo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(a){if(window.getSelection!==void 0&&document.createRange!==void 0){var c=document.createRange();c.selectNodeContents(a),c.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(c)}}},{key:"render",value:function(){var a,c=this.props.graphModel.textEditElement,l=this.state.style;return c?I("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:c.id,onKeyUp:this.keyupHandler},(a=c.text)===null||a===void 0?void 0:a.value):null}}])&&ov(e.prototype,n),r&&ov(e,r),o}(C))||ev,yw=function(t){return t.modelType===Le.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,a=Math.abs(n.x-r.x)+10,c=Math.abs(n.y-r.y)+10;return{x:i-a/2,y:o-c/2,x1:i+a/2,y1:o+c/2}}(t):t.modelType===Le.POLYLINE_EDGE?function(e){var n=e.points,r=_o(n),i=fi(r,8),o=i.x,a=i.y,c=i.width,l=i.height;return{x:o-c/2,y:a-l/2,x1:o+c/2,y1:a+l/2}}(t):t.modelType===Le.BEZIER_EDGE?function(e){var n=e.path,r=Ma(n),i=fi(r,8),o=i.x,a=i.y,c=i.width,l=i.height;return{x:o-c/2,y:a-l/2,x1:o+c/2,y1:a+l/2}}(t):void 0};function uv(t){return(uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||sv(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vw(t){return function(e){if(Array.isArray(e))return ps(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||sv(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sv(t,e){if(t){if(typeof t=="string")return ps(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ps(t,e):void 0}}function ps(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lv(t,e){return(lv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function bw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hs(t);if(e){var i=hs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mw(this,n)}}function mw(t,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pi(t)}function Pi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hs(t){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Za(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _w=Un(av=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&lv(o,a)})(i,t);var e,n,r=bw(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Za(Pi(a=r.call(this)),"stepDrag",void 0),Za(Pi(a),"handleMouseDown",function(h){a.stepDrag.handleMouseDown(h)}),Za(Pi(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY,k=a.props.graphModel;k.moveElements(k.getSelectElements(!0),_,j)}),Za(Pi(a),"handleContextMenu",function(h){h.preventDefault();var _=a.props,j=_.graphModel,k=_.graphModel,M=k.eventCenter,U=k.selectElements,$=j.getPointByClient({x:h.clientX,y:h.clientY}),K={nodes:[],edges:[]};vw(U.values()).forEach(function(J){J.BaseType===gt.NODE&&K.nodes.push(J.getData()),J.BaseType===gt.EDGE&&K.edges.push(J.getData())}),M.emit(Re.SELECTION_CONTEXTMENU,{data:K,e:h,position:$})});var c=o.graphModel.gridSize,l=o.eventCenter;return a.stepDrag=new hi({onDraging:a.onDraging,step:c,eventType:"multiple:select",eventCenter:l}),a}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,c=o.transformMatrix;if(!(a.size<=1)){var l=Number.MAX_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;a.forEach(function(U){var $={x:0,y:0,x1:0,y1:0};U.BaseType===gt.NODE&&($=function(K){var J=K.x,q=K.y,ne=K.width,ue=K.height;return{x:J-ne/2,y:q-ue/2,x1:J+ne/2,y1:q+ue/2}}(U)),U.BaseType===gt.EDGE&&($=yw(U)),l=Math.min(l,$.x),h=Math.min(h,$.y),_=Math.max(_,$.x1),j=Math.max(j,$.y1)});var k=cv(c.CanvasPointToHtmlPoint([l,h]),2);l=k[0],h=k[1];var M=cv(c.CanvasPointToHtmlPoint([_,j]),2);return _=M[0],j=M[1],I("div",{className:"lf-multiple-select",style:{left:"".concat(l-10,"px"),top:"".concat(h-10,"px"),width:"".concat(_-l+20,"px"),height:"".concat(j-h+20,"px")},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&gw(e.prototype,n),i}(C))||av;function Ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ww=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),qa(this,"tools",void 0),qa(this,"components",void 0),qa(this,"toolMap",new Map),qa(this,"instance",void 0),this.instance=r,this.registerTool("textEdit",dw),this.registerTool("multipleSelect",_w)}var e,n;return e=t,(n=[{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Ow(e.prototype,n),t}();u(182);function xw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ew=function(){function t(){var r,i,o;(function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var a=this;return r.split(",").forEach(function(c){c=c.trim(),a._events[c]||(a._events[c]=[]),a._events[c].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){return this.on(r,i,!0)}},{key:"emit",value:function(r,i){var o=this,a=this._events[r]||[],c=this._events["*"]||[],l=function(h){for(var _=h.length,j=0;j<_;j++)if(h[j]){var k=h[j],M=k.callback;k.once&&(h.splice(j,1),h.length===0&&delete o._events[r],_--,j--),M.apply(o,[i])}};l(a),l(c)}},{key:"off",value:function(r,i){if(r)if(i){for(var o=this._events[r]||[],a=o.length,c=0;c<a;c++)o[c].callback===i&&(o.splice(c,1),a--,c--);o.length===0&&delete this._events[r]}else delete this._events[r];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&xw(e.prototype,n),t}(),Sw=u(141),jw=u.n(Sw);function Pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ds(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fv=function(){function t(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),ds(this,"mousetrap",void 0),ds(this,"options",void 0),ds(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new jw.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(tn(i))i.forEach(function(l){var h=l.keys,_=l.callback,j=l.action;return r.on(h,_,j)});else{var o=i.keys,a=i.callback,c=i.action;this.on(o,a,c)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Pw(e.prototype,n),t}(),Aw=fv,rr=null;function pv(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function hv(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function dv(t){return(dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function yv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yv(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ys=function(){function t(i){var o=this;(function($,K){if(!($ instanceof K))throw new TypeError("Cannot call a class as a function")})(this,t),mt(this,"container",void 0),mt(this,"width",void 0),mt(this,"height",void 0),mt(this,"graphModel",void 0),mt(this,"history",void 0),mt(this,"viewMap",new Map),mt(this,"tool",void 0),mt(this,"keyboard",void 0),mt(this,"dnd",void 0),mt(this,"options",void 0),mt(this,"getSnapshot",void 0),mt(this,"eventCenter",void 0),mt(this,"snaplineModel",void 0),mt(this,"components",[]),mt(this,"adapterIn",void 0),mt(this,"adapterOut",void 0),mt(this,"getView",function($){return o.viewMap.get($)});var a,c,l=i.container,h=i.width,_=i.height,j=i.dndOptions,k=i.keyboard,M=i.isSilentMode,U=i.snapline;this.options=ah(i),this.container=l,this.width=h||l.getBoundingClientRect().width,this.height=_||l.getBoundingClientRect().height,this.tool=new ww(this),this.eventCenter=new Ew,this.history=new lw(this.eventCenter),this.dnd=new K0({options:j,lf:this}),this.keyboard=new Aw({lf:this,keyboard:k}),this.graphModel=new n0(vv(vv({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),M||U===!1||(this.snaplineModel=new Ad(this.graphModel),a=this.eventCenter,c=this.snaplineModel,a.on("node:mousemove",function($){var K=$.data;c.setNodeSnapLine(K)}),a.on("node:mouseup",function(){c.clearSnapline()})),this.defaultRegister(),this.installPlugins(i.disabledPlugins),function($,K){var J=$.keyboard,q=J.options.keyboard;J.on(["cmd + c","ctrl + c"],function(){if(q.enabled&&!K.textEditElement){var ne=$.options.guards,ue=K.getSelectElements(!1);return ne&&ne.beforeClone&&!ne.beforeClone(ue)?(rr=null,!1):((rr=ue).nodes.forEach(function(ae){return pv(ae,40)}),rr.edges.forEach(function(ae){return hv(ae,40)}),!1)}}),J.on(["cmd + v","ctrl + v"],function(){if(q.enabled&&!K.textEditElement){if(rr&&(rr.nodes||rr.edges)){$.clearSelectElements();var ne=$.addElements(rr);if(!ne)return;ne.nodes.forEach(function(ue){return $.select(ue.id,!0)}),ne.edges.forEach(function(ue){return $.select(ue.id,!0)}),rr.nodes.forEach(function(ue){return pv(ue,40)}),rr.edges.forEach(function(ue){return hv(ue,40)})}return!1}}),J.on(["cmd + z","ctrl + z"],function(){if(q.enabled&&!K.textEditElement)return $.undo(),!1}),J.on(["cmd + y","ctrl + y"],function(){if(q.enabled&&!K.textEditElement)return $.redo(),!1}),J.on(["backspace"],function(){if(q.enabled&&!K.textEditElement){var ne=K.getSelectElements(!0);return $.clearSelectElements(),ne.edges.forEach(function(ue){return $.deleteEdge(ue.id)}),ne.nodes.forEach(function(ue){return $.deleteNode(ue.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts()}var e,n,r;return e=t,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var a=this.extensions.get(o);a&&a.destroy&&a.destroy(),this.extensions.set(o,i)}}],(n=[{key:"on",value:function(i,o){this.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.extensions.forEach(function(a){var c=a.pluginName||a.name;o.indexOf(c)===-1&&i.__installPlugin(a)})}},{key:"__installPlugin",value:function(i){if(dv(i)==="object"){var o=i.install,a=i.render;return o&&o.call(i,this,t),void(a&&this.components.push(a.bind(i)))}var c=new i({lf:this,LogicFlow:t});c.render&&this.components.push(c.render.bind(c))}},{key:"register",value:function(i,o){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var c={BaseEdge:xi,BaseEdgeModel:qu,BaseNode:er,BaseNodeModel:Jn,RectNode:Hc,RectNodeModel:Dc,CircleNode:Wc,CircleNodeModel:wc,PolygonNode:Yc,PolygonNodeModel:kc,TextNode:Jc,TextNodeModel:Cc,LineEdge:us,LineEdgeModel:ec,DiamondNode:$c,DiamondNodeModel:Ec,PolylineEdge:cs,PolylineEdgeModel:nc,BezierEdge:ss,BezierEdgeModel:_c,EllipseNode:Zc,EllipseNodeModel:jc,HtmlNode:ts,HtmlNodeModel:Ic,h:I,type:i};this.viewMap.forEach(function(k){var M=k.extendKey;M&&(c[M]=k)}),this.graphModel.modelMap.forEach(function(k){var M=k.extendKey;M&&(c[M]=k)});var l=o(c),h=l.view,_=l.model,j=h;a&&!j.isObervered&&(j.isObervered=!0,j=st(j)),this.setView(i,j),this.graphModel.setModel(i,_)}else this._registerElement(i)}},{key:"_registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=st(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:Hc,model:Dc,type:"rect"}),this._registerElement({type:"circle",view:Wc,model:wc}),this._registerElement({type:"polygon",view:Yc,model:kc}),this._registerElement({type:"line",view:us,model:ec}),this._registerElement({type:"polyline",view:cs,model:nc}),this._registerElement({type:"bezier",view:ss,model:_c}),this._registerElement({type:"text",view:Jc,model:Cc}),this._registerElement({type:"ellipse",view:Zc,model:jc}),this._registerElement({type:"diamond",view:$c,model:Ec}),this._registerElement({type:"html",view:ts,model:Ic})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=jn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=jn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=this.graphModel.transformMatrix;return o.zoom(i),"".concat(100*o.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformMatrix.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformMatrix.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformMatrix;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformMatrix.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformMatrix,o=i.TRANSLATE_X,a=i.TRANSLATE_Y;this.translate(-o,-a)}},{key:"select",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformMatrix,a=i.coordinate,c=i.id;if(!a){var l=this.getNodeModel(c);l&&(a=l.getData());var h=this.getEdgeModelById(c);h&&(a=h.textPosition)}var _=a,j=_.x,k=_.y;o.focusOn(j,k,this.width,this.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"setDefaultEdgeType",value:function(i){this.options.edgeType=i,this.graphModel.changeEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.setElementTextById(i,o)}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;(!a||!a.beforeDelete||a.beforeDelete(o))&&this.graphModel.deleteNode(i)}},{key:"editNodeText",value:function(i){this.graphModel.setTextEditable(i)}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;if(!a||!a.beforeClone||a.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"createEdge",value:function(i){this.graphModel.createEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,a=this.graphModel.edgesMap[i];if(a){var c=a.model.getData();(!o||!o.beforeDelete||o.beforeDelete(c))&&this.graphModel.removeEdgeById(i)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(i,"\u7684\u8FB9"))}},{key:"removeEdge",value:function(i){var o=i.sourceNodeId,a=i.targetNodeId;o&&a?this.graphModel.removeEdge(o,a):o?this.graphModel.removeEdgeBySource(o):a&&this.graphModel.removeEdgeByTarget(a)}},{key:"getNodeModel",value:function(i){return this.graphModel.getNodeModel(i)}},{key:"getNodeData",value:function(i){return this.graphModel.getNodeModel(i).getData()}},{key:"setNodeData",value:function(i){var o=i.id;this.graphModel.getNodeModel(o).updateData(i)}},{key:"getEdgeModel",value:function(i){return this.getEdge(i)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdge",value:function(i){var o=this.graphModel,a=o.edges,c=o.edgesMap,l=i.id,h=i.sourceNodeId,_=i.targetNodeId;if(l)return c[l]?[c[l].model]:void console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(l,"\u7684\u8FB9"));if(h&&_){var j=[];return a.forEach(function(U){U.sourceNodeId===h&&U.targetNodeId===_&&j.push(U)}),j}if(h){var k=[];return a.forEach(function(U){U.sourceNodeId===h&&k.push(U)}),k}if(_){var M=[];return a.forEach(function(U){U.targetNodeId===_&&M.push(U)}),M}return[]}},{key:"getEdgeData",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"setEdgeData",value:function(i){var o,a=i.id;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.updateData(i)}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(i,o){var a;(a=this.graphModel.getElement(i))===null||a===void 0||a.setProperties(jn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfig.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,a=i.nodes,c=i.edges,l={},h={nodes:[],edges:[]},_=0;_<a.length;_++){var j=a[_],k=j.id,M=this.addNode(j);if(!M)return;k&&(l[k]=M.id),h.nodes.push(M)}return c.forEach(function(U){var $=U.sourceNodeId,K=U.targetNodeId;l[$]&&(U.sourceNodeId=l[$]),l[K]&&(U.targetNodeId=l[K]);var J=o.graphModel.createEdge(U);h.edges.push(J)}),h}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var a=new o(i,this.graphModel);return this.graphModel.setFakerNode(a),a}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(a){return a.getData()})}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(jn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Ie(I(V0,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&gv(e.prototype,n),r&&gv(e,r),t}();function Un(t){return st(t)}mt(ys,"extensions",new Map),f.default=ys}])})})(je,je.exports);var No=Kw(je.exports),c1=new Sv([32,32,1]);function Co(){return c1.next()}var Pv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),ws=globalThis&&globalThis.__assign||function(){return ws=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},ws.apply(this,arguments)},s1=function(v){Pv(y,v);function y(s,f){var u=this;return s.id||(s.id="Event_"+Co()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),u=v.call(this,s,f)||this,u}return y.prototype.getConnectedTargetRules=function(){var s=v.prototype.getConnectedTargetRules.call(this),f={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u7EC8\u70B9",validate:function(){return!1}};return s.push(f),s},y.extendKey="StartEventModel",y}(je.exports.CircleNodeModel),l1=function(v){Pv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getAttributes=function(){var s=v.prototype.getAttributes.call(this);return ws({},s)},y.extendKey="StartEventNode",y}(je.exports.CircleNode),f1={type:"bpmn:startEvent",view:l1,model:s1},Av=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),p1=function(v){Av(y,v);function y(s,f){var u=this;return s.id||(s.id="Event_"+Co()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),u=v.call(this,s,f)||this,u}return y.prototype.getConnectedSourceRules=function(){var s=v.prototype.getConnectedSourceRules.call(this),f={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u8D77\u70B9",validate:function(){return!1}};return s.push(f),s},y.extendKey="EndEventModel",y}(je.exports.CircleNodeModel),h1=function(v){Av(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var s=this.getAttributes(),f=s.x,u=s.y,p=s.fill,d=s.stroke,b=s.strokeWidth,x=s.r,E=v.prototype.getShape.call(this);return je.exports.h("g",{},E,je.exports.h("circle",{cx:f,cy:u,fill:p,stroke:d,strokeWidth:b,r:x-5}))},y.extendKey="EndEventView",y}(je.exports.CircleNode),d1={type:"bpmn:endEvent",view:h1,model:p1},kv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),y1=function(v){kv(y,v);function y(s,f){var u=this;return s.id||(s.id="Gateway_"+Co()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),u=v.call(this,s,f)||this,u.points=[[25,0],[50,25],[25,50],[0,25]],u}return y.extendKey="ExclusiveGatewayModel",y}(je.exports.PolygonNodeModel),v1=function(v){kv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getShape=function(){var s=v.prototype.getAttributes.call(this),f=s.x,u=s.y,p=s.fill,d=s.stroke,b=s.strokeWidth,x=s.width,E=s.height,S=s.points;return je.exports.h("g",{transform:"matrix(1 0 0 1 "+(f-x/2)+" "+(u-E/2)+")"},je.exports.h("polygon",{fill:p,x:f,y:u,stroke:d,strokeWidth:b,points:S}),je.exports.h("path",{fill:p,stroke:d,strokeWidth:b,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},y.extendKey="ExclusiveGatewayNode",y}(je.exports.PolygonNode),g1={type:"bpmn:exclusiveGateway",view:v1,model:y1},Tv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),b1=function(v){Tv(y,v);function y(s,f){var u=this;return s.id||(s.id="Activity_"+Co()),u=v.call(this,s,f)||this,u}return y.extendKey="UserTaskModel",y}(je.exports.RectNodeModel),m1=function(v){Tv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=v.prototype.getAttributes.call(this),f=s.x,u=s.y,p=s.width,d=s.height,b=s.stroke;return je.exports.h("svg",{x:f-p/2+5,y:u-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},je.exports.h("path",{fill:b,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var s=v.prototype.getAttributes.call(this),f=s.x,u=s.y,p=s.width,d=s.height,b=s.fill,x=s.stroke,E=s.strokeWidth,S=s.radius;return je.exports.h("g",{},[je.exports.h("rect",{x:f-p/2,y:u-d/2,rx:S,ry:S,fill:b,stroke:x,strokeWidth:E,width:p,height:d}),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(je.exports.RectNode),_1={type:"bpmn:userTask",view:m1,model:b1},Dv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),O1=function(v){Dv(y,v);function y(s,f){var u=this;return s.id||(s.id="Activity_"+Co()),u=v.call(this,s,f)||this,u}return y.extendKey="ServiceTaskModel",y}(je.exports.RectNodeModel),w1=function(v){Dv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=v.prototype.getAttributes.call(this),f=s.x,u=s.y,p=s.width,d=s.height,b=s.stroke;return je.exports.h("svg",{x:f-p/2+5,y:u-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},je.exports.h("path",{fill:b,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var s=v.prototype.getAttributes.call(this),f=s.x,u=s.y,p=s.width,d=s.height,b=s.fill,x=s.stroke,E=s.strokeWidth,S=s.radius;return je.exports.h("g",{},[je.exports.h("rect",{x:f-p/2,y:u-d/2,rx:S,ry:S,fill:b,stroke:x,strokeWidth:E,width:p,height:d}),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(je.exports.RectNode),x1={type:"bpmn:serviceTask",view:w1,model:O1},Mv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),E1=function(v){Mv(y,v);function y(s,f){var u=this;return s.id||(s.id="Flow_"+Co()),u=v.call(this,s,f)||this,u}return y.extendKey="SequenceFlowModel",y}(je.exports.PolylineEdgeModel),S1=function(v){Mv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(je.exports.PolylineEdge),j1={type:"bpmn:sequenceFlow",view:S1,model:E1},Nv={width:40,height:40},Cv={width:40,height:40},Rv={width:40,height:40},Iv={width:100,height:80},Lv={width:100,height:80},P1={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},A1=function(){function v(y){var s=y.lf;s.setTheme(P1),s.register(f1),s.register(d1),s.register(g1),s.register(_1),s.register(x1),s.register(j1),s.setDefaultEdgeType("bpmn:sequenceFlow")}return v.pluginName="BpmnElement",v}(),k1={pluginName:"snapshot",install:function(v){var y=this;this.lf=v,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.getSnapshot=function(s,f){y.fileName=s||"logic-flow."+Date.now()+".png";var u=y.getSvgRootElement(v);y.downloadSvg(u,y.fileName,f)},v.getSnapshotBlob=function(s){var f=y.getSvgRootElement(v);return y.getBlob(f,s)},v.getSnapshotBase64=function(s){var f=y.getSvgRootElement(v);return y.getBase64(f,s)}},getSvgRootElement:function(v){var y=this;v.graphModel.nodes.forEach(function(f){var u=f.x,p=f.width,d=f.y,b=f.height,x=u-p/2,E=d-b/2;x<y.offsetX&&(y.offsetX=x-5),E<y.offsetY&&(y.offsetY=E-5)}),v.graphModel.edges.forEach(function(f){f.pointsList&&f.pointsList.forEach(function(u){var p=u.x,d=u.y;p<y.offsetX&&(y.offsetX=p-5),d<y.offsetY&&(y.offsetY=d-5)})});var s=v.container.querySelector("svg");return s},triggerDownload:function(v){var y=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),s=document.createElement("a");s.setAttribute("download",this.fileName),s.setAttribute("href",v),s.setAttribute("target","_blank"),s.dispatchEvent(y)},removeAnchor:function(v){for(var y=v.childNodes,s=v.childNodes&&v.childNodes.length,f=0;f<s;f++){var u=y[f],p=u.classList&&Array.from(u.classList)||[];p.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[f]),s--,f--)}},downloadSvg:function(v,y,s){var f=this;this.getCanvasData(v,s).then(function(u){var p=u.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(p,y)})},getBase64:function(v,y){var s=this;return new Promise(function(f){s.getCanvasData(v,y).then(function(u){var p=u.toDataURL("image/png");f({data:p,width:u.width,height:u.height})})})},getBlob:function(v,y){var s=this;return new Promise(function(f){s.getCanvasData(v,y).then(function(u){u.toBlob(function(p){f({data:p,width:u.width,height:u.height})},"image/png")})})},getCanvasData:function(v,y){var s=this,f=v.cloneNode(!0),u=f.lastChild,p=u.childNodes&&u.childNodes.length;if(p)for(var d=0;d<p;d++){var b=u.childNodes[d],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)u.removeChild(u.childNodes[d]),p--,d--;else{var E=u.childNodes[d];E&&E.childNodes.forEach(function(N){var C=N;s.removeAnchor(C.firstChild)})}}f.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var S=window.devicePixelRatio||1,A=document.createElement("canvas"),P=document.getElementsByClassName("lf-base")[0],O=P.getBoundingClientRect(),L=this.lf.graphModel,W=L.transformMatrix,Y=W.SCALE_X,X=W.SCALE_Y,H=Math.ceil(O.width/Y),I=Math.ceil(O.height/X);A.style.width=H+"px",A.style.height=I+"px",A.width=H*S+80,A.height=I*S+80;var F=A.getContext("2d");F.scale(S,S),y?(F.fillStyle=y,F.fillRect(0,0,H*S+80,I*S+80)):F.clearRect(0,0,H,I);var V=new Image;return new Promise(function(N){V.onload=function(){F.drawImage(V,0,0),N(A)};var C="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(f),R=C.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");V.src=R})}},T1=new Sv([32,32,1]);function zv(){return T1.next()}var Yt=function(){};Yt.ObjTree=function(){return this};Yt.ObjTree.VERSION="0.23";Yt.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Yt.ObjTree.prototype.attr_prefix="-";Yt.ObjTree.prototype.parseXML=function(v){var y;if(window.DOMParser){var s=new DOMParser,f=s.parseFromString(v,"application/xml");if(!f)return;y=f.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(v),y=s.documentElement);if(!!y)return this.parseDOM(y)};Yt.ObjTree.prototype.parseHTTP=function(v,y,s){var f={};for(var u in y)f[u]=y[u];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),s){f.asynchronous=!0;var p=this,d=s,b=f.onComplete;f.onComplete=function(S){var A;S&&S.responseXML&&S.responseXML.documentElement&&(A=p.parseDOM(S.responseXML.documentElement)),d(A,S),b&&b(S)}}else f.asynchronous=!1;var x;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=v;var E=new HTTP.Request(f);E&&(x=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(v,f);E&&(x=E.transport)}if(s)return x;if(x&&x.responseXML&&x.responseXML.documentElement)return this.parseDOM(x.responseXML.documentElement)};Yt.ObjTree.prototype.parseDOM=function(v){if(!!v){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(v);if(this.__force_array[v.nodeName]&&(s=[s]),v.nodeType!=11){var f={};f[v.nodeName]=s,s=f}return s}};Yt.ObjTree.prototype.parseElement=function(v){if(v.nodeType!=7){if(v.nodeType==3||v.nodeType==4){var y=v.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:v.nodeValue}var s,f={};if(v.attributes&&v.attributes.length){s={};for(var u=0;u<v.attributes.length;u++){var p=v.attributes[u].nodeName;if(typeof p=="string"){var d=v.attributes[u].nodeValue;!d||(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}if(v.childNodes&&v.childNodes.length){var b=!0;s&&(b=!1);for(var u=0;u<v.childNodes.length&&b;u++){var x=v.childNodes[u].nodeType;x==3||x==4||(b=!1)}if(b){s||(s="");for(var u=0;u<v.childNodes.length;u++)s+=v.childNodes[u].nodeValue}else{s||(s={});for(var u=0;u<v.childNodes.length;u++){var p=v.childNodes[u].nodeName;if(typeof p=="string"){var d=this.parseElement(v.childNodes[u]);!d||(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}}return s}};Yt.ObjTree.prototype.addNode=function(v,y,s,f){this.__force_array[y]?(s==1&&(v[y]=[]),v[y][v[y].length]=f):s==1?v[y]=f:s==2?v[y]=[v[y],f]:v[y][v[y].length]=f};Yt.ObjTree.prototype.writeXML=function(v){var y=this.hash_to_xml(null,v);return this.xmlDecl+y};Yt.ObjTree.prototype.hash_to_xml=function(v,y){var s=[],f=[];for(var u in y)if(!!y.hasOwnProperty(u)){var p=y[u];u.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?s[s.length]="<"+u+" />":typeof p=="object"&&p.constructor==Array?s[s.length]=this.array_to_xml(u,p):typeof p=="object"?s[s.length]=this.hash_to_xml(u,p):s[s.length]=this.scalar_to_xml(u,p):f[f.length]=" "+u.substring(1)+'="'+this.xml_escape(p)+'"'}var d=f.join(""),b=s.join("");return typeof v=="undefined"||v==null||(s.length>0?b.match(/\n/)?b="<"+v+d+`>
`+b+"</"+v+`>
`:b="<"+v+d+">"+b+"</"+v+`>
`:b="<"+v+d+` />
`),b};Yt.ObjTree.prototype.array_to_xml=function(v,y){for(var s=[],f=0;f<y.length;f++){var u=y[f];typeof u=="undefined"||u==null?s[s.length]="<"+v+" />":typeof u=="object"&&u.constructor==Array?s[s.length]=this.array_to_xml(v,u):typeof u=="object"?s[s.length]=this.hash_to_xml(v,u):s[s.length]=this.scalar_to_xml(v,u)}return s.join("")};Yt.ObjTree.prototype.scalar_to_xml=function(v,y){return v=="#text"?this.xml_escape(y):"<"+v+">"+this.xml_escape(y)+"</"+v+`>
`};Yt.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ru=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),u,p=[],d;try{for(;(y===void 0||y-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){d={error:b}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},Hn;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow"})(Hn||(Hn={}));var Bv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function xs(v){var y={};return Object.entries(v).forEach(function(s){var f=ru(s,2),u=f[0],p=f[1];typeof p!="object"?u.indexOf("-")===0?y[u]=p:y["-"+u]=p:y[u]=xs(p)}),y}function Es(v){var y={};return Object.entries(v).forEach(function(s){var f=ru(s,2),u=f[0],p=f[1];typeof p=="string"?u.indexOf("-")===0?y[u.substr(1)]=p:y[u]=p:typeof p=="object"?y[u]=Es(p):y[u]=p}),y}function D1(v,y){var s=new Map;y.nodes.forEach(function(u){var p,d={"-id":u.id};if(((p=u.text)===null||p===void 0?void 0:p.value)&&(d["-name"]=u.text.value),u.properties){var b=xs(u.properties);Object.assign(d,b)}s.set(u.id,d),v[u.type]?Array.isArray(v[u.type])?v[u.type].push(d):v[u.type]=[v[u.type],d]:v[u.type]=d});var f=y.edges.map(function(u){var p,d,b=s.get(u.targetNodeId);b["bpmn:incoming"]?Array.isArray(b["bpmn:incoming"])?b["bpmn:incoming"].push(u.id):b["bpmn:incoming"]=[b["bpmn:incoming"],u.id]:b["bpmn:incoming"]=u.id;var x=s.get(u.sourceNodeId);x["bpmn:outgoing"]?Array.isArray(x["bpmn:outgoing"])?x["bpmn:outgoing"].push(u.id):x["bpmn:outgoing"]=[x["bpmn:outgoing"],u.id]:x["bpmn:outgoing"]=u.id;var E={"-id":u.id,"-sourceRef":u.sourceNodeId,"-targetRef":u.targetNodeId};if(((p=u.text)===null||p===void 0?void 0:p.value)&&(E["-name"]=(d=u.text)===null||d===void 0?void 0:d.value),u.properties){var S=xs(u.properties);Object.assign(E,S)}return E});v[Hn.FLOW]=f}function M1(v,y){v["bpmndi:BPMNEdge"]=y.edges.map(function(s){var f,u=s.id,p=s.pointsList.map(function(b){var x=b.x,E=b.y;return{"-x":x,"-y":E}}),d={"-id":u+"_di","-bpmnElement":u,"di:waypoint":p};return((f=s.text)===null||f===void 0?void 0:f.value)&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),v["bpmndi:BPMNShape"]=y.nodes.map(function(s){var f,u=s.id,p=100,d=80,b=s.x,x=s.y,E=Zr.shapeConfigMap.get(s.type);E&&(p=E.width,d=E.height),b-=p/2,x-=d/2;var S={"-id":u+"_di","-bpmnElement":u,"dc:Bounds":{"-x":b,"-y":x,"-width":p,"-height":d}};return((f=s.text)===null||f===void 0?void 0:f.value)&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),S})}function N1(v){var y=[],s=[],f=v["bpmn:definitions"];if(f){var u=f["bpmn:process"];Object.keys(u).forEach(function(p){if(p.indexOf("bpmn:")===0){var d=u[p];if(p===Hn.FLOW){var b=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=R1(d,b)}else{var x=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(C1(d,x,p))}}})}return{nodes:y,edges:s}}function C1(v,y,s){var f=[];if(Array.isArray(v))v.forEach(function(d){var b;Array.isArray(y)?b=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):b=y;var x=Fv(b,s,d);f.push(x)});else{var u=void 0;Array.isArray(y)?u=y.find(function(d){return d["-bpmnElement"]===v["-id"]}):u=y;var p=Fv(u,s,v);f.push(p)}return f}function Fv(v,y,s){var f=Number(v["dc:Bounds"]["-x"]),u=Number(v["dc:Bounds"]["-y"]),p=s["-name"],d=Zr.shapeConfigMap.get(y);d&&(f+=d.width/2,u+=d.height/2);var b;Object.entries(s).forEach(function(A){var P=ru(A,2),O=P[0],L=P[1];Bv.indexOf(O)===-1&&(b||(b={}),b[O]=L)}),b&&(b=Es(b));var x;if(p&&(x={x:f,y:u,value:p},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=v["bpmndi:BPMNLabel"]["dc:Bounds"];x.x=Number(E["-x"])+Number(E["-width"])/2,x.y=Number(E["-y"])+Number(E["-height"])/2}var S={id:v["-bpmnElement"],type:y,x:f,y:u,properties:b};return x&&(S.text=x),S}function R1(v,y){var s=[];if(Array.isArray(v))v.forEach(function(u){var p;Array.isArray(y)?p=y.find(function(d){return d["-bpmnElement"]===u["-id"]}):p=y,s.push(Uv(p,u))});else{var f=void 0;Array.isArray(y)?f=y.find(function(u){return u["-bpmnElement"]===v["-id"]}):f=y,s.push(Uv(f,v))}return s}function Uv(v,y){var s,f=y["-name"];if(f){var u=v["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(x){p<x.length&&(p=x.length)}),s={value:f,x:Number(u["-x"])+p*10/2,y:Number(u["-y"])+7}}var d;Object.entries(y).forEach(function(x){var E=ru(x,2),S=E[0],A=E[1];Bv.indexOf(S)===-1&&(d||(d={}),d[S]=A)}),d&&(d=Es(d));var b={id:y["-id"],type:Hn.FLOW,pointsList:v["di:waypoint"].map(function(x){return{x:Number(x["-x"]),y:Number(x["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(b.text=s),b}var Zr={pluginName:"bpmn-adapter",install:function(v){v.adapterIn=this.adapterIn,v.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(v,y){this.shapeConfigMap.set(v,y)},adapterOut:function(v){var y={"-id":"Process_"+zv(),"-isExecutable":"false"};D1(y,v);var s={"-id":"BPMNPlane_1","-bpmnElement":y["-id"]};M1(s,v);var f={"bpmn:definitions":{"-id":"Definitions_"+zv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":y,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s}}};return f},adapterIn:function(v){if(v)return N1(v)}};Zr.shapeConfigMap.set(Hn.START,{width:Nv.width,height:Nv.height});Zr.shapeConfigMap.set(Hn.END,{width:Cv.width,height:Cv.height});Zr.shapeConfigMap.set(Hn.GATEWAY,{width:Rv.width,height:Rv.height});Zr.shapeConfigMap.set(Hn.SYSTEM,{width:Iv.width,height:Iv.height});Zr.shapeConfigMap.set(Hn.USER,{width:Lv.width,height:Lv.height});var Gv=globalThis&&globalThis.__assign||function(){return Gv=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},Gv.apply(this,arguments)},Hv;(function(v){v[v.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",v[v.START_EVENT=2]="START_EVENT",v[v.END_EVENT=3]="END_EVENT",v[v.USER_TASK=4]="USER_TASK",v[v.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(Hv||(Hv={}));var Xv;(function(v){v.HORIZONTAL="horizontal",v.VERTICAL="vertical"})(Xv||(Xv={}));var I1=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),u,p=[],d;try{for(;(y===void 0||y-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){d={error:b}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;var L1=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),u,p=[],d;try{for(;(y===void 0||y-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){d={error:b}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;var z1=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),u,p=[],d;try{for(;(y===void 0||y-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){d={error:b}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},B1=globalThis&&globalThis.__spread||function(){for(var v=[],y=0;y<arguments.length;y++)v=v.concat(z1(arguments[y]));return v},Ti="lf:defaultNodeMenu",Di="lf:defaultEdgeMenu",Mi="lf:defaultGraphMenu",Wv="lf:defaultSelectionMenu",F1=function(){function v(y){var s=this,f=y.lf;this.__menuDOM=document.createElement("ul"),this.lf=f,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(u){s.resetMenuItem(u)},this.lf.addMenuConfig=function(u){s.addMenuItem(u)},this.lf.setMenuByType=function(u){s.setMenuByType(u)}}return v.prototype.init=function(){var y=this,s=[{text:"\u5220\u9664",callback:function(p){y.lf.deleteNode(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){y.lf.graphModel.setTextEditable(p.id)}},{text:"\u590D\u5236",callback:function(p){y.lf.cloneNode(p.id)}}];this.menuTypeMap.set(Ti,s);var f=[{text:"\u5220\u9664",callback:function(p){y.lf.deleteEdge(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){y.lf.graphModel.setTextEditable(p.id)}}];this.menuTypeMap.set(Di,f),this.menuTypeMap.set(Mi,[]);var u=[{text:"\u5220\u9664",callback:function(p){y.lf.clearSelectElements(),p.edges.forEach(function(d){return y.lf.deleteEdge(d.id)}),p.nodes.forEach(function(d){return y.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(Wv,u)},v.prototype.render=function(y,s){var f=this;this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(u){u.stopPropagation();for(var p=u.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1?(p.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(u){var p=u.data,d=u.position,b=d.domOverlayPosition,x=b.x,E=b.y,S=p.id,A=f.lf.graphModel.getNodeModel(S),P=[],O=f.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?P=A.menu:O?P=O:P=f.menuTypeMap.get(Ti),f.__currentData=p,f.showMenu(x,E,P)}),this.lf.on("edge:contextmenu",function(u){var p=u.data,d=u.position,b=d.domOverlayPosition,x=b.x,E=b.y,S=p.id,A=f.lf.graphModel.getEdgeModel(S),P=[],O=f.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?P=A.menu:O?P=O:P=f.menuTypeMap.get(Di),f.__currentData=p,f.showMenu(x,E,P)}),this.lf.on("blank:contextmenu",function(u){var p=u.position,d=f.menuTypeMap.get(Mi),b=p.domOverlayPosition,x=b.x,E=b.y;f.showMenu(x,E,d)}),this.lf.on("selection:contextmenu",function(u){var p=u.data,d=u.position,b=f.menuTypeMap.get(Wv),x=d.domOverlayPosition,E=x.x,S=x.y;f.__currentData=p,f.showMenu(E,S,b)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"})},v.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},v.prototype.showMenu=function(y,s,f){if(!(!f||!f.length)){var u=this.__menuDOM;u.innerHTML="",u.append.apply(u,B1(this.__getMenuDom(f))),!!u.children.length&&(u.style.display="block",u.style.top=s+"px",u.style.left=y+"px")}},v.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},v.prototype.__getMenuDom=function(y){var s=[];return y&&y.length>0&&y.forEach(function(f){var u=document.createElement("li");if(f.className?u.className="lf-menu-item "+f.className:u.className="lf-menu-item",f.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",u.appendChild(p)}var d=document.createElement("span");d.className="lf-menu-item-text",f.text&&(d.innerText=f.text),u.appendChild(d),u.onclickCallback=f.callback,s.push(u)}),s},v.prototype.resetMenuItem=function(y){!y||(y.nodeMenu!==void 0&&this.menuTypeMap.set(Ti,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(Di,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(Mi,y.graphMenu?y.graphMenu:[]))},v.prototype.addMenuItem=function(y){if(!!y){if(Array.isArray(y.nodeMenu)){var s=this.menuTypeMap.get(Ti);this.menuTypeMap.set(Ti,s.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var s=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,s.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var s=this.menuTypeMap.get(Mi);this.menuTypeMap.set(Mi,s.concat(y.graphMenu))}}},v.prototype.changeMenuItem=function(y,s){if(y==="add")this.addMenuItem(s);else if(y==="reset")this.resetMenuItem(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},v.pluginName="Menu",v}(),U1=function(){function v(y){var s=this,f=y.lf;this.lf=f,this.lf.setPatternItems=function(u){s.shapeList=u}}return v.prototype.render=function(y,s){var f=this;this.panelEl&&s.removeChild(this.panelEl),!(!this.shapeList||this.shapeList.length===0)&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(u){f.panelEl.appendChild(f.createDndItem(u))}),s.appendChild(this.panelEl))},v.prototype.createDndItem=function(y){var s=this,f=document.createElement("div");f.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var u=document.createElement("div");if(u.className="lf-dnd-shape",y.icon&&(u.style.backgroundImage="url("+y.icon+")"),f.appendChild(u),y.label){var p=document.createElement("div");p.innerText=y.label,p.className="lf-dnd-text",f.appendChild(p)}return f.onmousedown=function(){y.type&&s.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback()},f},v.pluginName="DndPanel",v}(),G1=function(){function v(y){var s=this,f=y.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.__draw=function(p){var d=s.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,b=d.x,x=d.y;s.endPoint={x:b,y:x};var E=s.startPoint,S=E.x,A=E.y,P=s.wrapper.style,O=S,L=A,W=b-S,Y=x-A;b<S&&(O=b,W=S-b),x<A&&(L=x,Y=A-x),P.left=O+"px",P.top=L+"px",P.width=W+"px",P.height=Y+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.__domContainer.removeChild(s.wrapper);var p=s.startPoint,d=p.x,b=p.y,x=s.endPoint,E=x.x,S=x.y,A=[Math.min(d,E),Math.min(b,S)],P=[Math.max(d,E),Math.max(b,S)],O=s.lf.getAreaElement(A,P);O.forEach(function(L){s.lf.select(L.id,!0)}),s.lf.emit("selection:selected",O)},this.lf=f;var u=f.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=u,f.openSelectionSelect=function(){u||(s.isDefalutStopMoveGraph=!1,f.updateEditConfig({stopMoveGraph:!0})),s.open()},f.closeSelectionSelect=function(){s.isDefalutStopMoveGraph||f.updateEditConfig({stopMoveGraph:!1}),s.close()}}return v.prototype.render=function(y,s){var f=this;this.__domContainer=s,y.on("blank:mousedown",function(u){var p=u.e,d=y.getEditConfig();if(!(!d.stopMoveGraph||f.__disabled)){var b=y.getPointByClient(p.clientX,p.clientY).domOverlayPosition,x=b.x,E=b.y;f.startPoint={x,y:E},f.endPoint={x,y:E};var S=document.createElement("div");S.className="lf-selection-select",S.style.top=f.startPoint.y+"px",S.style.left=f.startPoint.x+"px",s.appendChild(S),f.wrapper=S,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}})},v.prototype.open=function(){this.__disabled=!1},v.prototype.close=function(){this.__disabled=!0},v.pluginName="selection-select",v}();globalThis&&globalThis.__values;var Vv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Ni=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),u,p=[],d;try{for(;(y===void 0||y-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){d={error:b}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p};(function(v){Vv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getEdge=function(){for(var s=this.getAttributes(),f=s.points,u=s.strokeWidth,p=s.stroke,d=s.strokeDashArray,b=f.split(" ").map(function(ee){return ee.split(",").map(function(re){return Number(re)})}),x=Ni(b[0],2),E=x[0],S=x[1],A="M"+E+" "+S,P=5,O=1;O<b.length-1;O++){var L=Ni(b[O-1],2),W=L[0],Y=L[1],X=Ni(b[O],2),H=X[0],I=X[1],F=Ni(b[O+1],2),V=F[0],N=F[1];if(H===W&&I!==Y){var C=I>Y?I-P:I+P;A=A+" L "+H+" "+C}if(I===Y&&H!==W){var R=H>W?H-P:H+P;A=A+" L "+R+" "+I}if(A=A+" Q "+H+" "+I,H===V&&I!==N){var C=I>N?I-P:I+P;A=A+" "+H+" "+C}if(I===N&&H!==V){var R=H>V?H-P:H+P;A=A+" "+R+" "+I}}var B=Ni(b[b.length-1],2),z=B[0],Z=B[1];return A=A+" L "+z+" "+Z,je.exports.h("path",{d:A,strokeWidth:u,stroke:p,fill:"none",strokeDashArray:d})},y.extendKey="CurvedEdge",y})(je.exports.PolylineEdge);(function(v){Vv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y})(je.exports.PolylineEdgeModel);var Yv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),H1=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),u,p=[],d;try{for(;(y===void 0||y-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){d={error:b}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},X1=globalThis&&globalThis.__spread||function(){for(var v=[],y=0;y<arguments.length;y++)v=v.concat(H1(arguments[y]));return v};(function(v){Yv(y,v);function y(){var s=v!==null&&v.apply(this,arguments)||this;return s.isGroup=!0,s.children=new Set,s.isRestrict=!0,s}return y.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},y.prototype.setIsRestrict=function(s){this.isRestrict=s},y.prototype.isInRange=function(s){var f=s.x1,u=s.y1,p=s.x2,d=s.y2;return f>=this.x-this.width/2&&p<=this.x+this.width/2&&u>=this.y-this.height/2&&d<=this.y+this.height/2},y.prototype.setAllowAppendChild=function(s){s?this.stroke="red":this.stroke="rgb(24, 125, 255)"},y.prototype.addChild=function(s){this.children.add(s)},y.prototype.removeChild=function(s){this.children.delete(s)},y.prototype.getData=function(){var s=v.prototype.getData.call(this);return s.children=X1(this.children),s},y})(je.exports.RectNodeModel);(function(v){Yv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.toFront=function(){},y.prototype.getShapeStyle=function(){var s=v.prototype.getShapeStyle.call(this);return s.radius=0,s},y})(je.exports.RectNode);var W1=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),u,p=[],d;try{for(;(y===void 0||y-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){d={error:b}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;var Ss,pt,Kv,Ci,$v,Zv,qv={},Jv=[],V1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function jr(v,y){for(var s in y)v[s]=y[s];return v}function Qv(v){var y=v.parentNode;y&&y.removeChild(v)}function Ri(v,y,s){var f,u,p,d={};for(p in y)p=="key"?f=y[p]:p=="ref"?u=y[p]:d[p]=y[p];if(arguments.length>2&&(d.children=arguments.length>3?Ss.call(arguments,2):s),typeof v=="function"&&v.defaultProps!=null)for(p in v.defaultProps)d[p]===void 0&&(d[p]=v.defaultProps[p]);return ou(v,d,f,u,null)}function ou(v,y,s,f,u){var p={type:v,props:y,key:s,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:u==null?++Kv:u};return u==null&&pt.vnode!=null&&pt.vnode(p),p}function js(v){return v.children}function Ro(v,y){this.props=v,this.context=y}function Io(v,y){if(y==null)return v.__?Io(v.__,v.__.__k.indexOf(v)+1):null;for(var s;y<v.__k.length;y++)if((s=v.__k[y])!=null&&s.__e!=null)return s.__e;return typeof v.type=="function"?Io(v):null}function eg(v){var y,s;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,y=0;y<v.__k.length;y++)if((s=v.__k[y])!=null&&s.__e!=null){v.__e=v.__c.base=s.__e;break}return eg(v)}}function tg(v){(!v.__d&&(v.__d=!0)&&Ci.push(v)&&!iu.__r++||Zv!==pt.debounceRendering)&&((Zv=pt.debounceRendering)||$v)(iu)}function iu(){for(var v;iu.__r=Ci.length;)v=Ci.sort(function(y,s){return y.__v.__b-s.__v.__b}),Ci=[],v.some(function(y){var s,f,u,p,d,b;y.__d&&(d=(p=(s=y).__v).__e,(b=s.__P)&&(f=[],(u=jr({},p)).__v=p.__v+1,cg(b,p,u,s.__n,b.ownerSVGElement!==void 0,p.__h!=null?[d]:null,f,d==null?Io(p):d,p.__h),K1(f,p),p.__e!=d&&eg(p)))})}function ng(v,y,s,f,u,p,d,b,x,E){var S,A,P,O,L,W,Y,X=f&&f.__k||Jv,H=X.length;for(s.__k=[],S=0;S<y.length;S++)if((O=s.__k[S]=(O=y[S])==null||typeof O=="boolean"?null:typeof O=="string"||typeof O=="number"||typeof O=="bigint"?ou(null,O,null,null,O):Array.isArray(O)?ou(js,{children:O},null,null,null):O.__b>0?ou(O.type,O.props,O.key,null,O.__v):O)!=null){if(O.__=s,O.__b=s.__b+1,(P=X[S])===null||P&&O.key==P.key&&O.type===P.type)X[S]=void 0;else for(A=0;A<H;A++){if((P=X[A])&&O.key==P.key&&O.type===P.type){X[A]=void 0;break}P=null}cg(v,O,P=P||qv,u,p,d,b,x,E),L=O.__e,(A=O.ref)&&P.ref!=A&&(Y||(Y=[]),P.ref&&Y.push(P.ref,null,O),Y.push(A,O.__c||L,O)),L!=null?(W==null&&(W=L),typeof O.type=="function"&&O.__k===P.__k?O.__d=x=rg(O,x,v):x=og(v,O,P,X,L,x),typeof s.type=="function"&&(s.__d=x)):x&&P.__e==x&&x.parentNode!=v&&(x=Io(P))}for(s.__e=W,S=H;S--;)X[S]!=null&&(typeof s.type=="function"&&X[S].__e!=null&&X[S].__e==s.__d&&(s.__d=Io(f,S+1)),lg(X[S],X[S]));if(Y)for(S=0;S<Y.length;S++)sg(Y[S],Y[++S],Y[++S])}function rg(v,y,s){for(var f,u=v.__k,p=0;u&&p<u.length;p++)(f=u[p])&&(f.__=v,y=typeof f.type=="function"?rg(f,y,s):og(s,f,f,u,f.__e,y));return y}function og(v,y,s,f,u,p){var d,b,x;if(y.__d!==void 0)d=y.__d,y.__d=void 0;else if(s==null||u!=p||u.parentNode==null)e:if(p==null||p.parentNode!==v)v.appendChild(u),d=null;else{for(b=p,x=0;(b=b.nextSibling)&&x<f.length;x+=2)if(b==u)break e;v.insertBefore(u,p),d=p}return d!==void 0?d:u.nextSibling}function Y1(v,y,s,f,u){var p;for(p in s)p==="children"||p==="key"||p in y||au(v,p,null,s[p],f);for(p in y)u&&typeof y[p]!="function"||p==="children"||p==="key"||p==="value"||p==="checked"||s[p]===y[p]||au(v,p,y[p],s[p],f)}function ig(v,y,s){y[0]==="-"?v.setProperty(y,s):v[y]=s==null?"":typeof s!="number"||V1.test(y)?s:s+"px"}function au(v,y,s,f,u){var p;e:if(y==="style")if(typeof s=="string")v.style.cssText=s;else{if(typeof f=="string"&&(v.style.cssText=f=""),f)for(y in f)s&&y in s||ig(v.style,y,"");if(s)for(y in s)f&&s[y]===f[y]||ig(v.style,y,s[y])}else if(y[0]==="o"&&y[1]==="n")p=y!==(y=y.replace(/Capture$/,"")),y=y.toLowerCase()in v?y.toLowerCase().slice(2):y.slice(2),v.l||(v.l={}),v.l[y+p]=s,s?f||v.addEventListener(y,p?ug:ag,p):v.removeEventListener(y,p?ug:ag,p);else if(y!=="dangerouslySetInnerHTML"){if(u)y=y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(y!=="href"&&y!=="list"&&y!=="form"&&y!=="tabIndex"&&y!=="download"&&y in v)try{v[y]=s==null?"":s;break e}catch(d){}typeof s=="function"||(s!=null&&(s!==!1||y[0]==="a"&&y[1]==="r")?v.setAttribute(y,s):v.removeAttribute(y))}}function ag(v){this.l[v.type+!1](pt.event?pt.event(v):v)}function ug(v){this.l[v.type+!0](pt.event?pt.event(v):v)}function cg(v,y,s,f,u,p,d,b,x){var E,S,A,P,O,L,W,Y,X,H,I,F=y.type;if(y.constructor!==void 0)return null;s.__h!=null&&(x=s.__h,b=y.__e=s.__e,y.__h=null,p=[b]),(E=pt.__b)&&E(y);try{e:if(typeof F=="function"){if(Y=y.props,X=(E=F.contextType)&&f[E.__c],H=E?X?X.props.value:E.__:f,s.__c?W=(S=y.__c=s.__c).__=S.__E:("prototype"in F&&F.prototype.render?y.__c=S=new F(Y,H):(y.__c=S=new Ro(Y,H),S.constructor=F,S.render=Z1),X&&X.sub(S),S.props=Y,S.state||(S.state={}),S.context=H,S.__n=f,A=S.__d=!0,S.__h=[]),S.__s==null&&(S.__s=S.state),F.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=jr({},S.__s)),jr(S.__s,F.getDerivedStateFromProps(Y,S.__s))),P=S.props,O=S.state,A)F.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(F.getDerivedStateFromProps==null&&Y!==P&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(Y,H),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(Y,S.__s,H)===!1||y.__v===s.__v){S.props=Y,S.state=S.__s,y.__v!==s.__v&&(S.__d=!1),S.__v=y,y.__e=s.__e,y.__k=s.__k,y.__k.forEach(function(V){V&&(V.__=y)}),S.__h.length&&d.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(Y,S.__s,H),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(P,O,L)})}S.context=H,S.props=Y,S.state=S.__s,(E=pt.__r)&&E(y),S.__d=!1,S.__v=y,S.__P=v,E=S.render(S.props,S.state,S.context),S.state=S.__s,S.getChildContext!=null&&(f=jr(jr({},f),S.getChildContext())),A||S.getSnapshotBeforeUpdate==null||(L=S.getSnapshotBeforeUpdate(P,O)),I=E!=null&&E.type===js&&E.key==null?E.props.children:E,ng(v,Array.isArray(I)?I:[I],y,s,f,u,p,d,b,x),S.base=y.__e,y.__h=null,S.__h.length&&d.push(S),W&&(S.__E=S.__=null),S.__e=!1}else p==null&&y.__v===s.__v?(y.__k=s.__k,y.__e=s.__e):y.__e=$1(s.__e,y,s,f,u,p,d,x);(E=pt.diffed)&&E(y)}catch(V){y.__v=null,(x||p!=null)&&(y.__e=b,y.__h=!!x,p[p.indexOf(b)]=null),pt.__e(V,y,s)}}function K1(v,y){pt.__c&&pt.__c(y,v),v.some(function(s){try{v=s.__h,s.__h=[],v.some(function(f){f.call(s)})}catch(f){pt.__e(f,s.__v)}})}function $1(v,y,s,f,u,p,d,b){var x,E,S,A=s.props,P=y.props,O=y.type,L=0;if(O==="svg"&&(u=!0),p!=null){for(;L<p.length;L++)if((x=p[L])&&(x===v||(O?x.localName==O:x.nodeType==3))){v=x,p[L]=null;break}}if(v==null){if(O===null)return document.createTextNode(P);v=u?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O,P.is&&P),p=null,b=!1}if(O===null)A===P||b&&v.data===P||(v.data=P);else{if(p=p&&Ss.call(v.childNodes),E=(A=s.props||qv).dangerouslySetInnerHTML,S=P.dangerouslySetInnerHTML,!b){if(p!=null)for(A={},L=0;L<v.attributes.length;L++)A[v.attributes[L].name]=v.attributes[L].value;(S||E)&&(S&&(E&&S.__html==E.__html||S.__html===v.innerHTML)||(v.innerHTML=S&&S.__html||""))}if(Y1(v,P,A,u,b),S)y.__k=[];else if(L=y.props.children,ng(v,Array.isArray(L)?L:[L],y,s,f,u&&O!=="foreignObject",p,d,p?p[0]:s.__k&&Io(s,0),b),p!=null)for(L=p.length;L--;)p[L]!=null&&Qv(p[L]);b||("value"in P&&(L=P.value)!==void 0&&(L!==v.value||O==="progress"&&!L)&&au(v,"value",L,A.value,!1),"checked"in P&&(L=P.checked)!==void 0&&L!==v.checked&&au(v,"checked",L,A.checked,!1))}return v}function sg(v,y,s){try{typeof v=="function"?v(y):v.current=y}catch(f){pt.__e(f,s)}}function lg(v,y,s){var f,u;if(pt.unmount&&pt.unmount(v),(f=v.ref)&&(f.current&&f.current!==v.__e||sg(f,null,y)),(f=v.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(p){pt.__e(p,y)}f.base=f.__P=null}if(f=v.__k)for(u=0;u<f.length;u++)f[u]&&lg(f[u],y,typeof v.type!="function");s||v.__e==null||Qv(v.__e),v.__e=v.__d=void 0}function Z1(v,y,s){return this.constructor(v,s)}Ss=Jv.slice,pt={__e:function(v,y){for(var s,f,u;y=y.__;)if((s=y.__c)&&!s.__)try{if((f=s.constructor)&&f.getDerivedStateFromError!=null&&(s.setState(f.getDerivedStateFromError(v)),u=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(v),u=s.__d),u)return s.__E=s}catch(p){v=p}throw v}},Kv=0,Ro.prototype.setState=function(v,y){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=jr({},this.state),typeof v=="function"&&(v=v(jr({},s),this.props)),v&&jr(s,v),v!=null&&this.__v&&(y&&this.__h.push(y),tg(this))},Ro.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),tg(this))},Ro.prototype.render=js,Ci=[],$v=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,iu.__r=0;var Ii=globalThis&&globalThis.__assign||function(){return Ii=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},Ii.apply(this,arguments)};function Ps(v){var y=v.x,s=v.y,f=v.width,u=v.height,p=v.radius,d=v.className,b=y-f/2,x=s-u/2,E=Ii(Ii({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},v),{x:b,y:x});return je.exports.h("rect",Ii({},E))}Ps.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Li;(function(v){v.NODE="node",v.CIRCLE_NODE="circle-node",v.POLYGON_NODE="polygon-node",v.RECT_NODE="rect-node",v.TEXT_NODE="text-node",v.ELLIPSE_NODE="ellipse-node",v.DIAMOND_NODE="diamond-node",v.EDGE="edge",v.LINE_EDGE="line-edge",v.POLYLINE_EDGE="polyline-edge",v.BEZIER_EDGE="bezier-edge",v.GRAPH="graph"})(Li||(Li={}));function uu(v){var y=v.x,s=v.y,f=v.width,u=v.height;return{minX:y-f/2,minY:s-u/2,maxX:y+f/2,maxY:s+u/2}}function fg(v){var y=uu(v),s=v.radius,f=y.minX,u=y.minY,p=y.maxX,d=y.maxY;return[{x:f+s,y:u+s},{x:p-s,y:u+s},{x:p-s,y:d-s},{x:f+s,y:d-s}]}function pg(v){var y=v.point,s=v.beforeNode,f=v.afterNode,u=y.x,p=y.y,d={x:u,y:p},b=s.radius,x=uu(s),E=uu(f);if(u===x.minX){d.x=E.minX;var S=(p-s.y)/(s.height/2-b);S?d.y=f.y+(f.height/2-b)*S:d.y=f.y}else if(u===x.maxX){d.x=E.maxX;var S=(p-s.y)/(s.height/2-b);S?d.y=f.y+(f.height/2-b)*S:d.y=f.y}else if(p===x.minY){d.y=E.minY;var S=(u-s.x)/(s.width/2-b);S?d.x=f.x+(f.width/2-b)*S:d.x=f.x}else if(p===x.maxY){d.y=E.maxY;var S=(u-s.x)/(s.width/2-b);S?d.x=f.x+(f.width/2-b)*S:d.x=f.x}else{var A=fg(s),P=fg(f),O=uu(s),L=O.minX,W=O.minY,Y=O.maxX,X=O.maxY,H=-1;if(u-L<b&&p-W<b?H=0:Y-u<b&&p-W<b?H=1:Y-u<b&&X-p<b?H=2:u-L<b&&W-p<b&&(H=3),H>-1){var I=Math.atan2(p-A[H].y,u-A[H].x);d.x=P[H].x+b*Math.cos(I),d.y=P[H].y+b*Math.sin(I)}}return d}function hg(v){var y=v.point,s=v.beforeNode,f=v.afterNode,u=f.rx,p=f.ry,d=y,b=(y.y-s.y)/(y.x-s.x),x=u,E=p,S,A;return b>=1/0?(S=0,A=E):b<=-1/0?(S=0,A=-E):y.x-s.x>0?(S=x*E/Math.sqrt(E*E+x*x*b*b),A=x*E*b/Math.sqrt(E*E+x*x*b*b)):(S=-(x*E)/Math.sqrt(E*E+x*x*b*b),A=-(x*E*b)/Math.sqrt(E*E+x*x*b*b)),d={x:S+f.x,y:A+f.y},d}function dg(v){var y=v.point,s=v.beforeNode,f=v.afterNode,u=y,p,d,b=y.x-s.x,x=y.y-s.y,E=s.rx,S=s.ry,A=Math.sqrt((E-Math.abs(b))*(E-Math.abs(b))+x*x)/Math.sqrt(E*E+S*S),P=f.rx,O=f.ry,L=Math.sqrt((P*P+O*O)*A*A*(P*P/(P*P+O*O))),W=L*(O/P);return b>=0?p=P-L:p=L-P,x>0?d=W:d=-W,u={x:p+f.x,y:d+f.y},u}var q1=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),qr=globalThis&&globalThis.__assign||function(){return qr=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},qr.apply(this,arguments)},J1=je.exports.LogicFlowUtil.createDrag,Q1=function(v){q1(y,v);function y(s){var f=v.call(this)||this;f.updatePosition=function(d){var b=d.deltaX,x=d.deltaY,E=f.nodeModel,S=E.x,A=E.y;f.nodeModel.x=S+b/2,f.nodeModel.y=A+x/2,f.nodeModel.moveText(b/2,x/2)},f.getResize=function(d){var b=d.index,x=d.deltaX,E=d.deltaY,S=d.width,A=d.height,P=d.pct,O=P===void 0?1:P,L={width:S,height:A};switch(b){case 0:L.width=S-x*O,L.height=A-E*O;break;case 1:L.width=S+x*O,L.height=A-E*O;break;case 2:L.width=S+x,L.height=A+E*O;break;case 3:L.width=S-x*O,L.height=A+E*O;break}return L},f.updateRect=function(d){var b=d.deltaX,x=d.deltaY,E=f.nodeModel,S=E.id,A=E.x,P=E.y,O=E.width,L=E.height,W=E.radius,Y=f.index,X=f.getResize({index:Y,deltaX:b,deltaY:x,width:O,height:L,pct:1}),H=f.nodeModel,I=H.minWidth,F=H.minHeight,V=H.maxWidth,N=H.maxHeight;if(!(X.width<I||X.width>V||X.height<F||X.height>N)){f.updatePosition({deltaX:b,deltaY:x}),f.nodeModel.width=X.width,f.nodeModel.height=X.height,f.nodeModel.setProperties({nodeSize:{width:X.width,height:X.height}});var C=f.getNodeEdges(S),R={x:A,y:P,width:O,height:L,radius:W},B={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:W},z={point:"",beforeNode:R,afterNode:B},Z;C.sourceEdges.forEach(function(ee){z.point=ee.startPoint,Z=pg(z),ee.updateStartPoint(Z)}),C.targetEdges.forEach(function(ee){z.point=ee.endPoint,Z=pg(z),ee.updateEndPoint(Z)}),f.eventEmit({beforeNode:R,afterNode:B})}},f.updateEllipse=function(d){var b=d.deltaX,x=d.deltaY,E=f.nodeModel,S=E.id,A=E.rx,P=E.ry,O=E.x,L=E.y,W=f.index,Y=A,X=P,H=f.getResize({index:W,deltaX:b,deltaY:x,width:Y,height:X,pct:1/2}),I=f.nodeModel,F=I.minWidth,V=I.minHeight,N=I.maxWidth,C=I.maxHeight;if(!(H.width<F/2||H.width>N/2||H.height<V/2||H.height>C/2)){f.updatePosition({deltaX:b,deltaY:x}),f.nodeModel.rx=H.width,f.nodeModel.ry=H.height,f.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}});var R=f.getNodeEdges(S),B={x:O,y:L},z={rx:H.width,ry:H.height,x:f.nodeModel.x,y:f.nodeModel.y},Z={point:{},beforeNode:B,afterNode:z},ee;R.sourceEdges.forEach(function(re){Z.point=re.startPoint,ee=hg(Z),re.updateStartPoint(ee)}),R.targetEdges.forEach(function(re){Z.point=re.endPoint,ee=hg(Z),re.updateEndPoint(ee)}),f.eventEmit({beforeNode:qr(qr({},B),{rx:A,ry:P}),afterNode:z})}},f.updateDiamond=function(d){var b=d.deltaX,x=d.deltaY,E=f.nodeModel,S=E.id,A=E.rx,P=E.ry,O=E.x,L=E.y,W=f.index,Y=A,X=P,H=f.getResize({index:W,deltaX:b,deltaY:x,width:Y,height:X,pct:1/2}),I=Rs.sizeRange.ellipse,F=I.minRx,V=I.minRy,N=I.maxRx,C=I.maxRy;if(!(H.width<F||H.width>N||H.height<V||H.height>C)){f.updatePosition({deltaX:b,deltaY:x}),f.nodeModel.rx=H.width,f.nodeModel.ry=H.height,f.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}});var R={x:O,y:L,rx:A,ry:P},B={rx:H.width,ry:H.height,x:f.nodeModel.x,y:f.nodeModel.y},z={point:{},beforeNode:R,afterNode:B},Z,ee=f.getNodeEdges(S);ee.sourceEdges.forEach(function(re){z.point=re.startPoint,Z=dg(z),re.updateStartPoint(Z)}),ee.targetEdges.forEach(function(re){z.point=re.endPoint,Z=dg(z),re.updateEndPoint(Z)}),f.eventEmit({beforeNode:R,afterNode:B})}},f.eventEmit=function(d){var b=d.beforeNode,x=d.afterNode,E=f.nodeModel,S=E.id,A=E.modelType,P=E.type,O=qr({id:S,modelType:A,type:P},b),L=qr({id:S,modelType:A,type:P},x);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:O,newNodeSize:L})},f.onDraging=function(d){var b=d.deltaX,x=d.deltaY,E=f.nodeModel.modelType;E===Li.RECT_NODE?f.updateRect({deltaX:b,deltaY:x}):E===Li.ELLIPSE_NODE?f.updateEllipse({deltaX:b,deltaY:x}):E===Li.DIAMOND_NODE&&f.updateDiamond({deltaX:b,deltaY:x})},f.index=s.index,f.nodeModel=s.nodeModel,f.graphModel=s.graphModel;var u=f.graphModel.gridSize,p=2;return u>1&&(p=2*u),f.state={},f.dragHandler=J1({onDraging:f.onDraging,step:p}),f}return y.prototype.getNodeEdges=function(s){for(var f=this.graphModel,u=f.edges,p=[],d=[],b=0;b<u.length;b++){var x=u[b];x.sourceNodeId===s?p.push(x):u[b].targetNodeId===s&&d.push(x)}return{sourceEdges:p,targetEdges:d}},y.prototype.render=function(){var s=this.props,f=s.x,u=s.y,p=s.style,d=s.index,b=Rs.style.controlPoint,x=b.width,E=b.height,S=b.fill,A=b.stroke;return Ri("g",{className:"lf-resize-control-"+d},Ri(Ps,qr({className:"lf-node-control"},{x:f,y:u},p,{width:x,height:E,fill:S,stroke:A,onMouseDown:this.dragHandler})))},y}(Ro),ex=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),As=globalThis&&globalThis.__assign||function(){return As=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},As.apply(this,arguments)},ks=function(v){ex(y,v);function y(){var s=v.call(this)||this;return s.state={},s}return y.prototype.getResizeControl=function(){var s=this.props,f=s.x,u=s.y,p=s.width,d=s.height,b=s.nodeModel,x=s.graphModel,E={minX:f-p/2,minY:u-d/2,maxX:f+p/2,maxY:u+d/2},S=E.minX,A=E.minY,P=E.maxX,O=E.maxY,L=[{x:S,y:A},{x:P,y:A},{x:P,y:O},{x:S,y:O}];return L.map(function(W,Y){return Ri(Q1,As({index:Y},W,{nodeModel:b,graphModel:x}))})},y.prototype.getGroupSolid=function(){var s=this.props,f=s.x,u=s.y,p=s.width,d=s.height,b=Rs.style.outline,x=b.stroke,E=b.strokeWidth,S=b.strokeDasharray;return Ri(Ps,{fill:"none",x:f,y:u,width:p,height:d,stroke:x,strokeWidth:E,strokeDasharray:S})},y.prototype.render=function(){return Ri("g",{className:"lf-resize-control"},this.getResizeControl())},y}(Ro),yg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Ts=globalThis&&globalThis.__assign||function(){return Ts=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},Ts.apply(this,arguments)},tx=function(v){yg(y,v);function y(){var s=v!==null&&v.apply(this,arguments)||this;return s.minWidth=30,s.minHeight=30,s.maxWidth=2e3,s.maxHeight=2e3,s}return y.prototype.setAttributes=function(){var s=this.properties.nodeSize;s&&(this.width=s.width,this.height=s.height)},y}(je.exports.RectNodeModel),nx=function(v){yg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(s){var f=this.props,u=f.model,p=f.graphModel;return je.exports.h(ks,Ts({},s,{nodeModel:u,graphModel:p}))},y.prototype.getShape=function(){var s=v.prototype.getAttributes.call(this),f=this.props.model.isSelected;return je.exports.h("g",null,v.prototype.getShape.call(this),f?this.getControlGroup(s):"")},y}(je.exports.RectNode),Ds={type:"rect",view:nx,model:tx},cu=globalThis&&globalThis.__assign||function(){return cu=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},cu.apply(this,arguments)};function rx(v){var y=v.x,s=y===void 0?0:y,f=v.y,u=f===void 0?0:f,p=v.rx,d=p===void 0?4:p,b=v.ry,x=b===void 0?4:b,E=cu({cx:s,cy:u,rx:d,ry:x,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},v);return je.exports.h("ellipse",cu({},E))}var vg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),su=globalThis&&globalThis.__assign||function(){return su=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},su.apply(this,arguments)},ox=function(v){vg(y,v);function y(){var s=v!==null&&v.apply(this,arguments)||this;return s.minWidth=30,s.minHeight=30,s.maxWidth=2e3,s.maxHeight=2e3,s}return y.prototype.setAttributes=function(){var s=this.properties.nodeSize;s&&(this.rx=s.rx,this.ry=s.ry)},y}(je.exports.EllipseNodeModel),ix=function(v){vg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(s){var f=this.props,u=f.model,p=f.graphModel;return je.exports.h(ks,su({},s,{nodeModel:u,graphModel:p}))},y.prototype.getResizeShape=function(s){return je.exports.h("g",null,je.exports.h(rx,su({},s)))},y.prototype.getShape=function(){var s=v.prototype.getAttributes.call(this),f=this.props.model.isSelected;return je.exports.h("g",null,this.getResizeShape(s),f?this.getControlGroup(s):"")},y}(je.exports.EllipseNode),Ms={type:"ellipse",view:ix,model:ox},Ns=globalThis&&globalThis.__assign||function(){return Ns=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},Ns.apply(this,arguments)};function ax(v){var y=v.fillOpacity,s=y===void 0?1:y,f=v.strokeWidth,u=f===void 0?1:f,p=v.strokeOpacity,d=p===void 0?1:p,b=v.fill,x=b===void 0?"transparent":b,E=v.stroke,S=E===void 0?"#000":E,A=v.points,P=v.className,O=P===void 0?"lf-basic-shape":P,L={fill:x,fillOpacity:s,strokeWidth:u,stroke:S,strokeOpacity:d,points:"",className:O};return L.points=A.map(function(W){return W.join(",")}).join(" "),je.exports.h("polygon",Ns({},L))}var gg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},v(y,s)};return function(y,s){v(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),lu=globalThis&&globalThis.__assign||function(){return lu=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},lu.apply(this,arguments)},ux=function(v){gg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.setAttributes=function(){var s=this.properties.nodeSize;s&&(this.rx=s.rx,this.ry=s.ry)},y}(je.exports.DiamondNodeModel),cx=function(v){gg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(s){var f=this.props,u=f.model,p=f.graphModel;return je.exports.h(ks,lu({},s,{nodeModel:u,graphModel:p}))},y.prototype.getResizeShape=function(s){return je.exports.h("g",null,je.exports.h(ax,lu({},s)))},y.prototype.getShape=function(){var s=v.prototype.getAttributes.call(this),f=this.props.model.isSelected;return je.exports.h("g",null,this.getResizeShape(s),f?this.getControlGroup(s):"")},y}(je.exports.DiamondNode),Cs={type:"diamond",view:cx,model:ux},sx={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(v){v.setTheme({rect:{strokeWidth:2,outlineColor:"transparent"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),v.register({type:Ds.type,view:Ds.view,model:Ds.model}),v.register({type:Ms.type,view:Ms.view,model:Ms.model}),v.register({type:Cs.type,view:Cs.view,model:Cs.model})}},Rs=sx,lx=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var f=s.call(v),u,p=[],d;try{for(;(y===void 0||y-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){d={error:b}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;var bg=globalThis&&globalThis.__assign||function(){return bg=Object.assign||function(v){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(v[u]=y[u])}return v},bg.apply(this,arguments)};const fx={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function px(v){const{incoming:y,outgoing:s,properties:f,key:u}=v,{text:p,startPoint:d,endPoint:b,pointsList:x,logicFlowType:E}=f,S={id:u,type:E,sourceNodeId:y[0],targetNodeId:s[0],text:p,startPoint:d,endPoint:b,pointsList:x,properties:{}},A=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(v.properties).forEach(P=>{A.indexOf(P)===-1&&(S.properties[P]=v.properties[P])}),S}function hx(v){const{properties:y,key:s}=v,{x:f,y:u,text:p,logicFlowType:d}=y,b={id:s,type:d,x:f,y:u,text:p,properties:{}},x=["x","y","text","logicFlowType"];return Object.keys(v.properties).forEach(E=>{x.indexOf(E)===-1&&(b.properties[E]=v.properties[E])}),b}function dx(v){const y={nodes:[],edges:[]},s=v.flowElementList;return s&&s.length>0&&s.forEach(f=>{if(f.type===fx.SEQUENCE_FLOW){const u=px(f);y.edges.push(u)}else{const u=hx(f);y.nodes.push(u)}}),y}function yx(v){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{v.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const vx=wv({name:"FlowChart",components:{BasicModal:Jw,FlowChartToolbar:u1,JsonPreview:e1},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(v){const y=eu(null),s=eu({}),f=eu(null),{prefixCls:u}=Rw("flow-chart"),p=Iw(),[d,{openModal:b}]=Qw();n1({logicFlow:f});const x=$w(()=>{const{flowOptions:P}=v;return gs({grid:!0,background:{color:p.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},P)});Ev(()=>v.data,()=>{S()}),Ev(()=>Bt(x),P=>{var O;(O=Bt(f))==null||O.updateEditConfig(P)});function E(){return Qa(this,null,function*(){yield ms();const P=Bt(y);if(!P)return;No.use(U1),No.use(k1),No.use(A1),No.use(F1),No.use(G1),f.value=new No(Ov(gs({},Bt(x)),{container:P}));const O=Bt(f);O==null||O.setDefaultEdgeType("line"),S(),O==null||O.setPatternItems(v.patternItems||yx(O))})}function S(){return Qa(this,null,function*(){yield ms();const P=Bt(f);if(!P)return;const O=dx(v.data);P.render(O)})}function A(){const P=Bt(f);!P||(s.value=Bt(P).getGraphData(),b())}return Zw(E),{register:d,prefixCls:u,lfElRef:y,handlePreview:A,graphData:s}}}),gx={ref:"lfElRef",class:"h-full"};function bx(v,y,s,f,u,p){const d=Er("FlowChartToolbar"),b=Er("JsonPreview"),x=Er("BasicModal");return Sr(),Ai("div",{class:nu(["h-full",v.prefixCls])},[v.toolbar?(Sr(),Os(d,{key:0,prefixCls:v.prefixCls,onViewData:v.handlePreview},null,8,["prefixCls","onViewData"])):_s("",!0),qw("div",gx,null,512),ki(x,{onRegister:v.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:tu(()=>[ki(b,{data:v.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var mx=bs(vx,[["render",bx]]);const _x=Lw(mx),Ox=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var wx={flowElementList:Ox};const xx={components:{FlowChart:_x,PageWrapper:t1},setup(){return{demoData:wx}}};function Ex(v,y,s,f,u,p){const d=Er("FlowChart"),b=Er("PageWrapper");return Sr(),Os(b,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:tu(()=>[ki(d,{data:f.demoData},null,8,["data"])]),_:1})}var Lx=bs(xx,[["render",Ex]]);export{Lx as default};
